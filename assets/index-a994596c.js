function Gk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var at=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xw={exports:{}},Xf={},Lw={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ql=Symbol.for("react.element"),Kk=Symbol.for("react.portal"),Qk=Symbol.for("react.fragment"),Xk=Symbol.for("react.strict_mode"),Yk=Symbol.for("react.profiler"),Jk=Symbol.for("react.provider"),Zk=Symbol.for("react.context"),eR=Symbol.for("react.forward_ref"),tR=Symbol.for("react.suspense"),nR=Symbol.for("react.memo"),rR=Symbol.for("react.lazy"),v1=Symbol.iterator;function iR(t){return t===null||typeof t!="object"?null:(t=v1&&t[v1]||t["@@iterator"],typeof t=="function"?t:null)}var Mw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dw=Object.assign,Vw={};function qo(t,e,n){this.props=t,this.context=e,this.refs=Vw,this.updater=n||Mw}qo.prototype.isReactComponent={};qo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Fw(){}Fw.prototype=qo.prototype;function Ag(t,e,n){this.props=t,this.context=e,this.refs=Vw,this.updater=n||Mw}var Ig=Ag.prototype=new Fw;Ig.constructor=Ag;Dw(Ig,qo.prototype);Ig.isPureReactComponent=!0;var y1=Array.isArray,Uw=Object.prototype.hasOwnProperty,bg={current:null},Bw={key:!0,ref:!0,__self:!0,__source:!0};function jw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Uw.call(e,r)&&!Bw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ql,type:t,key:s,ref:o,props:i,_owner:bg.current}}function sR(t,e){return{$$typeof:Ql,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ql}function oR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _1=/\/+/g;function ch(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oR(""+t.key):e.toString(36)}function dc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ql:case Kk:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ch(o,0):r,y1(i)?(n="",t!=null&&(n=t.replace(_1,"$&/")+"/"),dc(i,e,n,"",function(u){return u})):i!=null&&(Cg(i)&&(i=sR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(_1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",y1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ch(s,a);o+=dc(s,e,n,l,i)}else if(l=iR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ch(s,a++),o+=dc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ru(t,e,n){if(t==null)return t;var r=[],i=0;return dc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function aR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},hc={transition:null},lR={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:hc,ReactCurrentOwner:bg};Ae.Children={map:Ru,forEach:function(t,e,n){Ru(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ru(t,function(){e++}),e},toArray:function(t){return Ru(t,function(e){return e})||[]},only:function(t){if(!Cg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=qo;Ae.Fragment=Qk;Ae.Profiler=Yk;Ae.PureComponent=Ag;Ae.StrictMode=Xk;Ae.Suspense=tR;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lR;Ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Dw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=bg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Uw.call(e,l)&&!Bw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ql,type:t.type,key:i,ref:s,props:r,_owner:o}};Ae.createContext=function(t){return t={$$typeof:Zk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Jk,_context:t},t.Consumer=t};Ae.createElement=jw;Ae.createFactory=function(t){var e=jw.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:eR,render:t}};Ae.isValidElement=Cg;Ae.lazy=function(t){return{$$typeof:rR,_payload:{_status:-1,_result:t},_init:aR}};Ae.memo=function(t,e){return{$$typeof:nR,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=hc.transition;hc.transition={};try{t()}finally{hc.transition=e}};Ae.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ae.useCallback=function(t,e){return nn.current.useCallback(t,e)};Ae.useContext=function(t){return nn.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return nn.current.useEffect(t,e)};Ae.useId=function(){return nn.current.useId()};Ae.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return nn.current.useMemo(t,e)};Ae.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};Ae.useRef=function(t){return nn.current.useRef(t)};Ae.useState=function(t){return nn.current.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return nn.current.useTransition()};Ae.version="18.2.0";Lw.exports=Ae;var Y=Lw.exports;const we=Qf(Y),uR=Gk({__proto__:null,default:we},[Y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cR=Y,fR=Symbol.for("react.element"),dR=Symbol.for("react.fragment"),hR=Object.prototype.hasOwnProperty,pR=cR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mR={key:!0,ref:!0,__self:!0,__source:!0};function qw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)hR.call(e,r)&&!mR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:fR,type:t,key:s,ref:o,props:i,_owner:pR.current}}Xf.Fragment=dR;Xf.jsx=qw;Xf.jsxs=qw;xw.exports=Xf;var zw=xw.exports;const M=zw.jsx,G=zw.jsxs;var Ap={},$w={exports:{}},Sn={},Hw={exports:{}},Ww={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,F){var P=$.length;$.push(F);e:for(;0<P;){var N=P-1>>>1,L=$[N];if(0<i(L,F))$[N]=F,$[P]=L,P=N;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var F=$[0],P=$.pop();if(P!==F){$[0]=P;e:for(var N=0,L=$.length,V=L>>>1;N<V;){var z=2*(N+1)-1,j=$[z],x=z+1,U=$[x];if(0>i(j,P))x<L&&0>i(U,j)?($[N]=U,$[x]=P,N=x):($[N]=j,$[z]=P,N=z);else if(x<L&&0>i(U,P))$[N]=U,$[x]=P,N=x;else break e}}return F}function i($,F){var P=$.sortIndex-F.sortIndex;return P!==0?P:$.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,c=null,d=3,p=!1,_=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v($){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=$)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function g($){if(y=!1,v($),!_)if(n(l)!==null)_=!0,B(w);else{var F=n(u);F!==null&&q(g,F.startTime-$)}}function w($,F){_=!1,y&&(y=!1,m(I),I=-1),p=!0;var P=d;try{for(v(F),c=n(l);c!==null&&(!(c.expirationTime>F)||$&&!T());){var N=c.callback;if(typeof N=="function"){c.callback=null,d=c.priorityLevel;var L=N(c.expirationTime<=F);F=t.unstable_now(),typeof L=="function"?c.callback=L:c===n(l)&&r(l),v(F)}else r(l);c=n(l)}if(c!==null)var V=!0;else{var z=n(u);z!==null&&q(g,z.startTime-F),V=!1}return V}finally{c=null,d=P,p=!1}}var A=!1,S=null,I=-1,k=5,C=-1;function T(){return!(t.unstable_now()-C<k)}function b(){if(S!==null){var $=t.unstable_now();C=$;var F=!0;try{F=S(!0,$)}finally{F?R():(A=!1,S=null)}}else A=!1}var R;if(typeof h=="function")R=function(){h(b)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,D=O.port2;O.port1.onmessage=b,R=function(){D.postMessage(null)}}else R=function(){E(b,0)};function B($){S=$,A||(A=!0,R())}function q($,F){I=E(function(){$(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,B(w))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var P=d;d=F;try{return $()}finally{d=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,F){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var P=d;d=$;try{return F()}finally{d=P}},t.unstable_scheduleCallback=function($,F,P){var N=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?N+P:N):P=N,$){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=P+L,$={id:f++,callback:F,priorityLevel:$,startTime:P,expirationTime:L,sortIndex:-1},P>N?($.sortIndex=P,e(u,$),n(l)===null&&$===n(u)&&(y?(m(I),I=-1):y=!0,q(g,P-N))):($.sortIndex=L,e(l,$),_||p||(_=!0,B(w))),$},t.unstable_shouldYield=T,t.unstable_wrapCallback=function($){var F=d;return function(){var P=d;d=F;try{return $.apply(this,arguments)}finally{d=P}}}})(Ww);Hw.exports=Ww;var gR=Hw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw=Y,wn=gR;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kw=new Set,ll={};function ks(t,e){So(t,e),So(t+"Capture",e)}function So(t,e){for(ll[t]=e,t=0;t<e.length;t++)Kw.add(e[t])}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ip=Object.prototype.hasOwnProperty,vR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E1={},w1={};function yR(t){return Ip.call(w1,t)?!0:Ip.call(E1,t)?!1:vR.test(t)?w1[t]=!0:(E1[t]=!0,!1)}function _R(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ER(t,e,n,r){if(e===null||typeof e>"u"||_R(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mt[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mt[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mt[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mt[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mt[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mt[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mt[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mt[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mt[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var kg=/[\-:]([a-z])/g;function Rg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kg,Rg);Mt[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kg,Rg);Mt[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kg,Rg);Mt[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mt[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mt[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ng(t,e,n,r){var i=Mt.hasOwnProperty(e)?Mt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ER(e,n,i,r)&&(n=null),r||i===null?yR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Kr=Gw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nu=Symbol.for("react.element"),$s=Symbol.for("react.portal"),Hs=Symbol.for("react.fragment"),Og=Symbol.for("react.strict_mode"),bp=Symbol.for("react.profiler"),Qw=Symbol.for("react.provider"),Xw=Symbol.for("react.context"),Pg=Symbol.for("react.forward_ref"),Cp=Symbol.for("react.suspense"),kp=Symbol.for("react.suspense_list"),xg=Symbol.for("react.memo"),ti=Symbol.for("react.lazy"),Yw=Symbol.for("react.offscreen"),T1=Symbol.iterator;function pa(t){return t===null||typeof t!="object"?null:(t=T1&&t[T1]||t["@@iterator"],typeof t=="function"?t:null)}var Ze=Object.assign,fh;function Pa(t){if(fh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fh=e&&e[1]||""}return`
`+fh+t}var dh=!1;function hh(t,e){if(!t||dh)return"";dh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{dh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pa(t):""}function wR(t){switch(t.tag){case 5:return Pa(t.type);case 16:return Pa("Lazy");case 13:return Pa("Suspense");case 19:return Pa("SuspenseList");case 0:case 2:case 15:return t=hh(t.type,!1),t;case 11:return t=hh(t.type.render,!1),t;case 1:return t=hh(t.type,!0),t;default:return""}}function Rp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hs:return"Fragment";case $s:return"Portal";case bp:return"Profiler";case Og:return"StrictMode";case Cp:return"Suspense";case kp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Xw:return(t.displayName||"Context")+".Consumer";case Qw:return(t._context.displayName||"Context")+".Provider";case Pg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xg:return e=t.displayName||null,e!==null?e:Rp(t.type)||"Memo";case ti:e=t._payload,t=t._init;try{return Rp(t(e))}catch{}}return null}function TR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rp(e);case 8:return e===Og?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function SR(t){var e=Jw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ou(t){t._valueTracker||(t._valueTracker=SR(t))}function Zw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Jw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Mc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Np(t,e){var n=e.checked;return Ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function S1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Pi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function eT(t,e){e=e.checked,e!=null&&Ng(t,"checked",e,!1)}function Op(t,e){eT(t,e);var n=Pi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pp(t,e.type,Pi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function A1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pp(t,e,n){(e!=="number"||Mc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xa=Array.isArray;function oo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Pi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function I1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(xa(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Pi(n)}}function tT(t,e){var n=Pi(e.value),r=Pi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function b1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pu,rT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pu=Pu||document.createElement("div"),Pu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ul(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var za={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AR=["Webkit","ms","Moz","O"];Object.keys(za).forEach(function(t){AR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),za[e]=za[t]})});function iT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||za.hasOwnProperty(t)&&za[t]?(""+e).trim():e+"px"}function sT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=iT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var IR=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mp(t,e){if(e){if(IR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function Dp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vp=null;function Lg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fp=null,ao=null,lo=null;function C1(t){if(t=Jl(t)){if(typeof Fp!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=td(e),Fp(t.stateNode,t.type,e))}}function oT(t){ao?lo?lo.push(t):lo=[t]:ao=t}function aT(){if(ao){var t=ao,e=lo;if(lo=ao=null,C1(t),e)for(t=0;t<e.length;t++)C1(e[t])}}function lT(t,e){return t(e)}function uT(){}var ph=!1;function cT(t,e,n){if(ph)return t(e,n);ph=!0;try{return lT(t,e,n)}finally{ph=!1,(ao!==null||lo!==null)&&(uT(),aT())}}function cl(t,e){var n=t.stateNode;if(n===null)return null;var r=td(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var Up=!1;if(Dr)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){Up=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{Up=!1}function bR(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var $a=!1,Dc=null,Vc=!1,Bp=null,CR={onError:function(t){$a=!0,Dc=t}};function kR(t,e,n,r,i,s,o,a,l){$a=!1,Dc=null,bR.apply(CR,arguments)}function RR(t,e,n,r,i,s,o,a,l){if(kR.apply(this,arguments),$a){if($a){var u=Dc;$a=!1,Dc=null}else throw Error(ee(198));Vc||(Vc=!0,Bp=u)}}function Rs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function k1(t){if(Rs(t)!==t)throw Error(ee(188))}function NR(t){var e=t.alternate;if(!e){if(e=Rs(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return k1(i),t;if(s===r)return k1(i),e;s=s.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function dT(t){return t=NR(t),t!==null?hT(t):null}function hT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hT(t);if(e!==null)return e;t=t.sibling}return null}var pT=wn.unstable_scheduleCallback,R1=wn.unstable_cancelCallback,OR=wn.unstable_shouldYield,PR=wn.unstable_requestPaint,ot=wn.unstable_now,xR=wn.unstable_getCurrentPriorityLevel,Mg=wn.unstable_ImmediatePriority,mT=wn.unstable_UserBlockingPriority,Fc=wn.unstable_NormalPriority,LR=wn.unstable_LowPriority,gT=wn.unstable_IdlePriority,Yf=null,fr=null;function MR(t){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(Yf,t,void 0,(t.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:FR,DR=Math.log,VR=Math.LN2;function FR(t){return t>>>=0,t===0?32:31-(DR(t)/VR|0)|0}var xu=64,Lu=4194304;function La(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=La(a):(s&=o,s!==0&&(r=La(s)))}else o=n&~i,o!==0?r=La(o):s!==0&&(r=La(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Gn(e),i=1<<n,r|=t[n],e&=~i;return r}function UR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Gn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=UR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function jp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vT(){var t=xu;return xu<<=1,!(xu&4194240)&&(xu=64),t}function mh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gn(e),t[e]=n}function jR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Gn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Dg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Gn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var De=0;function yT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _T,Vg,ET,wT,TT,qp=!1,Mu=[],gi=null,vi=null,yi=null,fl=new Map,dl=new Map,ri=[],qR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N1(t,e){switch(t){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(e.pointerId)}}function ga(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Jl(e),e!==null&&Vg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function zR(t,e,n,r,i){switch(e){case"focusin":return gi=ga(gi,t,e,n,r,i),!0;case"dragenter":return vi=ga(vi,t,e,n,r,i),!0;case"mouseover":return yi=ga(yi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return fl.set(s,ga(fl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,dl.set(s,ga(dl.get(s)||null,t,e,n,r,i)),!0}return!1}function ST(t){var e=Zi(t.target);if(e!==null){var n=Rs(e);if(n!==null){if(e=n.tag,e===13){if(e=fT(n),e!==null){t.blockedOn=e,TT(t.priority,function(){ET(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vp=r,n.target.dispatchEvent(r),Vp=null}else return e=Jl(n),e!==null&&Vg(e),t.blockedOn=n,!1;e.shift()}return!0}function O1(t,e,n){pc(t)&&n.delete(e)}function $R(){qp=!1,gi!==null&&pc(gi)&&(gi=null),vi!==null&&pc(vi)&&(vi=null),yi!==null&&pc(yi)&&(yi=null),fl.forEach(O1),dl.forEach(O1)}function va(t,e){t.blockedOn===e&&(t.blockedOn=null,qp||(qp=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,$R)))}function hl(t){function e(i){return va(i,t)}if(0<Mu.length){va(Mu[0],t);for(var n=1;n<Mu.length;n++){var r=Mu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gi!==null&&va(gi,t),vi!==null&&va(vi,t),yi!==null&&va(yi,t),fl.forEach(e),dl.forEach(e),n=0;n<ri.length;n++)r=ri[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ri.length&&(n=ri[0],n.blockedOn===null);)ST(n),n.blockedOn===null&&ri.shift()}var uo=Kr.ReactCurrentBatchConfig,Bc=!0;function HR(t,e,n,r){var i=De,s=uo.transition;uo.transition=null;try{De=1,Fg(t,e,n,r)}finally{De=i,uo.transition=s}}function WR(t,e,n,r){var i=De,s=uo.transition;uo.transition=null;try{De=4,Fg(t,e,n,r)}finally{De=i,uo.transition=s}}function Fg(t,e,n,r){if(Bc){var i=zp(t,e,n,r);if(i===null)Ih(t,e,r,jc,n),N1(t,r);else if(zR(i,t,e,n,r))r.stopPropagation();else if(N1(t,r),e&4&&-1<qR.indexOf(t)){for(;i!==null;){var s=Jl(i);if(s!==null&&_T(s),s=zp(t,e,n,r),s===null&&Ih(t,e,r,jc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ih(t,e,r,null,n)}}var jc=null;function zp(t,e,n,r){if(jc=null,t=Lg(r),t=Zi(t),t!==null)if(e=Rs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jc=t,null}function AT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xR()){case Mg:return 1;case mT:return 4;case Fc:case LR:return 16;case gT:return 536870912;default:return 16}default:return 16}}var ci=null,Ug=null,mc=null;function IT(){if(mc)return mc;var t,e=Ug,n=e.length,r,i="value"in ci?ci.value:ci.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return mc=i.slice(t,1<r?1-r:void 0)}function gc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Du(){return!0}function P1(){return!1}function An(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Du:P1,this.isPropagationStopped=P1,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),e}var zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bg=An(zo),Yl=Ze({},zo,{view:0,detail:0}),GR=An(Yl),gh,vh,ya,Jf=Ze({},Yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ya&&(ya&&t.type==="mousemove"?(gh=t.screenX-ya.screenX,vh=t.screenY-ya.screenY):vh=gh=0,ya=t),gh)},movementY:function(t){return"movementY"in t?t.movementY:vh}}),x1=An(Jf),KR=Ze({},Jf,{dataTransfer:0}),QR=An(KR),XR=Ze({},Yl,{relatedTarget:0}),yh=An(XR),YR=Ze({},zo,{animationName:0,elapsedTime:0,pseudoElement:0}),JR=An(YR),ZR=Ze({},zo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eN=An(ZR),tN=Ze({},zo,{data:0}),L1=An(tN),nN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iN[t])?!!e[t]:!1}function jg(){return sN}var oN=Ze({},Yl,{key:function(t){if(t.key){var e=nN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jg,charCode:function(t){return t.type==="keypress"?gc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aN=An(oN),lN=Ze({},Jf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M1=An(lN),uN=Ze({},Yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jg}),cN=An(uN),fN=Ze({},zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),dN=An(fN),hN=Ze({},Jf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pN=An(hN),mN=[9,13,27,32],qg=Dr&&"CompositionEvent"in window,Ha=null;Dr&&"documentMode"in document&&(Ha=document.documentMode);var gN=Dr&&"TextEvent"in window&&!Ha,bT=Dr&&(!qg||Ha&&8<Ha&&11>=Ha),D1=String.fromCharCode(32),V1=!1;function CT(t,e){switch(t){case"keyup":return mN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ws=!1;function vN(t,e){switch(t){case"compositionend":return kT(e);case"keypress":return e.which!==32?null:(V1=!0,D1);case"textInput":return t=e.data,t===D1&&V1?null:t;default:return null}}function yN(t,e){if(Ws)return t==="compositionend"||!qg&&CT(t,e)?(t=IT(),mc=Ug=ci=null,Ws=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bT&&e.locale!=="ko"?null:e.data;default:return null}}var _N={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_N[t.type]:e==="textarea"}function RT(t,e,n,r){oT(r),e=qc(e,"onChange"),0<e.length&&(n=new Bg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wa=null,pl=null;function EN(t){BT(t,0)}function Zf(t){var e=Qs(t);if(Zw(e))return t}function wN(t,e){if(t==="change")return e}var NT=!1;if(Dr){var _h;if(Dr){var Eh="oninput"in document;if(!Eh){var U1=document.createElement("div");U1.setAttribute("oninput","return;"),Eh=typeof U1.oninput=="function"}_h=Eh}else _h=!1;NT=_h&&(!document.documentMode||9<document.documentMode)}function B1(){Wa&&(Wa.detachEvent("onpropertychange",OT),pl=Wa=null)}function OT(t){if(t.propertyName==="value"&&Zf(pl)){var e=[];RT(e,pl,t,Lg(t)),cT(EN,e)}}function TN(t,e,n){t==="focusin"?(B1(),Wa=e,pl=n,Wa.attachEvent("onpropertychange",OT)):t==="focusout"&&B1()}function SN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zf(pl)}function AN(t,e){if(t==="click")return Zf(e)}function IN(t,e){if(t==="input"||t==="change")return Zf(e)}function bN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yn=typeof Object.is=="function"?Object.is:bN;function ml(t,e){if(Yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ip.call(e,i)||!Yn(t[i],e[i]))return!1}return!0}function j1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function q1(t,e){var n=j1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=j1(n)}}function PT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xT(){for(var t=window,e=Mc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Mc(t.document)}return e}function zg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function CN(t){var e=xT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&PT(n.ownerDocument.documentElement,n)){if(r!==null&&zg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=q1(n,s);var o=q1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kN=Dr&&"documentMode"in document&&11>=document.documentMode,Gs=null,$p=null,Ga=null,Hp=!1;function z1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hp||Gs==null||Gs!==Mc(r)||(r=Gs,"selectionStart"in r&&zg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ga&&ml(Ga,r)||(Ga=r,r=qc($p,"onSelect"),0<r.length&&(e=new Bg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Gs)))}function Vu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ks={animationend:Vu("Animation","AnimationEnd"),animationiteration:Vu("Animation","AnimationIteration"),animationstart:Vu("Animation","AnimationStart"),transitionend:Vu("Transition","TransitionEnd")},wh={},LT={};Dr&&(LT=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function ed(t){if(wh[t])return wh[t];if(!Ks[t])return t;var e=Ks[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in LT)return wh[t]=e[n];return t}var MT=ed("animationend"),DT=ed("animationiteration"),VT=ed("animationstart"),FT=ed("transitionend"),UT=new Map,$1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bi(t,e){UT.set(t,e),ks(e,[t])}for(var Th=0;Th<$1.length;Th++){var Sh=$1[Th],RN=Sh.toLowerCase(),NN=Sh[0].toUpperCase()+Sh.slice(1);Bi(RN,"on"+NN)}Bi(MT,"onAnimationEnd");Bi(DT,"onAnimationIteration");Bi(VT,"onAnimationStart");Bi("dblclick","onDoubleClick");Bi("focusin","onFocus");Bi("focusout","onBlur");Bi(FT,"onTransitionEnd");So("onMouseEnter",["mouseout","mouseover"]);So("onMouseLeave",["mouseout","mouseover"]);So("onPointerEnter",["pointerout","pointerover"]);So("onPointerLeave",["pointerout","pointerover"]);ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ON=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ma));function H1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,RR(r,e,void 0,t),t.currentTarget=null}function BT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;H1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;H1(i,a,u),s=l}}}if(Vc)throw t=Bp,Vc=!1,Bp=null,t}function Be(t,e){var n=e[Xp];n===void 0&&(n=e[Xp]=new Set);var r=t+"__bubble";n.has(r)||(jT(e,t,2,!1),n.add(r))}function Ah(t,e,n){var r=0;e&&(r|=4),jT(n,t,r,e)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function gl(t){if(!t[Fu]){t[Fu]=!0,Kw.forEach(function(n){n!=="selectionchange"&&(ON.has(n)||Ah(n,!1,t),Ah(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fu]||(e[Fu]=!0,Ah("selectionchange",!1,e))}}function jT(t,e,n,r){switch(AT(e)){case 1:var i=HR;break;case 4:i=WR;break;default:i=Fg}n=i.bind(null,e,n,t),i=void 0,!Up||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ih(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Zi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}cT(function(){var u=s,f=Lg(n),c=[];e:{var d=UT.get(t);if(d!==void 0){var p=Bg,_=t;switch(t){case"keypress":if(gc(n)===0)break e;case"keydown":case"keyup":p=aN;break;case"focusin":_="focus",p=yh;break;case"focusout":_="blur",p=yh;break;case"beforeblur":case"afterblur":p=yh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=x1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=QR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=cN;break;case MT:case DT:case VT:p=JR;break;case FT:p=dN;break;case"scroll":p=GR;break;case"wheel":p=pN;break;case"copy":case"cut":case"paste":p=eN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=M1}var y=(e&4)!==0,E=!y&&t==="scroll",m=y?d!==null?d+"Capture":null:d;y=[];for(var h=u,v;h!==null;){v=h;var g=v.stateNode;if(v.tag===5&&g!==null&&(v=g,m!==null&&(g=cl(h,m),g!=null&&y.push(vl(h,g,v)))),E)break;h=h.return}0<y.length&&(d=new p(d,_,null,n,f),c.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Vp&&(_=n.relatedTarget||n.fromElement)&&(Zi(_)||_[Vr]))break e;if((p||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=u,_=_?Zi(_):null,_!==null&&(E=Rs(_),_!==E||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=u),p!==_)){if(y=x1,g="onMouseLeave",m="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(y=M1,g="onPointerLeave",m="onPointerEnter",h="pointer"),E=p==null?d:Qs(p),v=_==null?d:Qs(_),d=new y(g,h+"leave",p,n,f),d.target=E,d.relatedTarget=v,g=null,Zi(f)===u&&(y=new y(m,h+"enter",_,n,f),y.target=v,y.relatedTarget=E,g=y),E=g,p&&_)t:{for(y=p,m=_,h=0,v=y;v;v=Vs(v))h++;for(v=0,g=m;g;g=Vs(g))v++;for(;0<h-v;)y=Vs(y),h--;for(;0<v-h;)m=Vs(m),v--;for(;h--;){if(y===m||m!==null&&y===m.alternate)break t;y=Vs(y),m=Vs(m)}y=null}else y=null;p!==null&&W1(c,d,p,y,!1),_!==null&&E!==null&&W1(c,E,_,y,!0)}}e:{if(d=u?Qs(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var w=wN;else if(F1(d))if(NT)w=IN;else{w=SN;var A=TN}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=AN);if(w&&(w=w(t,u))){RT(c,w,n,f);break e}A&&A(t,d,u),t==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&Pp(d,"number",d.value)}switch(A=u?Qs(u):window,t){case"focusin":(F1(A)||A.contentEditable==="true")&&(Gs=A,$p=u,Ga=null);break;case"focusout":Ga=$p=Gs=null;break;case"mousedown":Hp=!0;break;case"contextmenu":case"mouseup":case"dragend":Hp=!1,z1(c,n,f);break;case"selectionchange":if(kN)break;case"keydown":case"keyup":z1(c,n,f)}var S;if(qg)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ws?CT(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(bT&&n.locale!=="ko"&&(Ws||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ws&&(S=IT()):(ci=f,Ug="value"in ci?ci.value:ci.textContent,Ws=!0)),A=qc(u,I),0<A.length&&(I=new L1(I,t,null,n,f),c.push({event:I,listeners:A}),S?I.data=S:(S=kT(n),S!==null&&(I.data=S)))),(S=gN?vN(t,n):yN(t,n))&&(u=qc(u,"onBeforeInput"),0<u.length&&(f=new L1("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=S))}BT(c,e)})}function vl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=cl(t,n),s!=null&&r.unshift(vl(t,s,i)),s=cl(t,e),s!=null&&r.push(vl(t,s,i))),t=t.return}return r}function Vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function W1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=cl(n,s),l!=null&&o.unshift(vl(n,l,a))):i||(l=cl(n,s),l!=null&&o.push(vl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var PN=/\r\n?/g,xN=/\u0000|\uFFFD/g;function G1(t){return(typeof t=="string"?t:""+t).replace(PN,`
`).replace(xN,"")}function Uu(t,e,n){if(e=G1(e),G1(t)!==e&&n)throw Error(ee(425))}function zc(){}var Wp=null,Gp=null;function Kp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qp=typeof setTimeout=="function"?setTimeout:void 0,LN=typeof clearTimeout=="function"?clearTimeout:void 0,K1=typeof Promise=="function"?Promise:void 0,MN=typeof queueMicrotask=="function"?queueMicrotask:typeof K1<"u"?function(t){return K1.resolve(null).then(t).catch(DN)}:Qp;function DN(t){setTimeout(function(){throw t})}function bh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),hl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);hl(e)}function _i(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Q1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $o=Math.random().toString(36).slice(2),sr="__reactFiber$"+$o,yl="__reactProps$"+$o,Vr="__reactContainer$"+$o,Xp="__reactEvents$"+$o,VN="__reactListeners$"+$o,FN="__reactHandles$"+$o;function Zi(t){var e=t[sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vr]||n[sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Q1(t);t!==null;){if(n=t[sr])return n;t=Q1(t)}return e}t=n,n=t.parentNode}return null}function Jl(t){return t=t[sr]||t[Vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function td(t){return t[yl]||null}var Yp=[],Xs=-1;function ji(t){return{current:t}}function We(t){0>Xs||(t.current=Yp[Xs],Yp[Xs]=null,Xs--)}function Ue(t,e){Xs++,Yp[Xs]=t.current,t.current=e}var xi={},Qt=ji(xi),un=ji(!1),ds=xi;function Ao(t,e){var n=t.type.contextTypes;if(!n)return xi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function cn(t){return t=t.childContextTypes,t!=null}function $c(){We(un),We(Qt)}function X1(t,e,n){if(Qt.current!==xi)throw Error(ee(168));Ue(Qt,e),Ue(un,n)}function qT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ee(108,TR(t)||"Unknown",i));return Ze({},n,r)}function Hc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xi,ds=Qt.current,Ue(Qt,t),Ue(un,un.current),!0}function Y1(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=qT(t,e,ds),r.__reactInternalMemoizedMergedChildContext=t,We(un),We(Qt),Ue(Qt,t)):We(un),Ue(un,n)}var Ir=null,nd=!1,Ch=!1;function zT(t){Ir===null?Ir=[t]:Ir.push(t)}function UN(t){nd=!0,zT(t)}function qi(){if(!Ch&&Ir!==null){Ch=!0;var t=0,e=De;try{var n=Ir;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ir=null,nd=!1}catch(i){throw Ir!==null&&(Ir=Ir.slice(t+1)),pT(Mg,qi),i}finally{De=e,Ch=!1}}return null}var Ys=[],Js=0,Wc=null,Gc=0,Cn=[],kn=0,hs=null,Cr=1,kr="";function Gi(t,e){Ys[Js++]=Gc,Ys[Js++]=Wc,Wc=t,Gc=e}function $T(t,e,n){Cn[kn++]=Cr,Cn[kn++]=kr,Cn[kn++]=hs,hs=t;var r=Cr;t=kr;var i=32-Gn(r)-1;r&=~(1<<i),n+=1;var s=32-Gn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Cr=1<<32-Gn(e)+i|n<<i|r,kr=s+t}else Cr=1<<s|n<<i|r,kr=t}function $g(t){t.return!==null&&(Gi(t,1),$T(t,1,0))}function Hg(t){for(;t===Wc;)Wc=Ys[--Js],Ys[Js]=null,Gc=Ys[--Js],Ys[Js]=null;for(;t===hs;)hs=Cn[--kn],Cn[kn]=null,kr=Cn[--kn],Cn[kn]=null,Cr=Cn[--kn],Cn[kn]=null}var _n=null,vn=null,Qe=!1,qn=null;function HT(t,e){var n=On(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function J1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_n=t,vn=_i(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_n=t,vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hs!==null?{id:Cr,overflow:kr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=On(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_n=t,vn=null,!0):!1;default:return!1}}function Jp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zp(t){if(Qe){var e=vn;if(e){var n=e;if(!J1(t,e)){if(Jp(t))throw Error(ee(418));e=_i(n.nextSibling);var r=_n;e&&J1(t,e)?HT(r,n):(t.flags=t.flags&-4097|2,Qe=!1,_n=t)}}else{if(Jp(t))throw Error(ee(418));t.flags=t.flags&-4097|2,Qe=!1,_n=t}}}function Z1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_n=t}function Bu(t){if(t!==_n)return!1;if(!Qe)return Z1(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kp(t.type,t.memoizedProps)),e&&(e=vn)){if(Jp(t))throw WT(),Error(ee(418));for(;e;)HT(t,e),e=_i(e.nextSibling)}if(Z1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vn=_i(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vn=null}}else vn=_n?_i(t.stateNode.nextSibling):null;return!0}function WT(){for(var t=vn;t;)t=_i(t.nextSibling)}function Io(){vn=_n=null,Qe=!1}function Wg(t){qn===null?qn=[t]:qn.push(t)}var BN=Kr.ReactCurrentBatchConfig;function Bn(t,e){if(t&&t.defaultProps){e=Ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Kc=ji(null),Qc=null,Zs=null,Gg=null;function Kg(){Gg=Zs=Qc=null}function Qg(t){var e=Kc.current;We(Kc),t._currentValue=e}function em(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function co(t,e){Qc=t,Gg=Zs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(an=!0),t.firstContext=null)}function Mn(t){var e=t._currentValue;if(Gg!==t)if(t={context:t,memoizedValue:e,next:null},Zs===null){if(Qc===null)throw Error(ee(308));Zs=t,Qc.dependencies={lanes:0,firstContext:t}}else Zs=Zs.next=t;return e}var es=null;function Xg(t){es===null?es=[t]:es.push(t)}function GT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Xg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Fr(t,r)}function Fr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ni=!1;function Yg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Fr(t,n)}return i=r.interleaved,i===null?(e.next=e,Xg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Fr(t,n)}function vc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dg(t,n)}}function e_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xc(t,e,n,r){var i=t.updateQueue;ni=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(s!==null){var c=i.baseState;o=0,f=u=l=null,a=s;do{var d=a.lane,p=a.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,y=a;switch(d=e,p=n,y.tag){case 1:if(_=y.payload,typeof _=="function"){c=_.call(p,c,d);break e}c=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,d=typeof _=="function"?_.call(p,c,d):_,d==null)break e;c=Ze({},c,d);break e;case 2:ni=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=p,l=c):f=f.next=p,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(f===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ms|=o,t.lanes=o,t.memoizedState=c}}function t_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var QT=new Gw.Component().refs;function tm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var rd={isMounted:function(t){return(t=t._reactInternals)?Rs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tn(),i=Ti(t),s=xr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ei(t,s,i),e!==null&&(Kn(e,t,i,r),vc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tn(),i=Ti(t),s=xr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ei(t,s,i),e!==null&&(Kn(e,t,i,r),vc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),r=Ti(t),i=xr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ei(t,i,r),e!==null&&(Kn(e,t,r,n),vc(e,t,r))}};function n_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ml(n,r)||!ml(i,s):!0}function XT(t,e,n){var r=!1,i=xi,s=e.contextType;return typeof s=="object"&&s!==null?s=Mn(s):(i=cn(e)?ds:Qt.current,r=e.contextTypes,s=(r=r!=null)?Ao(t,i):xi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=rd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function r_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&rd.enqueueReplaceState(e,e.state,null)}function nm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=QT,Yg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Mn(s):(s=cn(e)?ds:Qt.current,i.context=Ao(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(tm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&rd.enqueueReplaceState(i,i.state,null),Xc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function _a(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===QT&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function ju(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function i_(t){var e=t._init;return e(t._payload)}function YT(t){function e(m,h){if(t){var v=m.deletions;v===null?(m.deletions=[h],m.flags|=16):v.push(h)}}function n(m,h){if(!t)return null;for(;h!==null;)e(m,h),h=h.sibling;return null}function r(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function i(m,h){return m=Si(m,h),m.index=0,m.sibling=null,m}function s(m,h,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<h?(m.flags|=2,h):v):(m.flags|=2,h)):(m.flags|=1048576,h)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,h,v,g){return h===null||h.tag!==6?(h=Lh(v,m.mode,g),h.return=m,h):(h=i(h,v),h.return=m,h)}function l(m,h,v,g){var w=v.type;return w===Hs?f(m,h,v.props.children,g,v.key):h!==null&&(h.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ti&&i_(w)===h.type)?(g=i(h,v.props),g.ref=_a(m,h,v),g.return=m,g):(g=Sc(v.type,v.key,v.props,null,m.mode,g),g.ref=_a(m,h,v),g.return=m,g)}function u(m,h,v,g){return h===null||h.tag!==4||h.stateNode.containerInfo!==v.containerInfo||h.stateNode.implementation!==v.implementation?(h=Mh(v,m.mode,g),h.return=m,h):(h=i(h,v.children||[]),h.return=m,h)}function f(m,h,v,g,w){return h===null||h.tag!==7?(h=as(v,m.mode,g,w),h.return=m,h):(h=i(h,v),h.return=m,h)}function c(m,h,v){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Lh(""+h,m.mode,v),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Nu:return v=Sc(h.type,h.key,h.props,null,m.mode,v),v.ref=_a(m,null,h),v.return=m,v;case $s:return h=Mh(h,m.mode,v),h.return=m,h;case ti:var g=h._init;return c(m,g(h._payload),v)}if(xa(h)||pa(h))return h=as(h,m.mode,v,null),h.return=m,h;ju(m,h)}return null}function d(m,h,v,g){var w=h!==null?h.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return w!==null?null:a(m,h,""+v,g);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Nu:return v.key===w?l(m,h,v,g):null;case $s:return v.key===w?u(m,h,v,g):null;case ti:return w=v._init,d(m,h,w(v._payload),g)}if(xa(v)||pa(v))return w!==null?null:f(m,h,v,g,null);ju(m,v)}return null}function p(m,h,v,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return m=m.get(v)||null,a(h,m,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Nu:return m=m.get(g.key===null?v:g.key)||null,l(h,m,g,w);case $s:return m=m.get(g.key===null?v:g.key)||null,u(h,m,g,w);case ti:var A=g._init;return p(m,h,v,A(g._payload),w)}if(xa(g)||pa(g))return m=m.get(v)||null,f(h,m,g,w,null);ju(h,g)}return null}function _(m,h,v,g){for(var w=null,A=null,S=h,I=h=0,k=null;S!==null&&I<v.length;I++){S.index>I?(k=S,S=null):k=S.sibling;var C=d(m,S,v[I],g);if(C===null){S===null&&(S=k);break}t&&S&&C.alternate===null&&e(m,S),h=s(C,h,I),A===null?w=C:A.sibling=C,A=C,S=k}if(I===v.length)return n(m,S),Qe&&Gi(m,I),w;if(S===null){for(;I<v.length;I++)S=c(m,v[I],g),S!==null&&(h=s(S,h,I),A===null?w=S:A.sibling=S,A=S);return Qe&&Gi(m,I),w}for(S=r(m,S);I<v.length;I++)k=p(S,m,I,v[I],g),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?I:k.key),h=s(k,h,I),A===null?w=k:A.sibling=k,A=k);return t&&S.forEach(function(T){return e(m,T)}),Qe&&Gi(m,I),w}function y(m,h,v,g){var w=pa(v);if(typeof w!="function")throw Error(ee(150));if(v=w.call(v),v==null)throw Error(ee(151));for(var A=w=null,S=h,I=h=0,k=null,C=v.next();S!==null&&!C.done;I++,C=v.next()){S.index>I?(k=S,S=null):k=S.sibling;var T=d(m,S,C.value,g);if(T===null){S===null&&(S=k);break}t&&S&&T.alternate===null&&e(m,S),h=s(T,h,I),A===null?w=T:A.sibling=T,A=T,S=k}if(C.done)return n(m,S),Qe&&Gi(m,I),w;if(S===null){for(;!C.done;I++,C=v.next())C=c(m,C.value,g),C!==null&&(h=s(C,h,I),A===null?w=C:A.sibling=C,A=C);return Qe&&Gi(m,I),w}for(S=r(m,S);!C.done;I++,C=v.next())C=p(S,m,I,C.value,g),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?I:C.key),h=s(C,h,I),A===null?w=C:A.sibling=C,A=C);return t&&S.forEach(function(b){return e(m,b)}),Qe&&Gi(m,I),w}function E(m,h,v,g){if(typeof v=="object"&&v!==null&&v.type===Hs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Nu:e:{for(var w=v.key,A=h;A!==null;){if(A.key===w){if(w=v.type,w===Hs){if(A.tag===7){n(m,A.sibling),h=i(A,v.props.children),h.return=m,m=h;break e}}else if(A.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ti&&i_(w)===A.type){n(m,A.sibling),h=i(A,v.props),h.ref=_a(m,A,v),h.return=m,m=h;break e}n(m,A);break}else e(m,A);A=A.sibling}v.type===Hs?(h=as(v.props.children,m.mode,g,v.key),h.return=m,m=h):(g=Sc(v.type,v.key,v.props,null,m.mode,g),g.ref=_a(m,h,v),g.return=m,m=g)}return o(m);case $s:e:{for(A=v.key;h!==null;){if(h.key===A)if(h.tag===4&&h.stateNode.containerInfo===v.containerInfo&&h.stateNode.implementation===v.implementation){n(m,h.sibling),h=i(h,v.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else e(m,h);h=h.sibling}h=Mh(v,m.mode,g),h.return=m,m=h}return o(m);case ti:return A=v._init,E(m,h,A(v._payload),g)}if(xa(v))return _(m,h,v,g);if(pa(v))return y(m,h,v,g);ju(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,h!==null&&h.tag===6?(n(m,h.sibling),h=i(h,v),h.return=m,m=h):(n(m,h),h=Lh(v,m.mode,g),h.return=m,m=h),o(m)):n(m,h)}return E}var bo=YT(!0),JT=YT(!1),Zl={},dr=ji(Zl),_l=ji(Zl),El=ji(Zl);function ts(t){if(t===Zl)throw Error(ee(174));return t}function Jg(t,e){switch(Ue(El,e),Ue(_l,t),Ue(dr,Zl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lp(e,t)}We(dr),Ue(dr,e)}function Co(){We(dr),We(_l),We(El)}function ZT(t){ts(El.current);var e=ts(dr.current),n=Lp(e,t.type);e!==n&&(Ue(_l,t),Ue(dr,n))}function Zg(t){_l.current===t&&(We(dr),We(_l))}var Ye=ji(0);function Yc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kh=[];function ev(){for(var t=0;t<kh.length;t++)kh[t]._workInProgressVersionPrimary=null;kh.length=0}var yc=Kr.ReactCurrentDispatcher,Rh=Kr.ReactCurrentBatchConfig,ps=0,Je=null,_t=null,At=null,Jc=!1,Ka=!1,wl=0,jN=0;function Dt(){throw Error(ee(321))}function tv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yn(t[n],e[n]))return!1;return!0}function nv(t,e,n,r,i,s){if(ps=s,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yc.current=t===null||t.memoizedState===null?HN:WN,t=n(r,i),Ka){s=0;do{if(Ka=!1,wl=0,25<=s)throw Error(ee(301));s+=1,At=_t=null,e.updateQueue=null,yc.current=GN,t=n(r,i)}while(Ka)}if(yc.current=Zc,e=_t!==null&&_t.next!==null,ps=0,At=_t=Je=null,Jc=!1,e)throw Error(ee(300));return t}function rv(){var t=wl!==0;return wl=0,t}function ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Je.memoizedState=At=t:At=At.next=t,At}function Dn(){if(_t===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=At===null?Je.memoizedState:At.next;if(e!==null)At=e,_t=t;else{if(t===null)throw Error(ee(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},At===null?Je.memoizedState=At=t:At=At.next=t}return At}function Tl(t,e){return typeof e=="function"?e(t):e}function Nh(t){var e=Dn(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=_t,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var f=u.lane;if((ps&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,o=r):l=l.next=c,Je.lanes|=f,ms|=f}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Yn(r,e.memoizedState)||(an=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Je.lanes|=s,ms|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Oh(t){var e=Dn(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Yn(s,e.memoizedState)||(an=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function eS(){}function tS(t,e){var n=Je,r=Dn(),i=e(),s=!Yn(r.memoizedState,i);if(s&&(r.memoizedState=i,an=!0),r=r.queue,iv(iS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,Sl(9,rS.bind(null,n,r,i,e),void 0,null),Ct===null)throw Error(ee(349));ps&30||nS(n,e,i)}return i}function nS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rS(t,e,n,r){e.value=n,e.getSnapshot=r,sS(e)&&oS(t)}function iS(t,e,n){return n(function(){sS(e)&&oS(t)})}function sS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yn(t,n)}catch{return!0}}function oS(t){var e=Fr(t,1);e!==null&&Kn(e,t,1,-1)}function s_(t){var e=ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:t},e.queue=t,t=t.dispatch=$N.bind(null,Je,t),[e.memoizedState,t]}function Sl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function aS(){return Dn().memoizedState}function _c(t,e,n,r){var i=ir();Je.flags|=t,i.memoizedState=Sl(1|e,n,void 0,r===void 0?null:r)}function id(t,e,n,r){var i=Dn();r=r===void 0?null:r;var s=void 0;if(_t!==null){var o=_t.memoizedState;if(s=o.destroy,r!==null&&tv(r,o.deps)){i.memoizedState=Sl(e,n,s,r);return}}Je.flags|=t,i.memoizedState=Sl(1|e,n,s,r)}function o_(t,e){return _c(8390656,8,t,e)}function iv(t,e){return id(2048,8,t,e)}function lS(t,e){return id(4,2,t,e)}function uS(t,e){return id(4,4,t,e)}function cS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fS(t,e,n){return n=n!=null?n.concat([t]):null,id(4,4,cS.bind(null,e,t),n)}function sv(){}function dS(t,e){var n=Dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hS(t,e){var n=Dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pS(t,e,n){return ps&21?(Yn(n,e)||(n=vT(),Je.lanes|=n,ms|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,an=!0),t.memoizedState=n)}function qN(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=Rh.transition;Rh.transition={};try{t(!1),e()}finally{De=n,Rh.transition=r}}function mS(){return Dn().memoizedState}function zN(t,e,n){var r=Ti(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gS(t))vS(e,n);else if(n=GT(t,e,n,r),n!==null){var i=tn();Kn(n,t,r,i),yS(n,e,r)}}function $N(t,e,n){var r=Ti(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gS(t))vS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Yn(a,o)){var l=e.interleaved;l===null?(i.next=i,Xg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=GT(t,e,i,r),n!==null&&(i=tn(),Kn(n,t,r,i),yS(n,e,r))}}function gS(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function vS(t,e){Ka=Jc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dg(t,n)}}var Zc={readContext:Mn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},HN={readContext:Mn,useCallback:function(t,e){return ir().memoizedState=[t,e===void 0?null:e],t},useContext:Mn,useEffect:o_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_c(4194308,4,cS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _c(4194308,4,t,e)},useInsertionEffect:function(t,e){return _c(4,2,t,e)},useMemo:function(t,e){var n=ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=zN.bind(null,Je,t),[r.memoizedState,t]},useRef:function(t){var e=ir();return t={current:t},e.memoizedState=t},useState:s_,useDebugValue:sv,useDeferredValue:function(t){return ir().memoizedState=t},useTransition:function(){var t=s_(!1),e=t[0];return t=qN.bind(null,t[1]),ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Je,i=ir();if(Qe){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),Ct===null)throw Error(ee(349));ps&30||nS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,o_(iS.bind(null,r,s,t),[t]),r.flags|=2048,Sl(9,rS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ir(),e=Ct.identifierPrefix;if(Qe){var n=kr,r=Cr;n=(r&~(1<<32-Gn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},WN={readContext:Mn,useCallback:dS,useContext:Mn,useEffect:iv,useImperativeHandle:fS,useInsertionEffect:lS,useLayoutEffect:uS,useMemo:hS,useReducer:Nh,useRef:aS,useState:function(){return Nh(Tl)},useDebugValue:sv,useDeferredValue:function(t){var e=Dn();return pS(e,_t.memoizedState,t)},useTransition:function(){var t=Nh(Tl)[0],e=Dn().memoizedState;return[t,e]},useMutableSource:eS,useSyncExternalStore:tS,useId:mS,unstable_isNewReconciler:!1},GN={readContext:Mn,useCallback:dS,useContext:Mn,useEffect:iv,useImperativeHandle:fS,useInsertionEffect:lS,useLayoutEffect:uS,useMemo:hS,useReducer:Oh,useRef:aS,useState:function(){return Oh(Tl)},useDebugValue:sv,useDeferredValue:function(t){var e=Dn();return _t===null?e.memoizedState=t:pS(e,_t.memoizedState,t)},useTransition:function(){var t=Oh(Tl)[0],e=Dn().memoizedState;return[t,e]},useMutableSource:eS,useSyncExternalStore:tS,useId:mS,unstable_isNewReconciler:!1};function ko(t,e){try{var n="",r=e;do n+=wR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ph(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var KN=typeof WeakMap=="function"?WeakMap:Map;function _S(t,e,n){n=xr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){tf||(tf=!0,hm=r),rm(t,e)},n}function ES(t,e,n){n=xr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){rm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){rm(t,e),typeof r!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function a_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new KN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=lO.bind(null,t,e,n),e.then(t,t))}function l_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function u_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xr(-1,1),e.tag=2,Ei(n,e,1))),n.lanes|=1),t)}var QN=Kr.ReactCurrentOwner,an=!1;function Zt(t,e,n,r){e.child=t===null?JT(e,null,n,r):bo(e,t.child,n,r)}function c_(t,e,n,r,i){n=n.render;var s=e.ref;return co(e,i),r=nv(t,e,n,r,s,i),n=rv(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ur(t,e,i)):(Qe&&n&&$g(e),e.flags|=1,Zt(t,e,r,i),e.child)}function f_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!hv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,wS(t,e,s,r,i)):(t=Sc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ml,n(o,r)&&t.ref===e.ref)return Ur(t,e,i)}return e.flags|=1,t=Si(s,r),t.ref=e.ref,t.return=e,e.child=t}function wS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ml(s,r)&&t.ref===e.ref)if(an=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(an=!0);else return e.lanes=t.lanes,Ur(t,e,i)}return im(t,e,n,r,i)}function TS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(to,pn),pn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(to,pn),pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ue(to,pn),pn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ue(to,pn),pn|=r;return Zt(t,e,i,n),e.child}function SS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function im(t,e,n,r,i){var s=cn(n)?ds:Qt.current;return s=Ao(e,s),co(e,i),n=nv(t,e,n,r,s,i),r=rv(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ur(t,e,i)):(Qe&&r&&$g(e),e.flags|=1,Zt(t,e,n,i),e.child)}function d_(t,e,n,r,i){if(cn(n)){var s=!0;Hc(e)}else s=!1;if(co(e,i),e.stateNode===null)Ec(t,e),XT(e,n,r),nm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Mn(u):(u=cn(n)?ds:Qt.current,u=Ao(e,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&r_(e,o,r,u),ni=!1;var d=e.memoizedState;o.state=d,Xc(e,r,o,i),l=e.memoizedState,a!==r||d!==l||un.current||ni?(typeof f=="function"&&(tm(e,n,f,r),l=e.memoizedState),(a=ni||n_(e,n,a,r,d,l,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,KT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Bn(e.type,a),o.props=u,c=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mn(l):(l=cn(n)?ds:Qt.current,l=Ao(e,l));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==c||d!==l)&&r_(e,o,r,l),ni=!1,d=e.memoizedState,o.state=d,Xc(e,r,o,i);var _=e.memoizedState;a!==c||d!==_||un.current||ni?(typeof p=="function"&&(tm(e,n,p,r),_=e.memoizedState),(u=ni||n_(e,n,u,r,d,_,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return sm(t,e,n,r,s,i)}function sm(t,e,n,r,i,s){SS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Y1(e,n,!1),Ur(t,e,s);r=e.stateNode,QN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=bo(e,t.child,null,s),e.child=bo(e,null,a,s)):Zt(t,e,a,s),e.memoizedState=r.state,i&&Y1(e,n,!0),e.child}function AS(t){var e=t.stateNode;e.pendingContext?X1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&X1(t,e.context,!1),Jg(t,e.containerInfo)}function h_(t,e,n,r,i){return Io(),Wg(i),e.flags|=256,Zt(t,e,n,r),e.child}var om={dehydrated:null,treeContext:null,retryLane:0};function am(t){return{baseLanes:t,cachePool:null,transitions:null}}function IS(t,e,n){var r=e.pendingProps,i=Ye.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ue(Ye,i&1),t===null)return Zp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ad(o,r,0,null),t=as(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=am(n),e.memoizedState=om,t):ov(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return XN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Si(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Si(a,s):(s=as(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?am(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=om,r}return s=t.child,t=s.sibling,r=Si(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ov(t,e){return e=ad({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qu(t,e,n,r){return r!==null&&Wg(r),bo(e,t.child,null,n),t=ov(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function XN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ph(Error(ee(422))),qu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ad({mode:"visible",children:r.children},i,0,null),s=as(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&bo(e,t.child,null,o),e.child.memoizedState=am(o),e.memoizedState=om,s);if(!(e.mode&1))return qu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ee(419)),r=Ph(s,r,void 0),qu(t,e,o,r)}if(a=(o&t.childLanes)!==0,an||a){if(r=Ct,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Fr(t,i),Kn(r,t,i,-1))}return dv(),r=Ph(Error(ee(421))),qu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=uO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,vn=_i(i.nextSibling),_n=e,Qe=!0,qn=null,t!==null&&(Cn[kn++]=Cr,Cn[kn++]=kr,Cn[kn++]=hs,Cr=t.id,kr=t.overflow,hs=e),e=ov(e,r.children),e.flags|=4096,e)}function p_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),em(t.return,e,n)}function xh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function bS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Zt(t,e,r.children,n),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&p_(t,n,e);else if(t.tag===19)p_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Yc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Yc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xh(e,!0,n,null,s);break;case"together":xh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ec(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ur(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ms|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=Si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function YN(t,e,n){switch(e.tag){case 3:AS(e),Io();break;case 5:ZT(e);break;case 1:cn(e.type)&&Hc(e);break;case 4:Jg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ue(Kc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Ye,Ye.current&1),e.flags|=128,null):n&e.child.childLanes?IS(t,e,n):(Ue(Ye,Ye.current&1),t=Ur(t,e,n),t!==null?t.sibling:null);Ue(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return bS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,TS(t,e,n)}return Ur(t,e,n)}var CS,lm,kS,RS;CS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lm=function(){};kS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ts(dr.current);var s=null;switch(n){case"input":i=Np(t,i),r=Np(t,r),s=[];break;case"select":i=Ze({},i,{value:void 0}),r=Ze({},r,{value:void 0}),s=[];break;case"textarea":i=xp(t,i),r=xp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zc)}Mp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ll.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ll.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Be("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};RS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ea(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function JN(t,e,n){var r=e.pendingProps;switch(Hg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return cn(e.type)&&$c(),Vt(e),null;case 3:return r=e.stateNode,Co(),We(un),We(Qt),ev(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qn!==null&&(gm(qn),qn=null))),lm(t,e),Vt(e),null;case 5:Zg(e);var i=ts(El.current);if(n=e.type,t!==null&&e.stateNode!=null)kS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return Vt(e),null}if(t=ts(dr.current),Bu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[sr]=e,r[yl]=s,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(i=0;i<Ma.length;i++)Be(Ma[i],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":S1(r,s),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Be("invalid",r);break;case"textarea":I1(r,s),Be("invalid",r)}Mp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Uu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Uu(r.textContent,a,t),i=["children",""+a]):ll.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":Ou(r),A1(r,s,!0);break;case"textarea":Ou(r),b1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=zc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[sr]=e,t[yl]=r,CS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Dp(n,r),n){case"dialog":Be("cancel",t),Be("close",t),i=r;break;case"iframe":case"object":case"embed":Be("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ma.length;i++)Be(Ma[i],t);i=r;break;case"source":Be("error",t),i=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),i=r;break;case"details":Be("toggle",t),i=r;break;case"input":S1(t,r),i=Np(t,r),Be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ze({},r,{value:void 0}),Be("invalid",t);break;case"textarea":I1(t,r),i=xp(t,r),Be("invalid",t);break;default:i=r}Mp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?sT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ul(t,l):typeof l=="number"&&ul(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ll.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Be("scroll",t):l!=null&&Ng(t,s,l,o))}switch(n){case"input":Ou(t),A1(t,r,!1);break;case"textarea":Ou(t),b1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Pi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?oo(t,!!r.multiple,s,!1):r.defaultValue!=null&&oo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=zc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)RS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=ts(El.current),ts(dr.current),Bu(e)){if(r=e.stateNode,n=e.memoizedProps,r[sr]=e,(s=r.nodeValue!==n)&&(t=_n,t!==null))switch(t.tag){case 3:Uu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Uu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sr]=e,e.stateNode=r}return Vt(e),null;case 13:if(We(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&vn!==null&&e.mode&1&&!(e.flags&128))WT(),Io(),e.flags|=98560,s=!1;else if(s=Bu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ee(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ee(317));s[sr]=e}else Io(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),s=!1}else qn!==null&&(gm(qn),qn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?Et===0&&(Et=3):dv())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return Co(),lm(t,e),t===null&&gl(e.stateNode.containerInfo),Vt(e),null;case 10:return Qg(e.type._context),Vt(e),null;case 17:return cn(e.type)&&$c(),Vt(e),null;case 19:if(We(Ye),s=e.memoizedState,s===null)return Vt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ea(s,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yc(t),o!==null){for(e.flags|=128,Ea(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(Ye,Ye.current&1|2),e.child}t=t.sibling}s.tail!==null&&ot()>Ro&&(e.flags|=128,r=!0,Ea(s,!1),e.lanes=4194304)}else{if(!r)if(t=Yc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ea(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Qe)return Vt(e),null}else 2*ot()-s.renderingStartTime>Ro&&n!==1073741824&&(e.flags|=128,r=!0,Ea(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ot(),e.sibling=null,n=Ye.current,Ue(Ye,r?n&1|2:n&1),e):(Vt(e),null);case 22:case 23:return fv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?pn&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function ZN(t,e){switch(Hg(e),e.tag){case 1:return cn(e.type)&&$c(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Co(),We(un),We(Qt),ev(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zg(e),null;case 13:if(We(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));Io()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Ye),null;case 4:return Co(),null;case 10:return Qg(e.type._context),null;case 22:case 23:return fv(),null;case 24:return null;default:return null}}var zu=!1,Bt=!1,eO=typeof WeakSet=="function"?WeakSet:Set,ae=null;function eo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(t,e,r)}else n.current=null}function um(t,e,n){try{n()}catch(r){tt(t,e,r)}}var m_=!1;function tO(t,e){if(Wp=Bc,t=xT(),zg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,f=0,c=t,d=null;t:for(;;){for(var p;c!==n||i!==0&&c.nodeType!==3||(a=o+i),c!==s||r!==0&&c.nodeType!==3||(l=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(p=c.firstChild)!==null;)d=c,c=p;for(;;){if(c===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++f===r&&(l=o),(p=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gp={focusedElem:t,selectionRange:n},Bc=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,E=_.memoizedState,m=e.stateNode,h=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:Bn(e.type,y),E);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(g){tt(e,e.return,g)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return _=m_,m_=!1,_}function Qa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&um(e,n,s)}i=i.next}while(i!==r)}}function sd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function cm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function NS(t){var e=t.alternate;e!==null&&(t.alternate=null,NS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sr],delete e[yl],delete e[Xp],delete e[VN],delete e[FN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function OS(t){return t.tag===5||t.tag===3||t.tag===4}function g_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||OS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zc));else if(r!==4&&(t=t.child,t!==null))for(fm(t,e,n),t=t.sibling;t!==null;)fm(t,e,n),t=t.sibling}function dm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(dm(t,e,n),t=t.sibling;t!==null;)dm(t,e,n),t=t.sibling}var Nt=null,jn=!1;function Jr(t,e,n){for(n=n.child;n!==null;)PS(t,e,n),n=n.sibling}function PS(t,e,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(Yf,n)}catch{}switch(n.tag){case 5:Bt||eo(n,e);case 6:var r=Nt,i=jn;Nt=null,Jr(t,e,n),Nt=r,jn=i,Nt!==null&&(jn?(t=Nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(jn?(t=Nt,n=n.stateNode,t.nodeType===8?bh(t.parentNode,n):t.nodeType===1&&bh(t,n),hl(t)):bh(Nt,n.stateNode));break;case 4:r=Nt,i=jn,Nt=n.stateNode.containerInfo,jn=!0,Jr(t,e,n),Nt=r,jn=i;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&um(n,e,o),i=i.next}while(i!==r)}Jr(t,e,n);break;case 1:if(!Bt&&(eo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tt(n,e,a)}Jr(t,e,n);break;case 21:Jr(t,e,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,Jr(t,e,n),Bt=r):Jr(t,e,n);break;default:Jr(t,e,n)}}function v_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eO),e.forEach(function(r){var i=cO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Nt=a.stateNode,jn=!1;break e;case 3:Nt=a.stateNode.containerInfo,jn=!0;break e;case 4:Nt=a.stateNode.containerInfo,jn=!0;break e}a=a.return}if(Nt===null)throw Error(ee(160));PS(s,o,i),Nt=null,jn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){tt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xS(e,t),e=e.sibling}function xS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fn(e,t),tr(t),r&4){try{Qa(3,t,t.return),sd(3,t)}catch(y){tt(t,t.return,y)}try{Qa(5,t,t.return)}catch(y){tt(t,t.return,y)}}break;case 1:Fn(e,t),tr(t),r&512&&n!==null&&eo(n,n.return);break;case 5:if(Fn(e,t),tr(t),r&512&&n!==null&&eo(n,n.return),t.flags&32){var i=t.stateNode;try{ul(i,"")}catch(y){tt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&eT(i,s),Dp(a,o);var u=Dp(a,s);for(o=0;o<l.length;o+=2){var f=l[o],c=l[o+1];f==="style"?sT(i,c):f==="dangerouslySetInnerHTML"?rT(i,c):f==="children"?ul(i,c):Ng(i,f,c,u)}switch(a){case"input":Op(i,s);break;case"textarea":tT(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?oo(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?oo(i,!!s.multiple,s.defaultValue,!0):oo(i,!!s.multiple,s.multiple?[]:"",!1))}i[yl]=s}catch(y){tt(t,t.return,y)}}break;case 6:if(Fn(e,t),tr(t),r&4){if(t.stateNode===null)throw Error(ee(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){tt(t,t.return,y)}}break;case 3:if(Fn(e,t),tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hl(e.containerInfo)}catch(y){tt(t,t.return,y)}break;case 4:Fn(e,t),tr(t);break;case 13:Fn(e,t),tr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(uv=ot())),r&4&&v_(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(u=Bt)||f,Fn(e,t),Bt=u):Fn(e,t),tr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(ae=t,f=t.child;f!==null;){for(c=ae=f;ae!==null;){switch(d=ae,p=d.child,d.tag){case 0:case 11:case 14:case 15:Qa(4,d,d.return);break;case 1:eo(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(y){tt(r,n,y)}}break;case 5:eo(d,d.return);break;case 22:if(d.memoizedState!==null){__(c);continue}}p!==null?(p.return=d,ae=p):__(c)}f=f.sibling}e:for(f=null,c=t;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=c.stateNode,l=c.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=iT("display",o))}catch(y){tt(t,t.return,y)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(y){tt(t,t.return,y)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Fn(e,t),tr(t),r&4&&v_(t);break;case 21:break;default:Fn(e,t),tr(t)}}function tr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(OS(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ul(i,""),r.flags&=-33);var s=g_(t);dm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=g_(t);fm(t,a,o);break;default:throw Error(ee(161))}}catch(l){tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nO(t,e,n){ae=t,LS(t)}function LS(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var i=ae,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||zu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Bt;a=zu;var u=Bt;if(zu=o,(Bt=l)&&!u)for(ae=i;ae!==null;)o=ae,l=o.child,o.tag===22&&o.memoizedState!==null?E_(i):l!==null?(l.return=o,ae=l):E_(i);for(;s!==null;)ae=s,LS(s),s=s.sibling;ae=i,zu=a,Bt=u}y_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ae=s):y_(t)}}function y_(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||sd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Bn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&t_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}t_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&hl(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}Bt||e.flags&512&&cm(e)}catch(d){tt(e,e.return,d)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function __(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function E_(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sd(4,e)}catch(l){tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){tt(e,i,l)}}var s=e.return;try{cm(e)}catch(l){tt(e,s,l)}break;case 5:var o=e.return;try{cm(e)}catch(l){tt(e,o,l)}}}catch(l){tt(e,e.return,l)}if(e===t){ae=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ae=a;break}ae=e.return}}var rO=Math.ceil,ef=Kr.ReactCurrentDispatcher,av=Kr.ReactCurrentOwner,xn=Kr.ReactCurrentBatchConfig,Pe=0,Ct=null,ht=null,xt=0,pn=0,to=ji(0),Et=0,Al=null,ms=0,od=0,lv=0,Xa=null,on=null,uv=0,Ro=1/0,Ar=null,tf=!1,hm=null,wi=null,$u=!1,fi=null,nf=0,Ya=0,pm=null,wc=-1,Tc=0;function tn(){return Pe&6?ot():wc!==-1?wc:wc=ot()}function Ti(t){return t.mode&1?Pe&2&&xt!==0?xt&-xt:BN.transition!==null?(Tc===0&&(Tc=vT()),Tc):(t=De,t!==0||(t=window.event,t=t===void 0?16:AT(t.type)),t):1}function Kn(t,e,n,r){if(50<Ya)throw Ya=0,pm=null,Error(ee(185));Xl(t,n,r),(!(Pe&2)||t!==Ct)&&(t===Ct&&(!(Pe&2)&&(od|=n),Et===4&&ii(t,xt)),fn(t,r),n===1&&Pe===0&&!(e.mode&1)&&(Ro=ot()+500,nd&&qi()))}function fn(t,e){var n=t.callbackNode;BR(t,e);var r=Uc(t,t===Ct?xt:0);if(r===0)n!==null&&R1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&R1(n),e===1)t.tag===0?UN(w_.bind(null,t)):zT(w_.bind(null,t)),MN(function(){!(Pe&6)&&qi()}),n=null;else{switch(yT(r)){case 1:n=Mg;break;case 4:n=mT;break;case 16:n=Fc;break;case 536870912:n=gT;break;default:n=Fc}n=qS(n,MS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function MS(t,e){if(wc=-1,Tc=0,Pe&6)throw Error(ee(327));var n=t.callbackNode;if(fo()&&t.callbackNode!==n)return null;var r=Uc(t,t===Ct?xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rf(t,r);else{e=r;var i=Pe;Pe|=2;var s=VS();(Ct!==t||xt!==e)&&(Ar=null,Ro=ot()+500,os(t,e));do try{oO();break}catch(a){DS(t,a)}while(1);Kg(),ef.current=s,Pe=i,ht!==null?e=0:(Ct=null,xt=0,e=Et)}if(e!==0){if(e===2&&(i=jp(t),i!==0&&(r=i,e=mm(t,i))),e===1)throw n=Al,os(t,0),ii(t,r),fn(t,ot()),n;if(e===6)ii(t,r);else{if(i=t.current.alternate,!(r&30)&&!iO(i)&&(e=rf(t,r),e===2&&(s=jp(t),s!==0&&(r=s,e=mm(t,s))),e===1))throw n=Al,os(t,0),ii(t,r),fn(t,ot()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:Ki(t,on,Ar);break;case 3:if(ii(t,r),(r&130023424)===r&&(e=uv+500-ot(),10<e)){if(Uc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){tn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Qp(Ki.bind(null,t,on,Ar),e);break}Ki(t,on,Ar);break;case 4:if(ii(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Gn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rO(r/1960))-r,10<r){t.timeoutHandle=Qp(Ki.bind(null,t,on,Ar),r);break}Ki(t,on,Ar);break;case 5:Ki(t,on,Ar);break;default:throw Error(ee(329))}}}return fn(t,ot()),t.callbackNode===n?MS.bind(null,t):null}function mm(t,e){var n=Xa;return t.current.memoizedState.isDehydrated&&(os(t,e).flags|=256),t=rf(t,e),t!==2&&(e=on,on=n,e!==null&&gm(e)),t}function gm(t){on===null?on=t:on.push.apply(on,t)}function iO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Yn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ii(t,e){for(e&=~lv,e&=~od,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gn(e),r=1<<n;t[n]=-1,e&=~r}}function w_(t){if(Pe&6)throw Error(ee(327));fo();var e=Uc(t,0);if(!(e&1))return fn(t,ot()),null;var n=rf(t,e);if(t.tag!==0&&n===2){var r=jp(t);r!==0&&(e=r,n=mm(t,r))}if(n===1)throw n=Al,os(t,0),ii(t,e),fn(t,ot()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ki(t,on,Ar),fn(t,ot()),null}function cv(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(Ro=ot()+500,nd&&qi())}}function gs(t){fi!==null&&fi.tag===0&&!(Pe&6)&&fo();var e=Pe;Pe|=1;var n=xn.transition,r=De;try{if(xn.transition=null,De=1,t)return t()}finally{De=r,xn.transition=n,Pe=e,!(Pe&6)&&qi()}}function fv(){pn=to.current,We(to)}function os(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,LN(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(Hg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$c();break;case 3:Co(),We(un),We(Qt),ev();break;case 5:Zg(r);break;case 4:Co();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:Qg(r.type._context);break;case 22:case 23:fv()}n=n.return}if(Ct=t,ht=t=Si(t.current,null),xt=pn=e,Et=0,Al=null,lv=od=ms=0,on=Xa=null,es!==null){for(e=0;e<es.length;e++)if(n=es[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}es=null}return t}function DS(t,e){do{var n=ht;try{if(Kg(),yc.current=Zc,Jc){for(var r=Je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jc=!1}if(ps=0,At=_t=Je=null,Ka=!1,wl=0,av.current=null,n===null||n.return===null){Et=1,Al=e,ht=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=l_(o);if(p!==null){p.flags&=-257,u_(p,o,a,s,e),p.mode&1&&a_(s,u,e),e=p,l=u;var _=e.updateQueue;if(_===null){var y=new Set;y.add(l),e.updateQueue=y}else _.add(l);break e}else{if(!(e&1)){a_(s,u,e),dv();break e}l=Error(ee(426))}}else if(Qe&&a.mode&1){var E=l_(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),u_(E,o,a,s,e),Wg(ko(l,a));break e}}s=l=ko(l,a),Et!==4&&(Et=2),Xa===null?Xa=[s]:Xa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=_S(s,l,e);e_(s,m);break e;case 1:a=l;var h=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(wi===null||!wi.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var g=ES(s,a,e);e_(s,g);break e}}s=s.return}while(s!==null)}US(n)}catch(w){e=w,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(1)}function VS(){var t=ef.current;return ef.current=Zc,t===null?Zc:t}function dv(){(Et===0||Et===3||Et===2)&&(Et=4),Ct===null||!(ms&268435455)&&!(od&268435455)||ii(Ct,xt)}function rf(t,e){var n=Pe;Pe|=2;var r=VS();(Ct!==t||xt!==e)&&(Ar=null,os(t,e));do try{sO();break}catch(i){DS(t,i)}while(1);if(Kg(),Pe=n,ef.current=r,ht!==null)throw Error(ee(261));return Ct=null,xt=0,Et}function sO(){for(;ht!==null;)FS(ht)}function oO(){for(;ht!==null&&!OR();)FS(ht)}function FS(t){var e=jS(t.alternate,t,pn);t.memoizedProps=t.pendingProps,e===null?US(t):ht=e,av.current=null}function US(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ZN(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,ht=null;return}}else if(n=JN(n,e,pn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);Et===0&&(Et=5)}function Ki(t,e,n){var r=De,i=xn.transition;try{xn.transition=null,De=1,aO(t,e,n,r)}finally{xn.transition=i,De=r}return null}function aO(t,e,n,r){do fo();while(fi!==null);if(Pe&6)throw Error(ee(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(jR(t,s),t===Ct&&(ht=Ct=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$u||($u=!0,qS(Fc,function(){return fo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xn.transition,xn.transition=null;var o=De;De=1;var a=Pe;Pe|=4,av.current=null,tO(t,n),xS(n,t),CN(Gp),Bc=!!Wp,Gp=Wp=null,t.current=n,nO(n),PR(),Pe=a,De=o,xn.transition=s}else t.current=n;if($u&&($u=!1,fi=t,nf=i),s=t.pendingLanes,s===0&&(wi=null),MR(n.stateNode),fn(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(tf)throw tf=!1,t=hm,hm=null,t;return nf&1&&t.tag!==0&&fo(),s=t.pendingLanes,s&1?t===pm?Ya++:(Ya=0,pm=t):Ya=0,qi(),null}function fo(){if(fi!==null){var t=yT(nf),e=xn.transition,n=De;try{if(xn.transition=null,De=16>t?16:t,fi===null)var r=!1;else{if(t=fi,fi=null,nf=0,Pe&6)throw Error(ee(331));var i=Pe;for(Pe|=4,ae=t.current;ae!==null;){var s=ae,o=s.child;if(ae.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ae=u;ae!==null;){var f=ae;switch(f.tag){case 0:case 11:case 15:Qa(8,f,s)}var c=f.child;if(c!==null)c.return=f,ae=c;else for(;ae!==null;){f=ae;var d=f.sibling,p=f.return;if(NS(f),f===u){ae=null;break}if(d!==null){d.return=p,ae=d;break}ae=p}}}var _=s.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}ae=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ae=o;else e:for(;ae!==null;){if(s=ae,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qa(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,ae=m;break e}ae=s.return}}var h=t.current;for(ae=h;ae!==null;){o=ae;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,ae=v;else e:for(o=h;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:sd(9,a)}}catch(w){tt(a,a.return,w)}if(a===o){ae=null;break e}var g=a.sibling;if(g!==null){g.return=a.return,ae=g;break e}ae=a.return}}if(Pe=i,qi(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(Yf,t)}catch{}r=!0}return r}finally{De=n,xn.transition=e}}return!1}function T_(t,e,n){e=ko(n,e),e=_S(t,e,1),t=Ei(t,e,1),e=tn(),t!==null&&(Xl(t,1,e),fn(t,e))}function tt(t,e,n){if(t.tag===3)T_(t,t,n);else for(;e!==null;){if(e.tag===3){T_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wi===null||!wi.has(r))){t=ko(n,t),t=ES(e,t,1),e=Ei(e,t,1),t=tn(),e!==null&&(Xl(e,1,t),fn(e,t));break}}e=e.return}}function lO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tn(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(xt&n)===n&&(Et===4||Et===3&&(xt&130023424)===xt&&500>ot()-uv?os(t,0):lv|=n),fn(t,e)}function BS(t,e){e===0&&(t.mode&1?(e=Lu,Lu<<=1,!(Lu&130023424)&&(Lu=4194304)):e=1);var n=tn();t=Fr(t,e),t!==null&&(Xl(t,e,n),fn(t,n))}function uO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),BS(t,n)}function cO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),BS(t,n)}var jS;jS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||un.current)an=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return an=!1,YN(t,e,n);an=!!(t.flags&131072)}else an=!1,Qe&&e.flags&1048576&&$T(e,Gc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ec(t,e),t=e.pendingProps;var i=Ao(e,Qt.current);co(e,n),i=nv(null,e,r,t,i,n);var s=rv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(r)?(s=!0,Hc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yg(e),i.updater=rd,e.stateNode=i,i._reactInternals=e,nm(e,r,t,n),e=sm(null,e,r,!0,s,n)):(e.tag=0,Qe&&s&&$g(e),Zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ec(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=dO(r),t=Bn(r,t),i){case 0:e=im(null,e,r,t,n);break e;case 1:e=d_(null,e,r,t,n);break e;case 11:e=c_(null,e,r,t,n);break e;case 14:e=f_(null,e,r,Bn(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),im(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),d_(t,e,r,i,n);case 3:e:{if(AS(e),t===null)throw Error(ee(387));r=e.pendingProps,s=e.memoizedState,i=s.element,KT(t,e),Xc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ko(Error(ee(423)),e),e=h_(t,e,r,n,i);break e}else if(r!==i){i=ko(Error(ee(424)),e),e=h_(t,e,r,n,i);break e}else for(vn=_i(e.stateNode.containerInfo.firstChild),_n=e,Qe=!0,qn=null,n=JT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Io(),r===i){e=Ur(t,e,n);break e}Zt(t,e,r,n)}e=e.child}return e;case 5:return ZT(e),t===null&&Zp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Kp(r,i)?o=null:s!==null&&Kp(r,s)&&(e.flags|=32),SS(t,e),Zt(t,e,o,n),e.child;case 6:return t===null&&Zp(e),null;case 13:return IS(t,e,n);case 4:return Jg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bo(e,null,r,n):Zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),c_(t,e,r,i,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ue(Kc,r._currentValue),r._currentValue=o,s!==null)if(Yn(s.value,o)){if(s.children===i.children&&!un.current){e=Ur(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=xr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),em(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ee(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),em(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,co(e,n),i=Mn(i),r=r(i),e.flags|=1,Zt(t,e,r,n),e.child;case 14:return r=e.type,i=Bn(r,e.pendingProps),i=Bn(r.type,i),f_(t,e,r,i,n);case 15:return wS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),Ec(t,e),e.tag=1,cn(r)?(t=!0,Hc(e)):t=!1,co(e,n),XT(e,r,i),nm(e,r,i,n),sm(null,e,r,!0,t,n);case 19:return bS(t,e,n);case 22:return TS(t,e,n)}throw Error(ee(156,e.tag))};function qS(t,e){return pT(t,e)}function fO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,e,n,r){return new fO(t,e,n,r)}function hv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dO(t){if(typeof t=="function")return hv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pg)return 11;if(t===xg)return 14}return 2}function Si(t,e){var n=t.alternate;return n===null?(n=On(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")hv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Hs:return as(n.children,i,s,e);case Og:o=8,i|=8;break;case bp:return t=On(12,n,e,i|2),t.elementType=bp,t.lanes=s,t;case Cp:return t=On(13,n,e,i),t.elementType=Cp,t.lanes=s,t;case kp:return t=On(19,n,e,i),t.elementType=kp,t.lanes=s,t;case Yw:return ad(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Qw:o=10;break e;case Xw:o=9;break e;case Pg:o=11;break e;case xg:o=14;break e;case ti:o=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=On(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function as(t,e,n,r){return t=On(7,t,r,e),t.lanes=n,t}function ad(t,e,n,r){return t=On(22,t,r,e),t.elementType=Yw,t.lanes=n,t.stateNode={isHidden:!1},t}function Lh(t,e,n){return t=On(6,t,null,e),t.lanes=n,t}function Mh(t,e,n){return e=On(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mh(0),this.expirationTimes=mh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function pv(t,e,n,r,i,s,o,a,l){return t=new hO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=On(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yg(s),t}function pO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$s,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function zS(t){if(!t)return xi;t=t._reactInternals;e:{if(Rs(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(cn(n))return qT(t,n,e)}return e}function $S(t,e,n,r,i,s,o,a,l){return t=pv(n,r,!0,t,i,s,o,a,l),t.context=zS(null),n=t.current,r=tn(),i=Ti(n),s=xr(r,i),s.callback=e??null,Ei(n,s,i),t.current.lanes=i,Xl(t,i,r),fn(t,r),t}function ld(t,e,n,r){var i=e.current,s=tn(),o=Ti(i);return n=zS(n),e.context===null?e.context=n:e.pendingContext=n,e=xr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ei(i,e,o),t!==null&&(Kn(t,i,o,s),vc(t,i,o)),o}function sf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function S_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mv(t,e){S_(t,e),(t=t.alternate)&&S_(t,e)}function mO(){return null}var HS=typeof reportError=="function"?reportError:function(t){console.error(t)};function gv(t){this._internalRoot=t}ud.prototype.render=gv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));ld(t,e,null,null)};ud.prototype.unmount=gv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gs(function(){ld(null,t,null,null)}),e[Vr]=null}};function ud(t){this._internalRoot=t}ud.prototype.unstable_scheduleHydration=function(t){if(t){var e=wT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ri.length&&e!==0&&e<ri[n].priority;n++);ri.splice(n,0,t),n===0&&ST(t)}};function vv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function A_(){}function gO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=sf(o);s.call(u)}}var o=$S(e,r,t,0,null,!1,!1,"",A_);return t._reactRootContainer=o,t[Vr]=o.current,gl(t.nodeType===8?t.parentNode:t),gs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=sf(l);a.call(u)}}var l=pv(t,0,!1,null,null,!1,!1,"",A_);return t._reactRootContainer=l,t[Vr]=l.current,gl(t.nodeType===8?t.parentNode:t),gs(function(){ld(e,l,n,r)}),l}function fd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=sf(o);a.call(l)}}ld(e,o,t,i)}else o=gO(n,e,t,i,r);return sf(o)}_T=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=La(e.pendingLanes);n!==0&&(Dg(e,n|1),fn(e,ot()),!(Pe&6)&&(Ro=ot()+500,qi()))}break;case 13:gs(function(){var r=Fr(t,1);if(r!==null){var i=tn();Kn(r,t,1,i)}}),mv(t,1)}};Vg=function(t){if(t.tag===13){var e=Fr(t,134217728);if(e!==null){var n=tn();Kn(e,t,134217728,n)}mv(t,134217728)}};ET=function(t){if(t.tag===13){var e=Ti(t),n=Fr(t,e);if(n!==null){var r=tn();Kn(n,t,e,r)}mv(t,e)}};wT=function(){return De};TT=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};Fp=function(t,e,n){switch(e){case"input":if(Op(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=td(r);if(!i)throw Error(ee(90));Zw(r),Op(r,i)}}}break;case"textarea":tT(t,n);break;case"select":e=n.value,e!=null&&oo(t,!!n.multiple,e,!1)}};lT=cv;uT=gs;var vO={usingClientEntryPoint:!1,Events:[Jl,Qs,td,oT,aT,cv]},wa={findFiberByHostInstance:Zi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},yO={bundleType:wa.bundleType,version:wa.version,rendererPackageName:wa.rendererPackageName,rendererConfig:wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dT(t),t===null?null:t.stateNode},findFiberByHostInstance:wa.findFiberByHostInstance||mO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{Yf=Hu.inject(yO),fr=Hu}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vO;Sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vv(e))throw Error(ee(200));return pO(t,e,null,n)};Sn.createRoot=function(t,e){if(!vv(t))throw Error(ee(299));var n=!1,r="",i=HS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=pv(t,1,!1,null,null,n,!1,r,i),t[Vr]=e.current,gl(t.nodeType===8?t.parentNode:t),new gv(e)};Sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=dT(e),t=t===null?null:t.stateNode,t};Sn.flushSync=function(t){return gs(t)};Sn.hydrate=function(t,e,n){if(!cd(e))throw Error(ee(200));return fd(null,t,e,!0,n)};Sn.hydrateRoot=function(t,e,n){if(!vv(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=HS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=$S(e,null,t,1,n??null,i,!1,s,o),t[Vr]=e.current,gl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ud(e)};Sn.render=function(t,e,n){if(!cd(e))throw Error(ee(200));return fd(null,t,e,!1,n)};Sn.unmountComponentAtNode=function(t){if(!cd(t))throw Error(ee(40));return t._reactRootContainer?(gs(function(){fd(null,null,t,!1,function(){t._reactRootContainer=null,t[Vr]=null})}),!0):!1};Sn.unstable_batchedUpdates=cv;Sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!cd(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return fd(t,e,n,!1,r)};Sn.version="18.2.0-next-9e3b772b8-20220608";function WS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WS)}catch(t){console.error(t)}}WS(),$w.exports=Sn;var GS=$w.exports,I_=GS;Ap.createRoot=I_.createRoot,Ap.hydrateRoot=I_.hydrateRoot;var KS="Expected a function",b_=0/0,_O="[object Symbol]",EO=/^\s+|\s+$/g,wO=/^[-+]0x[0-9a-f]+$/i,TO=/^0b[01]+$/i,SO=/^0o[0-7]+$/i,AO=parseInt,IO=typeof at=="object"&&at&&at.Object===Object&&at,bO=typeof self=="object"&&self&&self.Object===Object&&self,CO=IO||bO||Function("return this")(),kO=Object.prototype,RO=kO.toString,NO=Math.max,OO=Math.min,Dh=function(){return CO.Date.now()};function PO(t,e,n){var r,i,s,o,a,l,u=0,f=!1,c=!1,d=!0;if(typeof t!="function")throw new TypeError(KS);e=C_(e)||0,of(n)&&(f=!!n.leading,c="maxWait"in n,s=c?NO(C_(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d);function p(A){var S=r,I=i;return r=i=void 0,u=A,o=t.apply(I,S),o}function _(A){return u=A,a=setTimeout(m,e),f?p(A):o}function y(A){var S=A-l,I=A-u,k=e-S;return c?OO(k,s-I):k}function E(A){var S=A-l,I=A-u;return l===void 0||S>=e||S<0||c&&I>=s}function m(){var A=Dh();if(E(A))return h(A);a=setTimeout(m,y(A))}function h(A){return a=void 0,d&&r?p(A):(r=i=void 0,o)}function v(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function g(){return a===void 0?o:h(Dh())}function w(){var A=Dh(),S=E(A);if(r=arguments,i=this,l=A,S){if(a===void 0)return _(l);if(c)return a=setTimeout(m,e),p(l)}return a===void 0&&(a=setTimeout(m,e)),o}return w.cancel=v,w.flush=g,w}function xO(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(KS);return of(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),PO(t,e,{leading:r,maxWait:e,trailing:i})}function of(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function LO(t){return!!t&&typeof t=="object"}function MO(t){return typeof t=="symbol"||LO(t)&&RO.call(t)==_O}function C_(t){if(typeof t=="number")return t;if(MO(t))return b_;if(of(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=of(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(EO,"");var n=TO.test(t);return n||SO.test(t)?AO(t.slice(2),n?2:8):wO.test(t)?b_:+t}var DO=xO;const VO=Qf(DO);var FO="Expected a function",k_=0/0,UO="[object Symbol]",BO=/^\s+|\s+$/g,jO=/^[-+]0x[0-9a-f]+$/i,qO=/^0b[01]+$/i,zO=/^0o[0-7]+$/i,$O=parseInt,HO=typeof at=="object"&&at&&at.Object===Object&&at,WO=typeof self=="object"&&self&&self.Object===Object&&self,GO=HO||WO||Function("return this")(),KO=Object.prototype,QO=KO.toString,XO=Math.max,YO=Math.min,Vh=function(){return GO.Date.now()};function JO(t,e,n){var r,i,s,o,a,l,u=0,f=!1,c=!1,d=!0;if(typeof t!="function")throw new TypeError(FO);e=R_(e)||0,vm(n)&&(f=!!n.leading,c="maxWait"in n,s=c?XO(R_(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d);function p(A){var S=r,I=i;return r=i=void 0,u=A,o=t.apply(I,S),o}function _(A){return u=A,a=setTimeout(m,e),f?p(A):o}function y(A){var S=A-l,I=A-u,k=e-S;return c?YO(k,s-I):k}function E(A){var S=A-l,I=A-u;return l===void 0||S>=e||S<0||c&&I>=s}function m(){var A=Vh();if(E(A))return h(A);a=setTimeout(m,y(A))}function h(A){return a=void 0,d&&r?p(A):(r=i=void 0,o)}function v(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function g(){return a===void 0?o:h(Vh())}function w(){var A=Vh(),S=E(A);if(r=arguments,i=this,l=A,S){if(a===void 0)return _(l);if(c)return a=setTimeout(m,e),p(l)}return a===void 0&&(a=setTimeout(m,e)),o}return w.cancel=v,w.flush=g,w}function vm(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function ZO(t){return!!t&&typeof t=="object"}function eP(t){return typeof t=="symbol"||ZO(t)&&QO.call(t)==UO}function R_(t){if(typeof t=="number")return t;if(eP(t))return k_;if(vm(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=vm(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(BO,"");var n=qO.test(t);return n||zO.test(t)?$O(t.slice(2),n?2:8):jO.test(t)?k_:+t}var tP=JO;const N_=Qf(tP);var QS=function(){};function XS(t){var e=void 0,n=void 0,r=void 0;for(e=0;e<t.length;e+=1)if(n=t[e],n.dataset&&n.dataset.aos||(r=n.children&&XS(n.children),r))return!0;return!1}function nP(t){t&&t.forEach(function(e){var n=Array.prototype.slice.call(e.addedNodes),r=Array.prototype.slice.call(e.removedNodes),i=n.concat(r);if(XS(i))return QS()})}function YS(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function rP(){return!!YS()}function iP(t,e){var n=window.document,r=YS(),i=new r(nP);QS=e,i.observe(n.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}var O_={isSupported:rP,ready:iP},sP=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},oP=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),aP=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lP=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,uP=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,cP=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,fP=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;function P_(){return navigator.userAgent||navigator.vendor||window.opera||""}var dP=function(){function t(){sP(this,t)}return oP(t,[{key:"phone",value:function(){var n=P_();return!!(lP.test(n)||uP.test(n.substr(0,4)))}},{key:"mobile",value:function(){var n=P_();return!!(cP.test(n)||fP.test(n.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}},{key:"ie11",value:function(){return"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style}}]),t}(),Ac=new dP,hP=function(e,n){return n&&n.forEach(function(r){return e.classList.add(r)})},pP=function(e,n){return n&&n.forEach(function(r){return e.classList.remove(r)})},Wu=function(e,n){var r=void 0;return Ac.ie11()?(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,{detail:n})):r=new CustomEvent(e,{detail:n}),document.dispatchEvent(r)},mP=function(e,n){var r=e.options,i=e.position,s=e.node;e.data;var o=function(){e.animated&&(pP(s,r.animatedClassNames),Wu("aos:out",s),e.options.id&&Wu("aos:in:"+e.options.id,s),e.animated=!1)},a=function(){e.animated||(hP(s,r.animatedClassNames),Wu("aos:in",s),e.options.id&&Wu("aos:in:"+e.options.id,s),e.animated=!0)};r.mirror&&n>=i.out&&!r.once?o():n>=i.in?a():e.animated&&!r.once&&o()},x_=function(e){return e.forEach(function(n,r){return mP(n,window.pageYOffset)})},JS=function(e){for(var n=0,r=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)n+=e.offsetLeft-(e.tagName!="BODY"?e.scrollLeft:0),r+=e.offsetTop-(e.tagName!="BODY"?e.scrollTop:0),e=e.offsetParent;return{top:r,left:n}},Ai=function(t,e,n){var r=t.getAttribute("data-aos-"+e);if(typeof r<"u"){if(r==="true")return!0;if(r==="false")return!1}return r||n},gP=function(e,n,r){var i=window.innerHeight,s=Ai(e,"anchor"),o=Ai(e,"anchor-placement"),a=Number(Ai(e,"offset",o?0:n)),l=o||r,u=e;s&&document.querySelectorAll(s)&&(u=document.querySelectorAll(s)[0]);var f=JS(u).top-i;switch(l){case"top-bottom":break;case"center-bottom":f+=u.offsetHeight/2;break;case"bottom-bottom":f+=u.offsetHeight;break;case"top-center":f+=i/2;break;case"center-center":f+=i/2+u.offsetHeight/2;break;case"bottom-center":f+=i/2+u.offsetHeight;break;case"top-top":f+=i;break;case"bottom-top":f+=i+u.offsetHeight;break;case"center-top":f+=i+u.offsetHeight/2;break}return f+a},vP=function(e,n){var r=Ai(e,"anchor"),i=Ai(e,"offset",n),s=e;r&&document.querySelectorAll(r)&&(s=document.querySelectorAll(r)[0]);var o=JS(s).top;return o+s.offsetHeight-i},yP=function(e,n){return e.forEach(function(r,i){var s=Ai(r.node,"mirror",n.mirror),o=Ai(r.node,"once",n.once),a=Ai(r.node,"id"),l=n.useClassNames&&r.node.getAttribute("data-aos"),u=[n.animatedClassName].concat(l?l.split(" "):[]).filter(function(f){return typeof f=="string"});n.initClassName&&r.node.classList.add(n.initClassName),r.position={in:gP(r.node,n.offset,n.anchorPlacement),out:s&&vP(r.node,n.offset)},r.options={once:o,mirror:s,animatedClassNames:u,id:a}}),e},ZS=function(){var t=document.querySelectorAll("[data-aos]");return Array.prototype.map.call(t,function(e){return{node:e}})},br=[],L_=!1,et={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,mirror:!1,anchorPlacement:"top-bottom",startEvent:"DOMContentLoaded",animatedClassName:"aos-animate",initClassName:"aos-init",useClassNames:!1,disableMutationObserver:!1,throttleDelay:99,debounceDelay:50},e2=function(){return document.all&&!window.atob},_P=function(){return br=yP(br,et),x_(br),window.addEventListener("scroll",VO(function(){x_(br,et.once)},et.throttleDelay)),br},Ji=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;e&&(L_=!0),L_&&_P()},t2=function(){if(br=ZS(),r2(et.disable)||e2())return n2();Ji()},n2=function(){br.forEach(function(e,n){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay"),et.initClassName&&e.node.classList.remove(et.initClassName),et.animatedClassName&&e.node.classList.remove(et.animatedClassName)})},r2=function(e){return e===!0||e==="mobile"&&Ac.mobile()||e==="phone"&&Ac.phone()||e==="tablet"&&Ac.tablet()||typeof e=="function"&&e()===!0},EP=function(e){return et=aP(et,e),br=ZS(),!et.disableMutationObserver&&!O_.isSupported()&&(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),et.disableMutationObserver=!0),et.disableMutationObserver||O_.ready("[data-aos]",t2),r2(et.disable)||e2()?n2():(document.querySelector("body").setAttribute("data-aos-easing",et.easing),document.querySelector("body").setAttribute("data-aos-duration",et.duration),document.querySelector("body").setAttribute("data-aos-delay",et.delay),["DOMContentLoaded","load"].indexOf(et.startEvent)===-1?document.addEventListener(et.startEvent,function(){Ji(!0)}):window.addEventListener("load",function(){Ji(!0)}),et.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1&&Ji(!0),window.addEventListener("resize",N_(Ji,et.debounceDelay,!0)),window.addEventListener("orientationchange",N_(Ji,et.debounceDelay,!0)),br)},wP={init:EP,refresh:Ji,refreshHard:t2};const TP="_header_1vfsr_1",SP="_container_1vfsr_6",AP="_logo_1vfsr_17",IP="_nav_1vfsr_26",bP="_contacts_1vfsr_48",CP="_mobileMenu_1vfsr_43",Fs={header:TP,container:SP,logo:AP,nav:IP,contacts:bP,mobileMenu:CP};var i2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},M_=we.createContext&&we.createContext(i2),Ii=globalThis&&globalThis.__assign||function(){return Ii=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ii.apply(this,arguments)},kP=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function s2(t){return t&&t.map(function(e,n){return we.createElement(e.tag,Ii({key:n},e.attr),s2(e.child))})}function dd(t){return function(e){return we.createElement(RP,Ii({attr:Ii({},t.attr)},e),s2(t.child))}}function RP(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=kP(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),we.createElement("svg",Ii({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Ii(Ii({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&we.createElement("title",null,s),t.children)};return M_!==void 0?we.createElement(M_.Consumer,null,function(n){return e(n)}):e(i2)}function NP(t){return dd({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"}}]})(t)}function OP(t){return dd({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(t)}function PP(t){return dd({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"}}]})(t)}function xP(t){return dd({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(t)}const o2=""+new URL("eyeWhite-16c83a72.png",import.meta.url).href,LP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABTCAYAAABgdgI7AAAA4WlDQ1BzUkdCAAAYlWNgYDzNAARMDgwMuXklRUHuTgoRkVEKDEggMbm4gAE3YGRg+HYNRDIwXNYNLGHlx6MWG+AsAloIpD8AsUg6mM3IAmInQdgSIHZ5SUEJkK0DYicXFIHYQBcz8BSFBDkD2T5AtkI6EjsJiZ2SWpwMZOcA2fEIv+XPZ2Cw+MLAwDwRIZY0jYFhezsDg8QdhJjKQgYG/lYGhm2XEWKf/cH+ZRQ7VJJaUQIS8dN3ZChILEoESzODAjQtjYHh03IGBt5IBgbhCwwMXNEQd4ABazEwoEkMJ0IAAHLYNoSjH0ezAAAACXBIWXMAABcRAAAXEQHKJvM/AAAJTUlEQVR4nO2cSW8lVxXHf+fcW2+w3bZjJ47T7iHpAQhhSrIJg4SEFESCEGwAIbFALBFIkfgI8BX4BCxYsAgSC9hF7FCyIWJIUEhHPaiTHpKePL1Xde9hUfWe3S3b8XPVcz0/v59kd8t+uq46/3vPdG+VmJkxoTa07gs47kwEqJmJADUzEaBmJgLUzESAmpkIUDMTAWpmIkDNTASomYkANeOrHKxjRgRgfNtLBjhRmhWNV4kAHYv8D+MaRhoDjHF/z4CGJpxEuChCS6TUeFK2G9o14x8x8gEBCxnKOM9/ECCaIS5hRR0vitCWg3vy0ivgkgWuWIS0kwcUEcrNidFHzTDrctUlzIjwZd848D2XCsIB45pF0pghIlByOR4ZRADDWeSWKF2LBx6qlAAGxDH3+buRTzVj0wLrJe5/koYemJ4EvczvYEwEqIAyjrfSOuCgqAiuiB+ZGcdpm7p2AQRIQ2Q9GiKQqOJkvFPZ7dQuQDvx/PW/V/nLO5dRFX78wkVeOrXEeprVfWmHQu0COBVura1z6fptcMq9jbM4PSbpLCMggAFeFRIPXvEqxyqrPVQBBGgWlXIgb2PsxVTi8aoEM9a76cBxwQya3tHyDgM204xuiCNVLx6aAAKkZnwYApkZbREWndsxhdMiCL/x/nVurW0y30546cwyDafEAZZH0ynv3rrDOzfv4QWeX3mcU7PTdGOZzL1aDk2ApgjXsozffnybLEY+32zy2sIiO0mgopjBH99+n6vXbjK/NM/zK08wlTi6Yf8CtBLPm9du8/rf/w2qvPbyi1xYnKXTiSPTrxqaAL0Kz4ovASLwSQgQI/eLWbizIfKUtJk4aHha3j/0ue3V415z2TC8K+KLczjVvhtT6VWy1Fp3VC5AvmEhNMkbVhlbvl6ARIRUBL8PRyyQd1cf+Wgi0hdh02zP2NAbY7uCKnlsECCLRjeEfd3bMKhUAAPaIlxKU/704D7RjOdabb4zNdX/fRkcEMz4w4P7XE8zGir8ZHaOBVXSfY7RFMe79+7y5/9cJutknHvyMV599jQKRMtXhhbdzmA29Iys8hWQiPBJjPxtbQ3MEFW+Nz1NrCD1EBFEhDc3NvmgswnO8YMTszgR0n1ayiN8st7hjfeuwVqHeyHw3WfPFB1mA+m5TEGKRtsw48VQXJAHVPOMpSVSaVtBgLYqqDKlWji6/Oe+SHENdhUkAlMNz3S7yVqMmECMhveKqPD6vy7x9uWbuIbnh1+5wBeeXGAzy/Db3F76KW5vEGovxAbByFdY8shq6gX49RiJ5K5qtxhjQNN7EpebcyMLBIsIighcurPKP6/ehFbCtz93FlcM04mRjDwB8CJIRb7pSAkAubEf7aE3VPkoTfndnY+5m2WsJE1+8dhjewR62/G/kAdnmgm+keA1d3lNVX5/9y5vra+h6vjlwgIXk4TNCu7nyAnQS2u3I5YHzEtZxmo3BXW7ugjDmEk8Le/A4P5mlzREpCG7pqMK3AgZV7pd8I6uWWUbKWOzIdNrc6Dab3fs/uGt3wa2YsheJMXYTrTSkx9jI8AgONkqxOquiI+XAAYRY6qR0HRuJHZ9jpcAI8iRC8I70cv912KEGFm3vfpMBxt/0wxiJIgQKhx7LAQIRcH3yvQMqyGy5D0OBmpd98hihCyQbWt9p2a80GwxI4KKMq+aF3oVVPdjIUAXmFbl57PziOSG3zRj0BabAScaCQvTLVwjwbt8M6hrxsvT07wyMwNmbBQ/q2IVDE2ACGDlDi3tRtcMCiNvTyE3LCK2c63wKJ0sQJrl/5KLlobIj750ju8/9zRK3rLYyAJS/M1eC8LI+1JVMBQBesaHatO83s2fSjyrIaHlHJ4tY+/H8FZ8Ozs3jUszFuZnUNnah55tNfpnlLohEoqZvp+xD0KlAvSC1Wnv+fXiIgAnfcKmGQ3KixGLivdnc3PY7ByCoJI/GLLfC8wsoir86htfLNrP+cmMrNggSkOku+1ah10nVL4CUjPmVflWexokX7qdQoCqaKKo5jMyO2BnsuldvvdskMb40BiHWZxVLkDvxMOqxf6a7d1Qv01czOS9RjFgI82g02U9zR4yUIbtyx8I5LtdnS44Rxa29oKzEdmYP7wsqOjPzBRbki3RXW0YC7/71bPLXJ2bYWmm3T+eMgjdGLmwOMdLzz2NF2H5xBTpiBi+x6EJ0ImRZef4zRNLRDPamje1sh1k6Anw0xcuoipEy8/0hDiYABtp4GtnlvjmM8sAdLPAehpq7/9s59AEiEBDhPNJkm+Gk8eHvUzaCQEJwkH3nwTIQiRE659+GCXjwyEXYhHY2MGNRDMIEeTh6tWMAxu/Pwb1Hjv5NEaiEm46R7vdQJySuN1jwzhSuwDracbXn3mKZ5cXEBGWplp59nNMqF2AEI3FqRZPnZjCyNPGLI6erx4WtQuQn06LD+Xlx8X4MNmQKU3eI6rxMdXj4yweJTe6R/ElzFhKAAUS4fg8Ib+NfObnFX27xO2XFEC4oAlTmhApn7MfHQxDEOc4KdAoYcbSQXhFHKsK7yVN1rJufqh1SAvCAI2xaNWV/yMmQhzw5SK9Kdb0DS4gfEa01KWUfl1N77KuWOS6GR1kKLtgkC/X+zFlIxz8/RRmBurAKdOizMjup+h2QoCWCI+bcU60f77ooFQkwBZ5f2c4rigavBUzblgkZulA24JmBqKYcyy4hJMCpy1/nmFQAXxxOq4KKq8DGiIMK5O/Q+SBCCFkA828CIhPmHKeFeA8wlxJ11EVtRdig3A5ZDyIGbqPKWsYIoqp0lTHMsJFUR4v8XarYXBkBNiIkY9U9n4qDwAjIqh6nCpPqeecCEtIaX89DI6MADeIrMeI7hGyDMB5EnWccQknY2RZtH/KYRQ5EgJE4EPyxp3F+EjwLTZb1NFwCU+q42kzTiKIunoueACOhAD3YuSOGVnIHprNZoY4h/OeeZTzCGdQ3Gi5+T05EgJciSn3LPSf18pnvOLUcQLlgjhWENoj7Gp2Y+QF2CzeTKgh9HN5SRLmRDknjpNmzIxYZjMIIy/AbTNWe8WdT5hVxzPqOAWcGINXZY68ANeBrgjTvsGKCOdF8yJqTBhpAW7FwA2LnEb4rCoLY2T4HpX3gqrCgNsh0AFWnDKuL0QeWQGOC+O3po8YEwFqZiJAzUwEqJmJADUzEaBmJgLUzP8BceOxByPY3RIAAAAASUVORK5CYII=",MP=""+new URL("f2-4c08f1f1.png",import.meta.url).href,DP=""+new URL("f3-597e06c4.png",import.meta.url).href,VP=""+new URL("f4-569ebff3.png",import.meta.url).href,FP=""+new URL("f5-9dc6bad3.png",import.meta.url).href,UP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAADmCAMAAAD2tAmJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAPUExURQAAAACXqwCZrQCargCZrcbPUIkAAAAEdFJOUwBAf78wcCB+AAAACXBIWXMAADLAAAAywAEoZFrbAAAJa0lEQVR4Xu2d7bqrKgyEt9r7v+YjOtoWCGRi+OizzvzqskjyMgFpbVf/xVqWbXsFbeuKQz+iZT0zVyS+nIiXtp8hjRJ/lRKPmh76CdAYMkhKfMXzsaYHzUEGZRMX2u6anFOyJ5e4NCKHtgWtZlQp8VeU+ILDkublLFJGidcoXy80nE4Vym9OHCpoQ8vJJM/LSx+J1xtPug5pEr85NY3nnJ5IrazLIPxZ0YRlq/MH64qy8Xx2ahM/DcIfVU1npxbzsFPdeDo7kVZdIXE8VGgyO/X+hMTxUKHJMKs7g7cWYkxmq1okpdEPY9Y3qG9tjPVz7YQYfzbG+t/FfFGYU61BTBn+j5nRD2P+7BL0RzC5lfZPXDdXqjUCzCEOk1iDpqpZanJSrSfD1NsZEte3PnufR0irrsMfrZ2TvQ4j1tqjtdrOR0W7LOu64dZp0P54XdflweKtpkTe6tlp47xvDAvaadGSkpryqkJuLlNaVuUY0qj66/3ds+EUhXYXcZZSDKopZX0+6kxYxlNaUqMxzpw2xlOrYlXSU0aXB09O7XyUVP1gh5nSXAaJnhj5VjHGo1TVJ5dS8IEMKkR5mKnu9EJ8P8ggOZAuUfETE2t6fnKkQOkKGSTGSrJKNyDlj4V8LR+hadTj0yEmJYXLZPWZ+ab47Mu5+dyu/eZXj+LZvvX6lsT5tXO7Gu3bxrBTtm2UPzjF85tYeUoA/eCUhoLUzSBRtrLyVI3TifLmlCgbWnkqDwJON0qACJRtrTyVRzmycqQ8ehT607+Ke6L8yilnZZX00qF5wV7Kxre9IOfVjdLdN0YdpuVbwzi7Uo7i7LP4fGrEW6j9KUdwjqDszzmGsjsnovZXV87Oa+ynOq63Ayk7cnbc++TUiXMwZeHVvafslNu2XG9ghHdicNSgs4+2QihWOyI6uJV5J1GnDsutzQTpzogRtPn0NOVVysoG2nh6WpKqvWlq6hPnNhKiMKoX2HScfEKK97/3ddcw4RuWrYESZ9bEcza0k05GvyLyI9hstaVTYTLh/WxVtuheLa6uaM5GZUubifOU4l+pt7ETnavFZkFzNrGTNZNfIuhyaWAnm0N2qPH5vU3Y4p5n6tXATgczv3YBObPpsvW3Ex1rlVIkW50MKLvautv52MxMB5mhwDNqeduJbrXSUOY4B9v51Ezh/ISTthPnOQmdqoXTLonZx0U3tmobmZkpuqFV+xCzcHrsBhvJ1U50qRZOu1SwKHaDrlpHO9khjkPjcFaxGzisliPmwwlTHKUYk43lWLXoUK1oahYzj92gMd3spJeFJ5h0sGkwcVQQGl2ig7ntENCdXtF0wVFBaHSJx3SanI8Dty1ar6r9I5j02kdhqveFsnDmQ6EzQlHqxZ2NA6bL5KS3X2kZ4XBWaHKLr51kpEwyDG+MWUg9SRHHGblMTgNmbFGhIKbBNFRRMlvEPhJKy6C6rEHoilI8vqKdeP4tE6bHGoSuOOHcWwJnunjgCU4OmIaFdlcSOOtSSmky0wPTFjhdFTL9pJTGaJmOWNkCZwZ4iXrKfioBz5Eah5lb5L++e5hNzTEYKcv1JCg/X44fDNjE71fiXFYDMS2hjWaOxDRMGCulByZ6Mohd5m2XrqChmGxwc92MxSSjm0t2NCY1PR9QjnaTmZ0/i8kuQXbQgZiG0OaldhymbZtpNHQYJluwl2ycDpiWq9mDsCbOMZiPolomqMMLMR7zYVAD5whMMWb4XOLZW/iHiTiYEc/pgMlOFqFi0y8nSB/DNHA6YJIxs5TSFzC8/jeGdV3/EImZiVj8lkkelOTEWU/EYWayrkzuPGflpEg46ZHQlUppzopRyoIynA6XTS4gTnlLVX05TqaI8gVBisBM4innWM4OYnq6YOrHNQmnHqEcp354HRZaBhMn3CIMyXDa49qEzqqKzaSuChlOtZ1o/1DacGh+iaLMTTCtnS5TU40ZRWOWykPpDLMFtkqZMFpf0q8gl3DiW8rALivQLnRXVjSmZMkGpdNTN1Ro/FiqaNGY4iilxBbVWDnVrLJ40BYymJmxUxW4K2YUDEdJJXZq6ghNHaSI9p2hyUybnW5mqqKhJYSDtHD6rdkwv4NpqjwrQ9WioYuq0b4xjTWbqVoy8ENV7fm2AQd58ZPTFbOaOJq5q4qJdk6qFQ+a+Qv9S/I1szaq6T7NSwggCa3cVLbTeVA/1Dlu2c5RmGjkqGK8dpjFa1ODsEU7B2GijatKdo7BbBK1ZGeySXNTCRNNnFWws52bA4Ki+4yGXDfRwl2FAmpVtYWQIyqokZ39Z2ZQYRVqMrbdl1moELf6I2e0DHe5vVSKHD6q7yn0mhfyaaTKK5Vuamtmebr0U2vKStl2UrvL9K0Zyrbd3vKt8ZztSzZo9PTsQzmasxfl2GWow/JzayAnMugjxOyvHovsW6OW276Uozh7U47h7E+5c3Zfh0ZQ7urMOYiy7z6B+vqgs/pxdtoVCN+m6MXZaYe3SsPZh1Og9P6Z0QAjlU37hUialntWrpynZVKXrQ2VxveI68h5cUhdtt0pVEbXjfPtlthlO0PF68gd0onzE0G8drXaEokBP7KycS7Lsn78/vy3UWLYJobKF8uvaOA88g6pn3+W9OnKcbsgzr4wdN6ghX1PFGpP6qucyjc60srL/DxdqQdP0NLmLomT/mCgeEnVTq/iSHmBFnewukTzeaoTLGL6gBYhH2XqRbnrKWgZcpey7DK52s/MyfyLkwrGIHW20VLtSxlkIhX/lVksG6djxX6IJJW/OZ+RhbMNZdCi/GlYtY23+PprR3mo8jO4G+XiLf3Lhat37cDYKKGwEfv8PEH4cMG+o7QQnlJzomy1Zj6ibCA15zmU+KMq+8A3ktafw071zIyuQeOFvOoKBqkx+95yq0ufeDAIDxWarGqRlUbMmMxWtchKo+V3MYnE94uEejexCwHmEIO5/RVMPFBpqjWI8ef1P2aqP4KJAHOIw/wjS9DPYjL3p9bf3R5wmETryV5wIiuN9rUTjxSabOtOTDeq9dn7NNLXYShDdevZ3iTRG3SUobb10fVM0hp0+qNsPZ2ZaoOQuar1dO8E7dIZdPuDv4uabJk9pbroo61qVCYs2SBFIX74Ux2VSSkVhfiVeYVzWspqIUaZFznnpdxVrNtkRSkMy9SUJYeydxOF5vSdx+6SOAV7cneX54cMyoEWMlf9Pt2Uiu4UV+9+X/eWjTeRB+q6Kb4jRpn/+/cf5mt0ly9WIwQAAAAASUVORK5CYII=",BP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAADmCAMAAAAZdmK3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAPUExURQAAAACXqwCZrQCargCZrcbPUIkAAAAEdFJOUwBAf78wcCB+AAAACXBIWXMAADLAAAAywAEoZFrbAAAL7klEQVR4XuWd62LCKBBGq+77P/NC+GIyMFcgCe6eXy0OMCcDGFtb/+7h9Xq/P5l/dvI37/f79ULEj/N6neV4ku8v22ZFmHj4/KLs6x1R/JIqiwF+gFRHpN3Fb9R1UBIsrjpHsrCu6kTJwop7dbrkxmrH0jWWGwuZXmiZWcT0jXQuZAHTGywzD5t6V2y+Z38l0K2Qvk838t41/6Cpx3ITRLxEfi2DcI2HTG3L2B2cQ/YJU2Nj9t2lvs1REXgXL0zM8xm4Z3vpqreKqkt2RBKoqveZKmlMkNzQqnqXqFzMWZYbyrF0h6m4M6dKbshFvV5Umnq+5cZDptIBdJFlRjK9UlRYsxdaZgTTDx6eDz/hxZYZwfSikvJr9o6zTzqRuLnza4ORK89vzRuKWXCKIqz/4rNb8zbLDGtabdIjpjMzVvOWJXvArigieroUfacUdy1vLWaBLekpDbRs9GTHjX9zMQtsSb9GZNF1FJTTvL+YBe2S08fQ6IcZ+rrnaBNFdMyTGfiRNbvDrd2S0JDnapoJKaURT2bMp7bmgSA64NmO+ODWPOCvfr/noprsfcur37Md7emt+YUT7fVcWDPRHLufXs9mpH7N1+v9+VQnWGoZegnF3RudQJTNLM1NcaPyLI3976XRRRFk0pxBPenQd2awnht9rqooYiwmaDbvB5M9Ez2qmihCDJozKJoF9x4b1TMRV1VEEWGA4C/BDNgXUKZnIjoPujEgQqfOITY9b+nyDE+FXi0IUKlTCN0Fyb8YcXkGTUVRPK6C0C9o9iBmn3B6xkylYfCwRl0Qmp+GtGILbs+QqTAOHlWoO7rn1C1DnhFTflY8KFOvePeERuJBz8A7NtGBgsdkqsvj1bSKmYh5ylOn52YK4gmIFamnR7OFnXXcUzD1dLTzRtiOr5yOYibintz0rqlMz2p2n6bvCvd4tk/dzrkMz2oU3w2Cd+oez+ZSo9UE4QII2qGZCSg3mZQZnt5eumc1im/VukW7PKsc5ngiZgetJk7RHs/6UjtPIT33vnImfKIdnk0KU+qJEODXdIpST09l2hS8e0RLvrpWaPXhmZ+e3mjU4JJ1LlzNEyEgUs6ER/RcUMcCZDPwFfSqciYcCZwK2qvp26Hq8z5iQLCciYhov6anr5o77W5rthGeJZVfbbn+3o5J4NuU3wwlYv3dAcYHpuebCfHtHRdMsvUvLvoIljOHXyjKarLNUcr4O5ZnEbpMtPUpS933ukIjWE4xboooo4lHzMQsYp7f6EtEtUFHVy6GAWiUOF2UNifnDYsCBjo4XbvBlRsrJ8I2mtjhgjYqZEQrNx0MAtAooV+UYU9jwJGVGyonDW7D0dxNNV49nW/lbudz84tGOhYaJRB1QEebvG5rTbMMmW+nKhatBWOcdmLag3k8BvHkRsNDMqdOSmqGJ6II5y7j5+1pB7IXzUiQpnjeznQ0NAqwM5+m5h8/YV+Ho6DCYMZRRHqdY9FU6ChnYu9lWGy/HDL+xvMYTIozjiKSwymWnhy6p5xifkVkWH7fU2+JlsHk0fSCIgigMUFnRaMAgvo40jNFdfSC0utzTErae8vp4Dy0UXkLjMJDxz5mRUNB90RQHxhjY/BZVs2Sjv2tfWDZDpWTLjY0dqIu3OoaopUmf9OyHV646knEb1B8WwgsiChTPdWC8hsU3xbU6zRUzrme6v5iN2hgeyKmk7meakEQA0qbf3uOlXOyZ2DhlktC2n7HU115NNPiiW8KgdUQZrKnliq3QfFNYWsRGDttp3uqCxcxhS2SlFjtO7hsb/Wko+cWkr26PUczm+ypLlw6eo70eyKmmzs96R7LkWQ+revosp3uqS1c6plnxpeFEsTzU57tQYQvCyWGZzix2Z7+bJMnKbD/CvUw3dN/EAU8R589b/aku6z641CaCWV4e8731NKtD9xf9vQvv/+uJz1O3nQ6/8bu4Uc8OdDPB/Usn4PgHgLRFAzFgn6Fj99TILCcpV1hD9Hzv3GIWOWJkBB+UXn3G0VV6yZReeKLAkJiuJ9YZU99iC7N6tpN8LSq8UX21EWVfgrzPb0F1fJFCEdfOS/w1JI8o3kqa6KvnNW5McXTuXC1wvyEJ3pb/Lqnd39qngjh6Nyf8z3dz6Dys706RMdNQmL6OeTWVCqjjtFX0MqTfNtz5dy3CQlpqxmXqmuHzvU03yJD4TO2x+gwJWKB+3i8RKhARz/b5zxQXINgPgpSY+n2RMxCqJ6IKXzomtGWx097vqmn1jG2EW9B3bWIKbzpcal5Rs7Vm9A8abr/H0//jQJCFkI7Nuk2S5H4qvBbBy4SY6GeqcH9xLLcQaQet7QqdcNPbVD1uG203E8sy21Q/9NK1qJlKkE8q21QpMXSHLdVyy9tUKTFQnPdKo+vC9paWGyDqsuWem7Vcx9Ei21Q1bM5bmv1rUlgrQ2KpHgQUyjF82/QpRauWs72GErgu4LaHTFLENieCPVv0JUWLlLiYY4hds8KLLRw1XJWCw+N/g26UEFVT3Z7Vq3qwl2noEiIh92ekYW7zEmkL1sq9F2hQjMHvVLPgXQEEATQKC1nlkUWrl5OYdlGPJWT6PN+WZ/H6scYDMkISJ40ed1TKuh+fE0x3d9HIw2mpygt25CnUNCj0wRRczD1CKk6nZ8/SJHQJsEW9Hxt5JXt5aTBihqVoH1IMNoyxiDs1KTP8FFFnsE5UTwkgSiAxsJpNH1NZBB4QC/NsCcdrhU1KqGU8/SgrdmI1POiuRsptR20SyAK1Mltp/jH94ZBugOby4v2bprU0A6a+ShVNFq7IAVt7oeb6x9FH9HQrKa3onVOYzVJjXu2NTgPaa04hIExz2PltprDxxCncojGyjm0bBO7zCWammg7YQXiwGA593mZWbf2YURRa9XOLWcir1xGc/xmqCCImvXZOn8ZLue2Pi/UFETNvKeXM4viixMOzfwM7XpzFSeKL2TQF+iXRf2nq6cP0WgTsTX9/4CIE21bKqpRNU87AbG3QxORiS5RC3QEmqZngwn9HV3PPR3hUVF/OR1XOcEO4OhKDi7PE21MdLYmO7+nK53Zs3RCotWAl3i6etJuHs+IqL+c7puZ5pnTd4Fo0j19NNBh5wpP5zro8XSLBsrp9qwGcWbc5+kUrUdDMw9iTKin+yVKnydze8mA4B21nG5PhO9cWk+fZqicXs92Jfly7vHUC7NTj2X0QpQBt2FcScc9vX/Ii/Ad6+IgTOMjjBG/vXF4+orZDoVmEYRReidrCXp6i9mMZGaMuArvdOYfosQ8vde3Gcg+uRBY4TvxMkbqEU+3Zbtj7LogsMYvqifv93Qv2US9ihxXCJEN/ourpu/1jFg2w3hyRWhLRFQW8HmGLNtR0K6CUIaQqPSRyx7PmGU7iCtRxHLEpud/pGd6BiV7NTXPqGjKoUlC9/xYH+DU0qmpesZFsypZwIpnhySj6dqcCUQLdGSSOLnynp8ux0R7q+kdB+ESfelkXsm2/liudzI0P2xModV0H5aILzBnZn9S82kXrf85AR0K3PvO/ENdzYhm5cmMtYxom1rg5rT2XFd0TLPxXFV0ULP15H5o/rwokxQecYJOheLDjPnwscv9hCaYEXoVUDdO9MmSMlspfOHRrbDLrCU6Q5MqfV24ocOvLObA/QiqIxUyytGdE32kpOwVx2MRzlv87LGGKPvzxB5NIoSWAit6symbQ5/mMVi96B8X5X84PJBANmK2Ni96m+l911n6afsdptytQeKiM18q6dWmwhW+7qlNEL22pNI66j2BPEii15lKlldvF9n0iolFy+tvx0TR+aai5T1nnzj71Plfwu8uMpcXsyCXdFpRtYt55QFE0bJIqqOXWx/+pmIWtJImBlR1yVt2JsEw7VrA/s+9vRHlnACfiKvn34k+YJmxSrqRZK300tFqOz6wZA9cpplkW//KKP9H2O23Sz6eWLIn3KZjPGyZucF0AcvMxaaLWGbm/R+MGultk08R/H/cThYq5YH9hBrjM3wDeRkTi7pkKQ/mrN/FJcHYAl54ubZUb5Dy4vw/FWsR/K9LP1XHhnwLCxGR/HYphP84+Y59+/w5mCXyd/ne/hbDv79/AbQ0cQEFi12nAAAAAElFTkSuQmCC",jP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAADmCAMAAAD2tAmJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAPUExURQAAAACXqwCZrQCargCZrcbPUIkAAAAEdFJOUwBAf78wcCB+AAAACXBIWXMAADLAAAAywAEoZFrbAAALbElEQVR4Xu2d7XarOAxFL03f/5kHwzFgSZYl2SawpvvPdMAf2pZMaEpy/93Csiw/P5/EL0g//6wsC5q8m2W5uFVYfV8su6z5g4iFVRYd38OaQ0Tv40Wqa50i6BCfN1RwNI0lz07qGMedx5r21arAA6t3uOPG51kpnSO58RzRiZKJZ9TuD6KZyPcvRzdIJr4repNk4nuiCyK4ie94Tr7wSHxB9H7JxM2iN27Kkjs9v1CvJ7eJfi2VO/d4fjWVOzeI3vwqIjPd88sFezBV9AEFm5no+ZRUbkzzfJTlypxf0J5TsJkJCX3QtjwZ7vmI1xHOYM+nbcuDoZ6Ptfz9/SDEATzYcqDnoy2HeT7ccmXEC+jzLUfk8wWWAzxfYdnt+RLLTs/XWHZ5PvQOTyZ+P4QBetkeAFJAs16inmN+J/m0X9UGicY8x0xum3vMikZuE+60HHQVCFyGBhUSRmsyZjq356CLrHneQfN5t+egt0Ts06JDL77tOahkHZqj3mrCcCZGWX5B07M90aWf+zUdUw5L5jc0zdszaLnd7ixl56jm9mx4NI59wCZo7iQvYhFcTPMINCZqmzQ29lkq1/4hzUs6emOp0z/y5aW+1CyGJitwahZFF4rGUrZo6qNcv9MzoEmOhzzb6RwzbA7ar0kOBwNC3yqjFm+PmvyuqWniHLOMhSQMUxAZUyyRdSD2C7WmuZ8VwxsW08HAEYWnfXXN9XwlCYGo9KsQGnnQ162gpVkl4KmFNXg4SlgzEJiWTjRx4LHs0Ax41iMbOZZEMb7lNfyCO7b6+Ghgx2d5udNZcWr6PWvBDRuoAhnf2dsdXm0dcdoMi7MROLplGunkg3k95XC6R1nUyPmDRaqnNJgzQnl8nLQiWCqRy09P1T8wlIy6PaXRe4fYfy0RPbUnxORPu+3B8FO+IKVglFAEKpbC0O2n4Pg9Xrbp9USnC5ffhQ1ULamn8VG/0ud06fTkVdvX/bpIF0+jZOIidA2lz5NXLU6YYHOTUsjnXUtX6cU9PbuL5sMVEfoc8IJPf4T2bfaV9DUPPP+tNVWh6fTERPt65g1AM+KaDn2AqytbX3fePPTtr3KNXDXLJ57oySdzaZbdcdCGMPM0T2Eu3x5Bpw3n7uIvR7M8BUvn9fsaq6+nOPkUT2kiZ0quQ+CQGf5iZvPEdyFZX20kS/d6olsCR+wEPNk3x7Qf70LDAnfVnLM6azYheGrVVHnUSzcdszfOUfx9Rc/qMNrzbIqoZ4o6pyYO+OBBVCLWJBNVUd4vko9jmEDNJpinOE5LMlEJAGdPQpa9msxTGkcoPAF5W+PkQczyqNpgd1ZVXNOSyh1piXAqE81G1sT/+kH/DI6eSJfKGoIEWSPnfcHJPk64OylIFqjHUqwFnMngsJtdM1oMJJlstWzb8oTHQdIZ3Vz7cvX1PqBR+nKZaJVDtOz2YfA/RtJ3dO6U2eq3FDxpOk/QwMbWGT8b8NzNKE3r0Oi1tWJrUifFYi8FdbOhTUZum7/9s/odplvfCzgsY05pmsu8KqolGUVqS960E/+qQNdcrwmrZ5rJrLkPXQFtMjh6QXpnWhAlrfQdbi3ENIpnSeqgEeBtK7OwhlPSmTTxYxN1QlISOHpQ/yMD8yQj6em0VuLaFD812QeuUM5HY9eioW1pOnFY5m7NMls4mNGDoZ4k8Z4iqrLYX08wsgza7JDAW7GQ5iQgtWrtmtaWqmY5CEkAjtYh7Uk6cVTkZk00ATgI2hOQhJF0alVrDf5niGY5RlmElvHLHo6L0K2a6kUDB3XQFpDxlN1pDf5Dx6yDkcGS4e+fo8WOLZByZdiI9GJ8MF0TBwXKxbcFUvbhF//e54knaJYR4WCLIp3aaxyagKdoWuMw72e0AHZN/NAGIwMcFAhpllWLgxJoAazD/47XLBJjrZVSU+mFFuApmjjWBu13/jTRAvxplvxpEjAywEGB/+MlyKppvqdAC2DXtAZi1iwi1m5orkzWnH1Pa9UsSuBBN3v4/ST9M2g4nzFvsytovaMFjyZguuYVMhmO7tjSWdYsC776AYdbNckYZUw4qIO2gIZUk7RrjnmTpHQpo7KMXyaTrkzd8m7NYpBycxrKhXQgEZE1KLBrWq+FqqaWzvYEJF0kdhwVuVuzSBkJuzUDTRcOAy2ZZs1R77oXmqQIG8FQD9J6iObaFD81Ua4ENGO0qRYN08DxDI7KODTbl4gdmqMSNNphTevhsMXzJNOcorWpVdNRtULmZVHhmQ2cyQyp2bTs1rZ6OsuqFZoKTwhLD6bQVjgsYr6spLUyN9ZXtkyn1JSIyk/f4GRGm9IXuL312r7+DxOTYeR2xwMzn8pAdAfhMMf1T7Zuc+FnN6Qyy2nVCq9CS5YkE0fdbJ0dy1Ky9T4g6Yx4su2L44DvbiNb77AmqTsczag7WYRtHzJEVHNfcc/mLCAJa1RcEx4HTmRw1M0eSFizFYbPk4cxKJm56vB/fkjVsur3eAqLTYYPpwP9o5uTWvBx7J5SqnDqIJjOvLeC3ZmDtFwkIzXElca5k1igOc5YNfBM4USJJaHyS73wkhTyPCLA/7vg4ddiaIlW72dw/krEE11Dm1OIvR6CJqrctEkF7/c8i8JftVLgOCVSE1XvTIWqDXieU7s1pagbJcE+pWq4+xYXx1t66JZwdg1YbqRPHONPErbPWIieOGcFvRLOdKLXFe8aG5E8fcFeR/D1FPbMJEvR0xdssVVcYfKpp1mKnjhjA312XNcvls2JlpInTpgoe7sKgWo6d7YXdoXGcROksyshzYk/wp93o7Da8QzclRE2c9k7v2fnFf181sWhndhcHTW7guM2WO+r5yUwl2getOxEK8c3Jvqc+C4jime5/OagLm/bXvv0WbIwfVWreLIis3zLSvUjr32WvLv7VaHiybfSSsOUv/+e14xN4rOUgnGmU/YULRPVC6/8N4Y9mE5L3j/hTKfkWbVckUKs/Y1hZY2m11K69/YPInjivzK8XNT2/NO63gDFZLp/w6mOU4N66qvCcKcB/Sjucbye5bZwdu4vtgzOO/CFWmrioBF/DtCR470Irbg8i1B9KzS00tDCgyfauKbfUiuWwGiecMOagbjU4dHGRWVA4esbGpqL+I0PK5HVR1eZyICi5/biQU+omtvbmaJnJKjKgmUCVyFpzPwSWb40apo4J4Q3wVK4VbFARz1GKU9omnl9+W84OOGipRnanXUdvyb1nGMZy2Y58CWygGZZ6SHL9p1HbNiVM+rrEM1lPbheFE7PWDjtWdEwQB5bS5lCce1Dt+bfkmTak0ZrdiP9HYi8URDU3IYKSlpulsM1WyGq2YNhznGT7XxB0zIlmg7jC5oYT2N0zTo00aEby4yja1Z9D6wEHXoxrSvajsOs2XWJPzHNN7xm7W9rDZraNN3wmjWnc5Cl7VKAxkMxeQ4qWZvlhJpNNCcP3+4QbJYzanZn/67VKmjVi/Vyh+ZvBRYtJtXsXViv6dNq9haMG/PlNWu2fHXNmi1fXbN2yzfXrMPyxTXrsHyxpsfyvTXrsnxtMl2Wr9X0Wb61Zq13eOCdyZSfEFN4pab5jaYDdHwVzm258sZk+i1fqOnelgn0fQ+BVL4wmZFUvk4zVLAr6P4SQgW78qpkRlP5Ls1oKlcwgo+vvKfiv+85CSTzs5bO/TUQr9eEN97j4wY3i3ZJOmu2/EjFjaIdm3LDEarwsZGbRHsl7YHWPhpzg2i/pLFmlY//zBbtu/BkDDGqjhvzRMdItiNsO24M+4xxwSjJhqZrGts/h29nnONKXdM/zTIupekGZCSVhziiswwxHe2YwNBX+mYR/jEqD8aLgRe6/ENW8iemOiONmavnyGl8Wf3wLxQaTPacsZRLO6+fNYeTDcFP+r4i/DyD9N0dq+/lSaftuaftiXY0mcm/f/8BNmIETafTrrEAAAAASUVORK5CYII=",qP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANwAAADbCAMAAAAxgQ8LAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAPUExURQAAAACXqwCZrQCargCZrcbPUIkAAAAEdFJOUwBAf78wcCB+AAAACXBIWXMAADLAAAAywAEoZFrbAAAJB0lEQVR4Xu2d0bajIAxFx3r//5tH8agkJIEgWOpyv0ylErMNorVO77/WTPP89/c3fyYsP4hpNdv4fND2ECK1lUfZTZA6mPHGA/hAKeIxdkndVp4yMqHDeMakKQzKlUcMTMXtGaVT5Z5QOnqGi3iCHFQEsMIPo47Knzzopmn6RKijchmXWAUM77pd+dcy9hX1FbPAuHbiZZaXQfWMqcPDkHZN6rYy4sSC1K4z4Mm90aBcGW9gIrEmIOQwNCzceEddU7nRjrrLp++Y0eSQViMQ9C6m9KqRHBloawSCbrDtzq3vWbN7qhtkE02HpSkXaHe2UD629JOjxxwaGW30xKqtkPBN5WjiaExooKdfMpL92+zKcoWkrUe+bGecv0oGTx0IuWFkcNHOLAjW2Wg4LmnO1uXBNTsEkSEzSsNxiYgAjTJX7OyLKjoum12AlRduof6Ul8sXq4FGdqwYmaj1V2oIoOLLowyeLZpVakuXTxYr7jSw4wdRNmRt6fITYHI8X9SbkzrgDZ1aOXS3SAeFeY/ZYp5TtZKdVTcuS6pQfzwXUZJCP7l0YDYFGzGpkysbXnWxyyjKoG73onOOfnZle7erXDe7wompbvPonKfPcVc66XaW62FXfh3eW+6v+beijouB7nKNi6fe2ZC4Qa6hnkvtJrlFr4Gf02zhJrmV+fOZavlUPS1wo9z9WHL7ffJll6NlJ3QdH12ODnHqh8bR0eTSs0lsh6bRkeXkienUQ8PoiHLaBc5hh+XRkeT0C5zdDoujI8hZF2+ww9LoCHJ4R2azw8LopHKZq+7QAa9HJ5HLfaIIN7XwenQSObTrrD3wcnS4XK5wW+nw8hvMc/mtXS5X0HHpglca8wJeUtQ3Stnms0++BAEuh2aLpXR4JYOQSQL7LfHCzCSOq4iyGEyuqNNkyp0RaZGOxOrtzhCliRKuy0UJELu4HU1e4hBFmTK5oiNitrIjAc9w5GuRuuOOuBXZMTm02phyCAR2DfqVT9UTAMytxK5G7q9cDnbUrUoucSuw6y232bGtFB3ZFMEtH6e5HAsY7HibX050ywZqLsdG4ELFt9kcxS1n11xOT+TAPVkaIU279nJZO/egNANa0TrIZezcbulAJxjxesiZdq3drIjJwV4EOqvodu3djJh95FQ7t1ty3hRQrwk6ySl2fjf7+AVYN6GXnJiV362kcF+QE+wq3EaVSyNXXC8XTCdfOObEwBV26Gly92ypxPXbafnF7erlXCc5NSe8X0w0LskQjR5v0Q/lPnJ6VPekcsxLHzJEP8c2jP3VRc4K6p8ywzMQ6/1ORAgsYdafbFjewFoSPeTsmH67HQQIFEXpIJcLWW2H/oEKOTRmsNdLTt6JrPvDKkD3wHfkUre0Cat6Qe/Ad+R4ndbJjNtVlg69A9+RQ6SdbaJmxv5zeQC9AyPI7Rp0M8+QOy3IdooyS0HvwPePubhCcfvPykVXgGT0xVeGaPKC3oHvyJ1TIzuyTrvKwo0gt9slm5+1N0rZum98S27R+8iP7a4/VVZ7ebKAJAPfk+sEkgy8cq8c45XrAJIMvHKvHGMEuaLT5Q/JkfuWT5Mjn+cfJkfvVaDR5mfkyKAs/Cz/I3L8QZ2iyfJWuXmaWI7VIGKG2+SE38Wop6xwd8k1VRtMjs50lyl0u0eubdnKN3+HXGu30sLdIfc1txvkGh9vDrf+co3dXP/Nv7scIjfCUbaF3nJNC+f9dYbecgh8Hfu5BZnOcqxw6w9I1IF4PjrLkfAV+/4aneUQN1D2GawlfeXIJ0y03UhfufiQ883iTXjlGHVyaLqTvnJxdDTdySvHeOUCr1w/XjnGKxd45frxyjFeucAr149XjvHKBV65frxyjFcu8Mr1o6scuSf7rFt7yeMZdXrz+mTOJPRV3zjoJic9eVJjd1Sff4uy3xM1gvaSY99d7fj10HGB2p0b0GN2klPc/HZxoLhv3K5+M9ZHTnVz26HXxtmXbEAN2UXOcPPaoRPY+9INqF/8mXLzHP5rEf/SNidnuhU+wQvoI6S7HduAu3JzmGgPpviXTnNy6KPh+oYVfQ7WNPjO88lJfzRsibEHychlCmckI5Ak8knjeyYU49nILS1bLuvmGph8XC6Fx78H+r5K5XS1lTXSZTlP6bLhjFHO5fJjas7IYT0L11GXyciKxeTssm0sW0NnCZZL+CGT5G+MeCZM287cTyU2KegsQVPZByBL0CVn2dljoLkcCXgeXHRicI1Lwy4Tp7kc1gjEEwfZkFNOs8uFuU2OlM4rJ9tlo3SVQ9MG2jbQVo5gl99D35FzV044mRecLU05/H2t9fIZLWDrK4I1AmRSRFvALSe4FdjpcuzpSPIXANEmEa8WRyC7J7/TGejHyIXR5IQHP6P00CIRB4wLdElOyzITR+km9zoSxLIEGUBnGDqu0z1nornl7MR+6vO6e4pYlKBHx75x6mb1F9DdMnZSR+NwR+pYEqERw4dA/iHK3t8ctmMY1iAQ5MxNb3ZYEBEnNopLznYz7VK5zJbDtvBaRhoMhKZull2aSe5gX9fBS5ls6TxyiduUpKwfRalc5gSbr1xuZ18q3Jodz1kthzCG7NKFVfBaQwh6ktl5DHTaCZ350FD3lpCHufVtT2JBxbLLDXsC80BqcmuKlIa1+W0NLKgYN9BcbqxyhwW181TOKh0OASwZKHbu/84Tx4nyInYuOWPvYgUsWYizirHbFKIwpHMcHk0popyawx4Siyb7D7SdVP0vrCNBltQZXZ995eGjZYG3i+S4XpXaAjJMdvge3DizyHJK6Y5ksZxn/0vUV36FLoSQ+m8/8IwFCVlOKR3edMh9F0VOLN05ytAwOoqcWDq8tYCG0dHkhNJF0wNaRkeTE0qHN1bQMjqqnDr1rqBpdFS5pHRoDqBpdHQ5Vrq4cL8vx079aNywzpwDgWxFsEqAFO4JcrECmoBxPTcQ/BM7ITrqaOHkC5jhYEkzdof0gzXeGBtjPgmsV/PpB7MfOeiQq5tfGJf2qLT4gdIh0xoQYVzqCzf+2eCK2+h25jmugJHtrrqNbHfdbVy7a8fbwYh6xhcVXkbTa6i2Ml36wx8tkR88d/Hv33+5rOLDX5W59gAAAABJRU5ErkJggg==",zP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAADmCAMAAAD2tAmJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAPUExURQAAAACXqwCZrQCargCZrcbPUIkAAAAEdFJOUwBAf78wcCB+AAAACXBIWXMAADLAAAAywAEoZFrbAAAEfklEQVR4Xu2dUYKjIBBER937n3ljLBM1IDQoUlDvazajbb/tRjDGzF9BhmGapn8z0zSOA15ti2ER3DKO+F0rOBwXWjL1Sr5pRPRc8sXUgugImTPoPYOlBNyn3ZhSLjAXNN6S2dNiyetps2T1tFpyetotGT0HZG6Dbl5B3kYm7M1CSsvOcLVtqiVZ20Yu8RwwtW16ManKiYyT4ClnTjGJypmnSVNO5JsKotROXjFpujZXk6RrkW06iFM3aYv2LRRdm9uz3WhSDM709eyKNOsBueaASFWDVHNApKpBqjkgUtUg1RwQqWqQag6IVDWaUCLpRJPiXcz8pXsnmhzX1Ug2HcSpnNzBSXKDIbdrWe6jIN1UEKV68rqW5qZYXtfSaOaVEzEIyCknTzFzykmxnl1JLydTMdPfxeSyTG5b7E1DWtvS3ML9kNK2bC07Y/dktLR7clpaPVktbZ68lhZPZsvoeWXim0kOxBSUu5QLY2hBxF/KhdOCtiI5M/pMOSUHf9oOU+/GlT8cN5ucZDiM4+dp3Gnw/ofMz5XV7LnUKzfDJUq93bx2ZWaCa5hKC/qZNzLfzkGUSj03s2NWfmsxX1TouVsDZLTtxrJCz51lhudhDVyZ58EyfXgeA1Xlueu0N4npXRboDn6TS0zvskB34EouaXi6L04rWSd4rpwThif2PFKH5/GssWL2dHdF9nLjGnzJmUfVZYHuwJ+csdsuC3QLSMSJqduwjxts8xhnNTB5XhboDs6TM4yqUKBn2zaUXWx6wTiPljOYXawnNj7hybMtUjgjqgy+qXcLNn2AiGJGleGqODeBBAIE84uyfK6ckemFhmfspxSeKmfMiJoJDE9sFQbbFya2mIE6xId5Zu6Mz+/M0xDlmbkTB4/CWwiD5TPlNCXoLQR+H8cT5TRp+jK8JMit4NCxOIenzfKJrrVm6ErRHKP81GlO0THt4RfxlO9aHNjAT46xy4sN2LMYsSu0LYeWs/dD+cGZkuM+yaQIpbs2Jcn9Byfwoo3SmjisiX3H4UUj2LkUOKqJKzTLDs6UMxChZv4ZKFGz7AJBmn6u0Cx7qk1YwEjTQFlNHNTGFZplJ04c04Y048HeZcAxbVygWfjzxDiqjQs09yFuB0e1Ic1YpHkHOKqNLjUZQOI2+DSFEEIIIYSokQHPPbfC5Ppbykm3C6rn8A5Z0o08CrYVbbOUC9+Ctmz59Wzb8tO3+Fe7vD1bLybuFuLnlnmVs/1ivsvZg+arnG2t8DwMPQzNuWvxQ+P0otnF2Jz60Bwbvgbb0Inma7HXQdfO12IdlPN9ydl8OXFh3bjn+qnNxtv2867X/K2TrbL7lslmL8cOnzMemhR1fWHo6P2yXEYm582FhYY8v29D/yJNNqQpTTqkKU06pClNOqQpTTqkKU06pClNOqQpTTqkKU06pClNOqQpTTqkKU06pClNOqQpTTqkKU06pClNOqQpTTqkKU06pClNOqQpTTqk2YtmQ48fd6IJIzfNPGR9VswX2Iqd4J9uaqKeQcvX2ZZddPp5cPzv7z/KM7LBMuVDPgAAAABJRU5ErkJggg==",$P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOkAAADmCAMAAAAHv1IEAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAPUExURQAAAACXqwCZrQCargCZrcbPUIkAAAAEdFJOUwBAf78wcCB+AAAACXBIWXMAADLAAAAywAEoZFrbAAANW0lEQVR4Xu2d23ajMAxFJ2n//5uHy+FiST6SfCGZtWY/tcLY3pYghNDmz0O8Xu/3+2fl92D5eYm9Xy80aea1dvp+47ePsSje7Cosyu2+76MT/P4BXttix1l8sWeGQ/RTqksmMX6SrO0l+gHVJZcYupGE7V309xfBZ0hWbI2gbCn6231yCzNIcycgK0R/W47zFnqLVuPIStFnTMdr7pDJK9EnTGd5rtQSq0Wnm87U3DBdDdHJptM9F4xzqiU61fQJz7DoRNNHPOOi80wf8UyIzjKtDTcYQ7S6wlNMnyncnOgM06c8rXcnZOjxpg8VblZ0uOlTCTXfhdGxB5s+ldDkMboy1PS5hFrzdgYfafpcQhtER5o+KGocpG45DTN9sHKtWfujjzJ9MqFGSgPLPMj0WVE16Ug9jTHtrNz1s4nXAnpbWH5ZP8HAdgkanXQM/5NbgPaRNkX0YrIIq97l1VHnOtPxC17YI8vPT/QDJnHTX6ShUzSu2ib6E1/Jndd1KihN+08RwQ8yWgZKawKkttx7C/URmk5etFVzZx2v6KD12LkTSWpWtE9zQ9z2fMg0KTrAU/GMaU50hucYU/c1NSU6x3OMKbqqkhGd5TnE1EtpYoh5niNMB4pO9Bxg6p6O0M7HPdz76DV1pxe92IwV7vrW5f7k1f7gVWxX7NLIsNOun1D+YJKv22c6StRLaOyRneWNHdpbdJkOE0Vzm9SzLPXHN3pMXdFg56yfhvtrFdkOU1c0eNolJdd6H9GaWrupLxqq3foh2nW7VCe22XSUKBorum8Ly1tcraa+aKh2a910e26gs51G04BoZK61boZ4DjENiEZqt9JN8LXJB/3tNJkGRCP92t2MKdwN9LjTYhoQjdSf3c2whMoBGkwjooH5mt2EEoq/p1i5XewrxAB504ho4LxrduMtkP2RhfVBhR4gbRoS9VNqdkMT6nxkIf86QQ2QNZ0oyqYSe/f6vgbWAyRNQ6J+7VpXRvXlydxdQi/GPCNngIuYqJ9SNLxT3Sn7h01rYh8S9VNqzL0imknnhbHTFFE3pUY/9j5tnhZTRN2UhksrOqDPHFE3pWh3w5zIuIROEnVTqgWstRnoOUvUS6nuyBTFthFMEvVSqhUs0fhwPilRq5Qq12ZeStVexg68cve7+Gi5XuvzOjdEz/cHCqurV6XA0FkNlSxLFJsMKne4yd8RG+1zBbNeRFoL4KUUzU6Mi9HqRPg7Olt2iKi5y9ZXHbWLnkllIv4fUls7jhG1XhidlKpRdHt7IoE36DNFg6+MN9DqJCgauRExVdQ4dWBDBTUM4hfmRLxjf2WuqE5qb0qtidyGq2PsaBUCfz2S3EeWSUW4gpxOSDRQuLYoNt3JiZbTQxAkU4rwSXC+mgdExc7c1EupccHgLB2YIapqv5wdghXQ6EBZ6Jl8TtQYGVs2+MS8lOoJhw7RCaL2i9q9g5Rpp+h+G3+50B8quj0DhD0k9/JFyMY7TSN8URXlT6iERV/rYuFnYO15gUYLvF02pRVR/1ZEVHTbgF8OaBldnfDiRaMDRA+UqN1Z4JZLSlSOS5N1VSUCNk5KET4xRdVyGOREU0kdYiodLFF5oJtkReXGUPna9XaARkBOCOEThO8Y89WkReX6WR2chEx7UxpKaIOo2h4pX/xqI/pD9ADRAy0aOULbROUadpuiDXBSivDFUFEpUzaxOjnZm3YUL6IHqqexorKhaMOSmjdFFPBlGC4qZdLly1rw4kX0QHY0XJQn1eroYDfFLyZ02ZyUjhd1koqoybqdLYWcLaLAMUVYsv3N9PnpQk5UNE+U79pn4jClxRtK6f0N5HrrPikq25dNu0z3Lg7Kpjylhqh+n2yNzUSlTdmWVec6HbYSwhRBIKaE6AGiN+iSnnBRWr7MdG3JTOkhjyDwUmrf+FA4otIGUYCgxWqCH03K+dLiFSKInsQSaomK+xSsfNliLpvxk0nCFFEgU9ohKgqLmbJReHHTJaODIHrQIyo6az1QX3wS6AEgCBAEZTcipXQ1LyqiIr41PXjClJ6sxJwRdaiJ0vJFECBowU3ZipVpE6uJKKCLeWDdUsOOzJTku+SdMC1bNp+sbESJbJyd4vedcqjSlJx8f9hGalMOEV+FCobptV8xFiutKaYIgrIXBAGCDmh8cRvuaVNmQ7aFUiprpNytnAeCO+wAKxhliuBOePQ7onyLvcptCO4kTPGDCTncxcQQ3SEpIKA5QHCnHIzMg61qwhTBnfGm4WUltcUuHcaYkrMEG7yAmJY6/00X/g3Tsub/my78N134N0xHHKdPv8qU2xB0QXOA4E7ZYatpuV8JWea4KRvgDpoDBHdIh+Umeo3EJhI+dNi2oGk5Fjkc2CI8blrUQvBALccqpzzflJVhWdnlEOzkUgONAesPwR2WjIKMKRu9TFy5Xyip5YxLm3IVWGETmczdlXKIuGkoqWh6gChAcKecMCnsEm7KFlPYIArYMpiIlDIbVloIWrz5NNABQHCH5k1spKu5IkRFb6xCEdxhLo4pWzEEgegG0QOnfsXCyJVBFCAIENxhLosKfjIpTcv50gotN3qqaHTCTMuByjVitbNsxk8m8SNEuMgsMVV9TxsbAJsE21aybGbLXU6YLaeX1Pos1KLIpmVXzJQtJ99MTWXNIXqA6EVFtZzrihhGrASiAEGAoMXaC0u56KlcFFq+hoE1kvVpDO1I9IHojliigrUXtl3YlHMQiy37MRzkPM0HueV6IAzKrXQVClxTVr7CVOZCbt45/k3QT+2vD+R0RG0gCuKm22D42URMF1EgpirnaKt6YOcThIGQQRQgaLI1ELko2Vqc0PJVHYl0hJB5EX2Um2keCvaW1LTMm0gbogfqOMirqgJE/ABREC/evaWa4J1y2URTeaSpNcuqqsnSlIplGGrqlK/uKaeq5ioHQBiIrYiaICf4zYaWr0yqXtaMqj6MRP+i+7JvltIj+/RApQsn19zoKqxqPG4n90X4AFHATI95tpevSqrVVczVmKhcR5pSWplHU2rKy1cltVHVfH4S204QPignRov3bJopX9FWWZgjOq72c6JyJ55Saoo2jqlYWpk0hC/sIYlr5XlYtQfiB2I7oiZX00z5ymVR9VtbN/v/yFT/ibxqLVcQYUBTeusLERvhIpdFnpRIiYirevaFAK6oaICoDdqsVAfcyCaVd7f/t1f2n14XdP6x4QRhQFN6nyEvXyepelbOyvnoLp2URovXSb4860gPXb98ZJe0aLh4vSSIflUFDFbV3akRMyktS5KXr5dU41BtV7U6kwOmUioaI1rB61lu32hztbpSPSF+wEdCowPnHIJWB6rrUaqhe2juwhfIxk75yuZqYUzVtKvl6YvyUdTMnKSKOeiFsVVTrtHVwoaD3DnGbS/PE2HVsGt4qWTDZEq9c5IqLH8GJwFX8/hc6RXVKXXLV538dfuq6v0/oxv8VD0NDTUPxCtYc3LKV+1jtK+rLs3tf1/Ev97XWCC/tgrMKTlJVWMkVRe275rGMMslvv21BzeMGQXWuwDNSrydVN0Yy1mvwzzWO1e1lE56KkvvJVXtZlWOk9Y4oc6d2rVT6idVv7BPVLWWXXXtzbg6Fy+p+uLb3GOAq6mgh8eGKmimcZOqHaao2veWtKhXu2QeXlJ1/VZ26XK1BfKi9ZQGkmqoVsZrdo3eFG2pwBtuUvXKVpe2yTV8U9Q/SFlKI0lNqKZdb9/7LzB6cpPijO7WvtVBfaf6/4DX1NK5kBoTuCO7S5UdNiZLNK2TQyAjaFjHr19ztegCOV9m4HztrXG8tJWexE+q2Ys3tv3dDeQ/tB60DLaAloxAUltHX3yvL55wPq8AsVtomkBKY1M2Owq55mgdJyQaqt9nVO33gJFR0NQjUr+VVRvq2j5EMKXB+VZ6G+ZqnXIXhorG6rfa3xDX2s2L0MzQNkSXav2iLkr1Jk3XvExChyq5a9TlWu02NquUaHiq9V5bXeurF+yycnzXCdUJXcCWIiae0bVD6wRBVTY35969gNzKX+DXxhfJ2l2JHRQLvG//wnbD+drb8MHQIDpMdcH+NuID/oHFRjShbaKZk0pogP2zinPO+LjCk1wJTyR9NjqIq8rvkRhJOKHtohnV1rpxiXua9ybCJIaZ4prx7BLNqQ53TXl2j54abKhrznPA0LnxhrkmPYeMmxwydY+3RtZz0AJnR+0dN605rpLyI7e/wJLnuOuMEm1SXWXTp/0mzZGiqUuIAu+riG8E3woY9L2OSlpVF+y793fYnx74jBXtUl3Zbt6Ly/nl8n5JZI/kAn1T20an6p1OuTsdF/V1wu9XH2TkuejOwLSOYZbot6lOOEQvvkl1yiF6Y9zJpJN5lXvwHWmdWrkH33AOnp/QnU+n9ZGE7jS8rxrIUwnd+VxaH0wo+JDrswndaX6X1cHs19AaT6f1+cK9eNL1k54rT7l+2nPlCddv8FyZ7fotniupj/mTfJPnxhzXr9PcGJ/Y7/TcGHk18cWaO2Nkv15zp7OM+YNJ38ar0TbwyM4Xwh9D0vyblierruvr/yH1v8P23drrw1ZwW9gevVIf1kziz5+/IBS8BHVtIiMAAAAASUVORK5CYII=",HP=""+new URL("tasks-6c1f66a7.png",import.meta.url).href,WP=""+new URL("case1-7ad990a1.png",import.meta.url).href,GP=""+new URL("case2-fafb053b.png",import.meta.url).href,KP=""+new URL("case3-fc6ccf1c.png",import.meta.url).href;/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Il.apply(this,arguments)}var di;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(di||(di={}));const D_="popstate";function QP(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return ym("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:af(i)}return YP(e,n,null,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XP(){return Math.random().toString(36).substr(2,8)}function V_(t,e){return{usr:t.state,key:t.key,idx:e}}function ym(t,e,n,r){return n===void 0&&(n=null),Il({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ho(e):e,{state:n,key:e&&e.key||r||XP()})}function af(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ho(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function YP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=di.Pop,l=null,u=f();u==null&&(u=0,o.replaceState(Il({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function c(){a=di.Pop;let E=f(),m=E==null?null:E-u;u=E,l&&l({action:a,location:y.location,delta:m})}function d(E,m){a=di.Push;let h=ym(y.location,E,m);n&&n(h,E),u=f()+1;let v=V_(h,u),g=y.createHref(h);try{o.pushState(v,"",g)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(g)}s&&l&&l({action:a,location:y.location,delta:1})}function p(E,m){a=di.Replace;let h=ym(y.location,E,m);n&&n(h,E),u=f();let v=V_(h,u),g=y.createHref(h);o.replaceState(v,"",g),s&&l&&l({action:a,location:y.location,delta:0})}function _(E){let m=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof E=="string"?E:af(E);return mt(m,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,m)}let y={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(D_,c),l=E,()=>{i.removeEventListener(D_,c),l=null}},createHref(E){return e(i,E)},createURL:_,encodeLocation(E){let m=_(E);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:p,go(E){return o.go(E)}};return y}var F_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(F_||(F_={}));function JP(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ho(e):e,i=_v(r.pathname||"/",n);if(i==null)return null;let s=a2(t);ZP(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=l4(s[a],f4(i));return o}function a2(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(mt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=bi([r,l.relativePath]),f=n.concat(l);s.children&&s.children.length>0&&(mt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),a2(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:o4(u,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of l2(s.path))i(s,o,l)}),e}function l2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=l2(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function ZP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:a4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const e4=/^:\w+$/,t4=3,n4=2,r4=1,i4=10,s4=-2,U_=t=>t==="*";function o4(t,e){let n=t.split("/"),r=n.length;return n.some(U_)&&(r+=s4),e&&(r+=n4),n.filter(i=>!U_(i)).reduce((i,s)=>i+(e4.test(s)?t4:s===""?r4:i4),r)}function a4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function l4(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",f=u4({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!f)return null;Object.assign(r,f.params);let c=a.route;s.push({params:r,pathname:bi([i,f.pathname]),pathnameBase:m4(bi([i,f.pathnameBase])),route:c}),f.pathnameBase!=="/"&&(i=bi([i,f.pathnameBase]))}return s}function u4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=c4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,f,c)=>{if(f==="*"){let d=a[c]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return u[f]=d4(a[c]||"",f),u},{}),pathname:s,pathnameBase:o,pattern:t}}function c4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),yv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function f4(t){try{return decodeURI(t)}catch(e){return yv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function d4(t,e){try{return decodeURIComponent(t)}catch(n){return yv(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function _v(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function h4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ho(t):t;return{pathname:n?n.startsWith("/")?n:p4(n,e):e,search:g4(r),hash:v4(i)}}function p4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Fh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function u2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function c2(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ho(t):(i=Il({},t),mt(!i.pathname||!i.pathname.includes("?"),Fh("?","pathname","search",i)),mt(!i.pathname||!i.pathname.includes("#"),Fh("#","pathname","hash",i)),mt(!i.search||!i.search.includes("#"),Fh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let c=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),c-=1;i.pathname=d.join("/")}a=c>=0?e[c]:"/"}let l=h4(i,a),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const bi=t=>t.join("/").replace(/\/\/+/g,"/"),m4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),g4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,v4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function y4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const f2=["post","put","patch","delete"];new Set(f2);const _4=["get",...f2];new Set(_4);/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lf(){return lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lf.apply(this,arguments)}const Ev=Y.createContext(null),E4=Y.createContext(null),Wo=Y.createContext(null),hd=Y.createContext(null),zi=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),d2=Y.createContext(null);function w4(t,e){let{relative:n}=e===void 0?{}:e;eu()||mt(!1);let{basename:r,navigator:i}=Y.useContext(Wo),{hash:s,pathname:o,search:a}=p2(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:bi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function eu(){return Y.useContext(hd)!=null}function pd(){return eu()||mt(!1),Y.useContext(hd).location}function h2(t){Y.useContext(Wo).static||Y.useLayoutEffect(t)}function T4(){let{isDataRoute:t}=Y.useContext(zi);return t?D4():S4()}function S4(){eu()||mt(!1);let t=Y.useContext(Ev),{basename:e,navigator:n}=Y.useContext(Wo),{matches:r}=Y.useContext(zi),{pathname:i}=pd(),s=JSON.stringify(u2(r).map(l=>l.pathnameBase)),o=Y.useRef(!1);return h2(()=>{o.current=!0}),Y.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let f=c2(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:bi([e,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[e,n,s,i,t])}function A4(){let{matches:t}=Y.useContext(zi),e=t[t.length-1];return e?e.params:{}}function p2(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=Y.useContext(zi),{pathname:i}=pd(),s=JSON.stringify(u2(r).map(o=>o.pathnameBase));return Y.useMemo(()=>c2(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function I4(t,e){return b4(t,e)}function b4(t,e,n){eu()||mt(!1);let{navigator:r}=Y.useContext(Wo),{matches:i}=Y.useContext(zi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=pd(),u;if(e){var f;let y=typeof e=="string"?Ho(e):e;a==="/"||(f=y.pathname)!=null&&f.startsWith(a)||mt(!1),u=y}else u=l;let c=u.pathname||"/",d=a==="/"?c:c.slice(a.length)||"/",p=JP(t,{pathname:d}),_=O4(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:bi([a,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:bi([a,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n);return e&&_?Y.createElement(hd.Provider,{value:{location:lf({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:di.Pop}},_):_}function C4(){let t=M4(),e=y4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),n?Y.createElement("pre",{style:i},n):null,s)}const k4=Y.createElement(C4,null);class R4 extends Y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?Y.createElement(zi.Provider,{value:this.props.routeContext},Y.createElement(d2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function N4(t){let{routeContext:e,match:n,children:r}=t,i=Y.useContext(Ev);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Y.createElement(zi.Provider,{value:e},r)}function O4(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||mt(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let f=l.route.id?o==null?void 0:o[l.route.id]:null,c=null;n&&(c=l.route.errorElement||k4);let d=e.concat(s.slice(0,u+1)),p=()=>{let _;return f?_=c:l.route.Component?_=Y.createElement(l.route.Component,null):l.route.element?_=l.route.element:_=a,Y.createElement(N4,{match:l,routeContext:{outlet:a,matches:d,isDataRoute:n!=null},children:_})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?Y.createElement(R4,{location:n.location,revalidation:n.revalidation,component:c,error:f,children:p(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):p()},null)}var _m;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(_m||(_m={}));var bl;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(bl||(bl={}));function P4(t){let e=Y.useContext(Ev);return e||mt(!1),e}function x4(t){let e=Y.useContext(E4);return e||mt(!1),e}function L4(t){let e=Y.useContext(zi);return e||mt(!1),e}function m2(t){let e=L4(),n=e.matches[e.matches.length-1];return n.route.id||mt(!1),n.route.id}function M4(){var t;let e=Y.useContext(d2),n=x4(bl.UseRouteError),r=m2(bl.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function D4(){let{router:t}=P4(_m.UseNavigateStable),e=m2(bl.UseNavigateStable),n=Y.useRef(!1);return h2(()=>{n.current=!0}),Y.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,lf({fromRouteId:e},s)))},[t,e])}function js(t){mt(!1)}function V4(t){let{basename:e="/",children:n=null,location:r,navigationType:i=di.Pop,navigator:s,static:o=!1}=t;eu()&&mt(!1);let a=e.replace(/^\/*/,"/"),l=Y.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Ho(r));let{pathname:u="/",search:f="",hash:c="",state:d=null,key:p="default"}=r,_=Y.useMemo(()=>{let y=_v(u,a);return y==null?null:{location:{pathname:y,search:f,hash:c,state:d,key:p},navigationType:i}},[a,u,f,c,d,p,i]);return _==null?null:Y.createElement(Wo.Provider,{value:l},Y.createElement(hd.Provider,{children:n,value:_}))}function F4(t){let{children:e,location:n}=t;return I4(Em(e),n)}var B_;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(B_||(B_={}));new Promise(()=>{});function Em(t,e){e===void 0&&(e=[]);let n=[];return Y.Children.forEach(t,(r,i)=>{if(!Y.isValidElement(r))return;let s=[...e,i];if(r.type===Y.Fragment){n.push.apply(n,Em(r.props.children,s));return}r.type!==js&&mt(!1),!r.props.index||!r.props.children||mt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Em(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wm(){return wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wm.apply(this,arguments)}function U4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function B4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function j4(t,e){return t.button===0&&(!e||e==="_self")&&!B4(t)}const q4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],z4="startTransition",j_=uR[z4];function $4(t){let{basename:e,children:n,future:r,window:i}=t,s=Y.useRef();s.current==null&&(s.current=QP({window:i,v5Compat:!0}));let o=s.current,[a,l]=Y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},f=Y.useCallback(c=>{u&&j_?j_(()=>l(c)):l(c)},[l,u]);return Y.useLayoutEffect(()=>o.listen(f),[o,f]),Y.createElement(V4,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const H4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vs=Y.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:f}=e,c=U4(e,q4),{basename:d}=Y.useContext(Wo),p,_=!1;if(typeof u=="string"&&W4.test(u)&&(p=u,H4))try{let h=new URL(window.location.href),v=u.startsWith("//")?new URL(h.protocol+u):new URL(u),g=_v(v.pathname,d);v.origin===h.origin&&g!=null?u=g+v.search+v.hash:_=!0}catch{}let y=w4(u,{relative:i}),E=G4(u,{replace:o,state:a,target:l,preventScrollReset:f,relative:i});function m(h){r&&r(h),h.defaultPrevented||E(h)}return Y.createElement("a",wm({},c,{href:p||y,onClick:_||s?r:m,ref:n,target:l}))});var q_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(q_||(q_={}));var z_;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(z_||(z_={}));function G4(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=T4(),l=pd(),u=p2(t,{relative:o});return Y.useCallback(f=>{if(j4(f,n)){f.preventDefault();let c=r!==void 0?r:af(l)===af(u);a(t,{replace:c,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}const K4=({setMobileMenu:t})=>M("header",{className:Fs.header,children:G("div",{className:Fs.container,children:[G(vs,{to:"/",className:Fs.logo,children:[M("img",{src:o2,alt:"Logo"}),G("p",{children:["",M("br",{})," "]})]}),G("nav",{className:Fs.nav,children:[M("a",{href:"/#features",children:" "}),M("a",{href:"/#tasks",children:" "}),M("a",{href:"/#prices",children:""}),M("a",{href:"/#cases",children:""}),M("a",{href:"/#form",children:" "}),M(vs,{to:"/blog",children:""})]}),G("div",{className:Fs.contacts,children:[M("a",{href:"mailto:sales@servizoria.ru",children:"sales@servizoria.ru"}),M("a",{href:"tel:74952680244",children:"+7 (495) 268 02 44"})]}),M("button",{onClick:()=>t(!0),className:Fs.mobileMenu,children:M(PP,{size:32})})]})}),Q4="_mobileMenu_brwoj_1",X4="_hidden_brwoj_8",Y4="_active_brwoj_12",J4="_container_brwoj_17",Z4="_nav_brwoj_25",ex="_closeButton_brwoj_37",tx="_button_brwoj_44",nx="_contacts_brwoj_57",Zr={mobileMenu:Q4,hidden:X4,active:Y4,container:J4,nav:Z4,closeButton:ex,button:tx,contacts:nx},rx=({visible:t,setVisible:e})=>(Y.useEffect(()=>{t?document.body.style.overflow="hidden":document.body.style.overflow="visible"},[t]),M("div",{className:[Zr.mobileMenu,t?Zr.active:Zr.hidden].join(" "),children:G("div",{className:Zr.container,children:[G("nav",{className:Zr.nav,onClick:()=>e(!1),children:[M("a",{href:"/#features",children:" "}),M("a",{href:"/#tasks",children:" "}),M("a",{href:"/#prices",children:""}),M("a",{href:"/#cases",children:""}),M(vs,{to:"/blog",children:""}),M("a",{className:Zr.button,href:"#form",children:M("span",{children:" "})})]}),M("button",{onClick:()=>e(!1),className:Zr.closeButton,children:M(xP,{size:48,color:"currentColor"})}),G("div",{className:Zr.contacts,children:[M("a",{href:"mailto:sales@servizoria.ru",children:"sales@servizoria.ru"}),M("a",{href:"tel:74952680244",children:"+7 (495) 268 02 44"})]})]})})),ix="_footer_1xaay_1",sx="_container_1xaay_6",ox="_logo_1xaay_23",Gu={footer:ix,container:sx,logo:ox},ax=t=>M("footer",{className:Gu.footer,children:G("div",{className:Gu.container,children:[G(vs,{to:"/",className:Gu.logo,children:[M("img",{src:o2,alt:"Logo"}),G("p",{children:["",M("br",{})," "]})]}),G("div",{className:Gu.info,children:[M("p",{children:"  "}),M("a",{href:"#",children:" "})]})]})}),lx="_logo_55j51_1",ux="_circle_55j51_10",cx="_Eye_55j51_1",Uh={logo:lx,circle:ux,Eye:cx},fx=t=>G("svg",{className:Uh.logo,width:"221",height:"240",viewBox:"0 0 221 240",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[M("circle",{className:Uh.circle,cx:"91",cy:"110",r:"35",fill:"url(#paint0_linear_401_75)"}),M("circle",{className:Uh.circle,cx:"91",cy:"110",r:"29",stroke:"white",strokeWidth:"4"}),M("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M48.6671 239.15C56.407 239.15 64.4361 237.11 72.2061 232.62L196.441 160.77C204.031 156.38 209.845 150.34 213.816 143.46C218.066 136.1 220.225 127.75 220.245 119.41C220.265 111.07 218.158 102.71 213.878 95.31C209.918 88.46 204.088 82.42 196.378 77.97L72.6436 6.55C64.8836 2.06001 56.5739 0 48.4639 0C39.9639 0 31.6671 2.27 24.4171 6.38001C17.1771 10.49 10.9917 16.46 6.72174 23.85C2.78174 30.67 0.471743 38.69 0.471743 47.57V47.75C0.0516995 50.62 -0.0922824 53.6 0.057681 56.67L0.252993 60.3C0.213015 61.97 0.272708 63.68 0.432681 65.41L0.471743 65.76V187.95C0.471743 197.76 3.07642 206.83 7.52643 214.52C11.8264 221.96 17.8605 228.11 24.9405 232.4C32.0405 236.71 40.197 239.15 48.6671 239.15ZM34.9249 227.91C42.1449 231.76 50.3067 233.66 58.5967 233.08C55.2667 233.93 51.9314 234.34 48.6514 234.33C41.0614 234.33 33.767 232.15 27.4171 228.3C21.0371 224.43 15.567 218.86 11.6671 212.11C7.63703 205.14 5.27643 196.9 5.27643 187.94V139.55C6.4364 155.59 7.6864 171.63 9.02643 187.65C9.71643 196.29 12.4627 204.18 16.6827 210.86C21.2827 218.15 27.6349 224.03 34.9249 227.91ZM213.183 113.62C212.833 107.55 211.316 101.52 208.636 95.94C209.016 96.52 209.374 97.12 209.714 97.72C213.564 104.38 215.461 111.91 215.441 119.42C215.42 126.92 213.481 134.43 209.651 141.06C206.081 147.24 200.864 152.67 194.034 156.62L146.901 183.88C154.441 179.42 161.875 174.86 169.175 170.19C177.615 164.8 185.794 159.35 193.714 153.84C199.944 149.56 204.695 144.09 207.925 137.99C211.925 130.47 213.673 122 213.183 113.62ZM134.722 47.44C128.342 44.22 121.932 41 115.472 37.78C107.342 33.69 99.2305 29.69 91.1905 25.77C83.2905 21.93 75.1577 18.04 66.8077 14.11C59.2577 10.56 51.4024 9.14001 43.8624 9.51001C35.3324 9.93001 27.1977 12.64 20.3077 17.13C17.5677 18.91 15.0274 20.98 12.7374 23.29C16.4174 18.01 21.2564 13.67 26.7764 10.54C33.2964 6.84001 40.7839 4.8 48.4639 4.8C55.7739 4.8 63.2552 6.66 70.2452 10.69C91.7452 22.42 113.262 34.87 134.722 47.44ZM68.1514 226.16L68.5733 226.09C65.2533 227.3 61.9055 228.01 58.5655 228.27C51.0755 228.86 43.6949 227.16 37.1749 223.69C30.6149 220.2 24.8974 214.89 20.7374 208.31C16.9174 202.26 14.4277 195.11 13.8077 187.26C12.6277 173.2 11.5252 159.22 10.4952 145.33C12.5152 158.98 14.6864 172.7 17.0264 186.5C18.2064 193.88 20.9442 200.55 24.7842 206.23C29.6642 213.43 36.3111 219.08 43.8311 222.59C51.3811 226.11 59.8014 227.49 68.1514 226.16ZM205.941 108.79C205.18 102.46 203.092 96.22 199.722 90.58C200.202 91.2 200.668 91.83 201.128 92.48C205.538 98.91 207.977 106.36 208.417 113.88C208.847 121.41 207.296 129.02 203.706 135.74C200.816 141.19 196.575 146.08 190.995 149.91C182.935 155.51 174.808 160.94 166.628 166.16C161.098 169.69 155.485 173.17 149.816 176.59C156.066 172.75 162.146 168.77 168.026 164.66C175.896 159.16 183.406 153.44 190.526 147.53C195.466 143.54 199.223 138.72 201.823 133.46C205.603 125.8 206.941 117.19 205.941 108.79ZM121.823 46.32C117.963 44.65 114.103 42.98 110.253 41.34C102.243 37.85 94.2127 34.5 86.1827 31.29C78.2327 28.09 70.1461 24.97 61.9561 21.93C54.7461 19.25 47.433 18.39 40.503 19.05C31.953 19.86 23.9771 22.98 17.4171 27.82C14.637 29.87 12.1114 32.22 9.90143 34.85C13.0814 29.29 17.587 24.63 22.9171 21.16C29.117 17.12 36.4311 14.68 44.0811 14.3C50.8811 13.96 57.9664 15.25 64.7764 18.45C72.6864 22.17 80.7946 26.05 89.1046 30.09C97.2545 34.05 105.341 38.05 113.331 42.07C116.153 43.4757 118.978 44.8914 121.8 46.307L121.823 46.32ZM76.2608 218.58C76.5908 218.5 76.9152 218.42 77.2452 218.33C74.0252 219.88 70.717 220.9 67.4171 221.43C60.037 222.61 52.578 221.38 45.878 218.25C39.158 215.11 33.1742 210.03 28.7842 203.54C25.3042 198.4 22.8208 192.37 21.7608 185.71C19.7508 173.87 17.8745 162.09 16.1046 150.37C18.6746 161.68 21.4449 173.08 24.4249 184.56C25.8949 190.56 28.4542 196 31.7842 200.68C36.9042 207.88 43.8858 213.35 51.6358 216.53C59.4258 219.72 68.0008 220.6 76.2608 218.58ZM198.573 104.91C197.373 98.31 194.651 91.89 190.511 86.23C191.131 86.9 191.724 87.58 192.284 88.28C197.274 94.46 200.267 101.82 201.167 109.35C202.067 116.86 200.871 124.53 197.511 131.33C195.211 136 191.877 140.27 187.487 143.81L187.456 143.83C180.366 149.71 172.966 155.36 165.276 160.73C162.296 162.81 159.276 164.85 156.206 166.86C159.706 164.5 163.098 162.07 166.378 159.59C173.728 154.02 180.568 148.11 186.878 141.9C190.638 138.33 193.525 134.24 195.566 129.84C199.165 122.06 200.103 113.34 198.573 104.91ZM115.628 48.86C112.318 47.63 108.994 46.42 105.644 45.21C97.8436 42.31 90.0521 39.61 82.2921 37.09C74.2821 34.5 66.1833 32.08 58.0733 29.83C51.3433 27.96 44.6771 27.59 38.4171 28.44C29.817 29.62 21.9505 33.13 15.6905 38.28C12.8805 40.6 10.4055 43.26 8.31549 46.19C10.9755 40.41 15.133 35.46 20.253 31.68C26.143 27.34 33.304 24.54 40.9639 23.81C47.2039 23.22 53.7821 23.99 60.2921 26.41C68.2321 29.36 76.2814 32.47 84.4014 35.73C92.4314 38.96 100.438 42.29 108.378 45.75C110.798 46.78 113.218 47.82 115.628 48.86ZM83.3077 210.45C83.7477 210.3 84.1958 210.14 84.6358 209.97C81.5858 211.83 78.3814 213.14 75.1514 213.93C67.8914 215.7 60.3439 214.92 53.4639 212.1C46.5439 209.26 40.2805 204.36 35.6905 197.9C32.6905 193.69 30.3933 188.8 29.0733 183.4L29.0655 183.36C26.5455 173.65 24.1761 164 21.9561 154.42C24.8061 163.52 27.8614 172.69 31.1514 181.92C32.6814 186.48 34.8777 190.63 37.5577 194.29C42.9077 201.6 50.2564 207 58.2764 209.89C66.3464 212.79 75.1377 213.18 83.3077 210.45ZM191.206 101.94C189.526 95.09 186.102 88.51 181.112 82.91C181.892 83.61 182.637 84.34 183.347 85.08C188.937 90.98 192.502 98.25 193.862 105.75C195.222 113.22 194.394 120.95 191.214 127.82C189.424 131.67 186.883 135.27 183.573 138.41L183.542 138.44C177.392 144.5 170.707 150.28 163.487 155.75C162.947 156.16 162.418 156.56 161.878 156.96C162.718 156.3 163.542 155.64 164.362 154.97C171.282 149.33 177.485 143.29 182.925 136.91C185.615 133.91 187.721 130.6 189.261 127.1C192.731 119.21 193.286 110.37 191.206 101.94ZM109.706 51.78C107.036 50.95 104.36 50.13 101.691 49.33C94.1305 46.96 86.4842 44.82 78.7843 42.93C70.9342 40.98 63.0067 39.27 55.0967 37.79C49.0067 36.65 43.0664 36.66 37.5264 37.62C28.8064 39.13 21.0333 42.99 15.0733 48.43C12.2433 51.01 9.82361 53.95 7.89362 57.16C10.0236 51.24 13.8117 46.04 18.7217 41.98C24.2917 37.38 31.3264 34.25 39.0264 33.2C44.6765 32.42 50.6964 32.77 56.7764 34.45C64.7564 36.66 72.7855 39.07 80.8155 41.66C88.6355 44.19 96.383 46.87 104.003 49.71L104.034 49.72C105.922 50.3991 107.811 51.0882 109.698 51.7773L109.706 51.78ZM89.2608 201.86C89.7708 201.64 90.2821 201.4 90.7921 201.15L90.4171 201.41L90.3233 201.47C87.6233 203.44 84.7442 204.91 81.7843 205.9C74.6643 208.27 66.9858 207.92 59.8858 205.37C52.7458 202.8 46.197 197.98 41.4171 191.45C39.017 188.17 37.0427 184.45 35.6827 180.36L35.6749 180.32C32.9449 172.65 30.3761 165.04 27.9561 157.49C30.8261 164.49 33.9027 171.55 37.1827 178.66C38.5027 181.7 40.1252 184.51 41.9952 187.06C47.5552 194.64 55.3127 200.08 63.6827 202.75C72.1027 205.45 81.1708 205.35 89.2608 201.86ZM183.886 99.77C181.666 92.74 177.475 86.05 171.566 80.58C172.515 81.3 173.422 82.06 174.292 82.83C180.532 88.45 184.702 95.59 186.542 103.07C188.382 110.49 187.908 118.26 184.878 125.17C183.558 128.2 181.712 131.08 179.362 133.69L179.323 133.74C175.023 138.79 170.232 143.61 164.972 148.19C170.252 143.27 174.851 138.03 178.761 132.51C180.511 130.19 181.925 127.74 182.995 125.21C186.385 117.19 186.546 108.21 183.886 99.77ZM104.136 55.08C102.216 54.59 100.285 54.11 98.3546 53.64C90.9246 51.72 83.4711 50.11 76.0811 48.82C68.4511 47.48 60.7555 46.44 53.0655 45.69C47.8055 45.17 42.733 45.46 38.003 46.42C29.063 48.22 21.3011 52.42 15.5811 58.12C12.7111 60.97 10.3624 64.2 8.61237 67.7C10.1924 61.68 13.6133 56.27 18.3233 51.98C23.6233 47.14 30.5567 43.7 38.3467 42.35C43.3568 41.48 48.7252 41.47 54.2452 42.5C62.0152 43.95 69.8471 45.64 77.6671 47.58C85.207 49.44 92.7664 51.55 100.276 53.91L100.308 53.92C100.864 54.0895 101.416 54.257 101.972 54.4243C102.695 54.6421 103.418 54.8594 104.136 55.08ZM97.2452 191.07C99.6352 189.66 102.033 188.19 104.433 186.68C100.623 189.27 96.8321 191.77 93.0421 194.19L92.9171 194.28C91.1671 195.56 89.2924 196.62 87.3624 197.46C80.3824 200.48 72.498 200.54 65.128 198.19C57.708 195.82 50.8045 190.98 45.8546 184.23C44.1746 181.93 42.7121 179.41 41.5421 176.71L41.5264 176.65C38.8664 170.89 36.3461 165.16 33.9561 159.47C36.6161 164.55 39.4349 169.68 42.4249 174.83C43.2049 176.26 44.063 177.65 45.003 178.98C50.713 187.08 58.9911 192.72 67.8311 195.27C76.7411 197.84 86.2352 197.27 94.2452 192.92C95.2852 192.36 96.2952 191.73 97.2452 191.07ZM176.636 98.37C173.796 91.14 168.692 84.36 161.722 79.09C162.912 79.82 164.056 80.6 165.136 81.43C172.096 86.72 176.932 93.75 179.292 101.22C181.622 108.6 181.503 116.41 178.573 123.34C177.633 125.56 176.411 127.7 174.901 129.68L174.855 129.74C172.305 133.34 169.427 136.83 166.237 140.19C169.367 136.57 172.061 132.8 174.331 128.9C175.301 127.38 176.133 125.77 176.823 124.1C180.203 115.95 179.946 106.83 176.636 98.37ZM95.6046 58.07C88.4345 56.58 81.2164 55.46 74.0264 54.7C66.6364 53.92 59.2336 53.51 51.8936 53.45C47.6836 53.42 43.6524 53.86 39.8624 54.7C30.5524 56.78 22.6667 61.3 17.0967 67.24C14.1667 70.37 11.8655 73.89 10.3155 77.67C11.3455 71.6 14.4261 66.02 18.9561 61.51C24.0461 56.45 30.9527 52.71 38.9327 51.1C43.2127 50.23 47.8245 49.97 52.6046 50.44C60.0745 51.17 67.643 52.19 75.253 53.53C82.603 54.82 89.9214 56.39 97.1514 58.27L97.1905 58.28C97.5005 58.355 97.818 58.4325 98.128 58.51C98.438 58.5875 98.7477 58.665 99.0577 58.74C97.9091 58.5103 96.7532 58.2897 95.6046 58.07ZM97.7921 184.11C102.312 181.78 106.851 179.2 111.401 176.4C105.861 180.17 100.282 183.71 94.7218 187L94.5655 187.1C93.7055 187.7 92.8339 188.25 91.9639 188.71C85.0939 192.43 76.8914 192.91 69.1514 190.68C61.3414 188.43 54.0027 183.42 48.9327 176.23C48.1227 175.08 47.3514 173.85 46.6514 172.55L46.6124 172.49C44.1824 168.31 41.867 164.15 39.6671 160.01C41.9771 163.52 44.4039 167.06 46.9639 170.61C52.7539 179.23 61.5152 185.09 70.7452 187.56C80.0752 190.05 89.9221 189.11 97.7921 184.11ZM169.464 97.56C165.954 90.26 159.901 83.54 151.831 78.56C153.201 79.25 154.525 80 155.816 80.81C163.626 85.76 169.255 92.68 172.175 100.12C175.045 107.45 175.281 115.31 172.401 122.27C171.831 123.64 171.124 125 170.284 126.33L170.237 126.42C168.877 128.78 167.344 131.08 165.644 133.33C167.274 130.89 168.675 128.38 169.855 125.82C170.215 125.11 170.543 124.41 170.823 123.73C174.273 115.4 173.574 106.07 169.464 97.56ZM93.8858 62.62L93.4249 62.55C86.5049 61.44 79.5649 60.78 72.6749 60.53C65.5249 60.27 58.4542 60.45 51.5342 61.02C48.7442 61.24 46.0249 61.67 43.4249 62.27C33.4549 64.56 25.2258 69.42 19.6358 75.64C16.5558 79.08 14.267 82.93 12.9171 87.02C13.4271 80.96 16.1711 75.24 20.5811 70.53C25.5311 65.25 32.5636 61.23 40.8936 59.38C44.3336 58.62 48.0167 58.22 51.8467 58.25C58.9867 58.31 66.2365 58.71 73.5264 59.48C80.3064 60.19 87.1059 61.23 93.8858 62.62ZM23.2764 83.08C19.8664 86.88 17.4933 91.14 16.3233 95.58C16.3333 89.56 18.8261 83.72 23.2061 78.84C28.1561 73.32 35.523 69 44.503 66.94C46.853 66.4 49.3427 66.01 51.9327 65.8C58.7427 65.23 65.6208 65.06 72.5108 65.31C77.9908 65.51 83.503 65.98 89.003 66.73C83.333 66.2 77.6408 66.04 72.0108 66.22C65.1908 66.43 58.4974 67.15 51.9874 68.3L49.4327 68.81C38.2027 71.27 29.1765 76.5 23.2764 83.08ZM97.4014 177.36C102.621 175.2 107.845 172.65 112.995 169.74C107.215 173.47 101.366 176.87 95.5264 179.9L95.3233 180.01C88.6233 184.31 80.1152 185.1 71.9952 182.93C63.8152 180.74 56.0661 175.56 50.9561 167.95L50.9014 167.88C48.8414 165.03 46.8617 162.18 44.9717 159.35C46.8117 161.58 48.743 163.83 50.753 166.08C56.593 173.1 64.6205 177.81 72.9405 179.84C81.4005 181.9 90.2014 181.21 97.4014 177.36ZM162.276 97.14C158.016 90.01 151.046 83.55 141.956 78.93L142.308 79.05C143.538 79.57 144.767 80.14 145.987 80.76C154.937 85.36 161.544 92.17 165.144 99.64C168.674 106.94 169.304 114.87 166.394 121.88L165.526 123.77C164.936 125.03 164.297 126.28 163.597 127.52C164.247 126.14 164.818 124.74 165.308 123.33C168.608 114.9 167.306 105.55 162.276 97.14ZM27.6671 89.8C23.827 94 21.3245 98.66 20.3546 103.46C19.8945 97.42 22.2433 91.39 26.8233 86.28C32.0633 80.43 40.2105 75.75 50.4405 73.5L52.7921 73.04C59.1321 71.91 65.6236 71.21 72.1436 71.01C76.1736 70.88 80.2467 70.94 84.3468 71.19C80.1767 71.13 76.0227 71.32 71.9327 71.73C65.5127 72.37 59.2158 73.57 53.1358 75.27C42.0658 78.36 33.367 83.58 27.6671 89.8ZM95.9952 170.96C101.235 169.45 106.432 167.47 111.542 165.06C106.222 168.1 100.833 170.76 95.4327 172.99L95.2139 173.09C89.0739 176.39 81.4455 176.98 74.0655 175.18C66.6855 173.38 59.5714 169.21 54.4014 162.99L54.3467 162.93C52.6867 161.07 51.0821 159.22 49.5421 157.37C50.8921 158.66 52.2839 159.94 53.7139 161.23C59.4439 166.71 66.6577 170.42 74.0577 172.12C81.5877 173.86 89.3352 173.53 95.9952 170.96ZM155.847 98.33C151.117 91.48 143.531 85.25 133.691 80.71C134.6 81.01 135.506 81.31 136.386 81.63C146.316 85.87 153.816 92.37 158.136 99.6C162.426 106.78 163.564 114.67 160.784 121.68L160.745 121.78C160.625 122.13 160.508 122.47 160.378 122.81C160.498 122.38 160.606 121.96 160.706 121.53C162.796 113.87 160.957 105.73 155.847 98.33ZM32.0421 96.59C28.0721 100.98 25.648 105.72 24.878 110.52C24.008 104.55 26.2961 98.39 31.2061 93.03C36.3261 87.45 44.2549 82.73 54.4249 79.89C60.2349 78.27 66.267 77.12 72.4171 76.5C75.207 76.22 78.0224 76.05 80.8624 75.99C78.0324 76.2 75.2374 76.54 72.4874 77.01C66.4574 78.04 60.593 79.68 55.003 81.86C44.923 85.78 37.1721 90.91 32.0421 96.59ZM93.6671 164.88C98.4871 164.17 103.257 163.02 107.917 161.45C103.527 163.43 99.0611 165.08 94.5811 166.38L94.3624 166.45C88.5924 168.71 81.7858 168.98 75.1358 167.45C68.5459 165.93 62.1221 162.65 57.0421 157.78L56.9717 157.72C55.7017 156.58 54.4764 155.45 53.2764 154.31C54.1464 154.95 55.0461 155.59 55.9561 156.23C61.3961 160.23 67.7027 163.02 74.1827 164.5C80.7227 165.99 87.447 166.15 93.6671 164.88ZM127.847 83.89C126.577 83.34 125.282 82.82 123.972 82.33C126.282 83.05 128.552 83.83 130.792 84.66C140.282 88.87 147.517 94.68 151.917 101.05C156.047 107.03 157.664 113.5 156.284 119.52C157.004 113.03 154.752 106.39 149.862 100.23C145.042 94.17 137.615 88.52 127.925 83.93L127.847 83.89ZM36.4561 103.24C32.6361 107.58 30.3705 112.07 29.6905 116.62C29.6305 116.28 29.5708 115.95 29.5108 115.62C28.9008 110.34 31.0111 104.86 35.5811 99.81C40.2211 94.67 47.3617 89.98 56.7217 86.34C62.0017 84.28 67.5542 82.73 73.2843 81.75C74.9242 81.47 76.5908 81.23 78.2608 81.05C76.6808 81.32 75.1233 81.65 73.5733 82.02C67.9234 83.39 62.5217 85.42 57.4717 88.02C48.1117 92.84 41.0961 97.97 36.4561 103.24ZM90.6046 159.16C94.4146 159.16 98.188 158.85 101.878 158.27C98.948 159.07 95.9661 159.69 92.9561 160.14L92.8155 160.17C87.2455 161.33 81.163 161.18 75.253 159.83C69.403 158.49 63.7021 155.97 58.7921 152.37L58.7452 152.34C57.7652 151.65 56.808 150.97 55.878 150.28C56.398 150.56 56.9317 150.84 57.4717 151.12C62.5217 153.72 67.9234 155.75 73.5733 157.12C79.0733 158.45 84.7846 159.16 90.6046 159.16ZM123.737 88.02C121.637 86.94 119.465 85.95 117.245 85.07C120.215 86.01 123.115 87.08 125.925 88.28C134.915 92.54 141.742 97.71 146.112 103.21C149.752 107.81 151.652 112.62 151.612 117.31C151.062 112.53 148.781 107.81 144.761 103.24C140.121 97.97 133.117 92.85 123.737 88.02ZM121.566 92.29C130.396 96.84 136.933 101.59 141.183 106.42C145.053 110.81 146.987 115.24 146.987 119.58C146.987 123.92 145.043 128.34 141.183 132.73C136.933 137.57 130.383 142.32 121.573 146.86C116.833 149.3 111.792 151.2 106.542 152.47C101.452 153.7 96.1258 154.36 90.6358 154.36C85.1358 154.36 79.8017 153.7 74.7218 152.47C69.4718 151.2 64.4205 149.3 59.6905 146.86C50.8605 142.32 44.3233 137.56 40.0733 132.73C36.2033 128.34 34.2764 123.91 34.2764 119.57C34.2764 115.22 36.2133 110.8 40.0733 106.41C44.3333 101.57 50.8727 96.82 59.6827 92.28C89.003 79.5661 116.822 90.021 121.566 92.29Z",fill:"url(#paint1_linear_401_75)"}),G("defs",{children:[G("linearGradient",{id:"paint0_linear_401_75",x1:"91",y1:"75",x2:"91",y2:"145",gradientUnits:"userSpaceOnUse",children:[M("stop",{stopColor:"#01C4C8"}),M("stop",{offset:"1",stopColor:"#01B5BE"})]}),G("linearGradient",{id:"paint1_linear_401_75",x1:"25.8306",y1:"197.165",x2:"194.359",y2:"41.9424",gradientUnits:"userSpaceOnUse",children:[M("stop",{stopColor:"#0098AC"}),M("stop",{offset:"1",stopColor:"#00E5DD"})]})]})]});function dx(){this.__data__=[],this.size=0}var hx=dx;function px(t,e){return t===e||t!==t&&e!==e}var g2=px,mx=g2;function gx(t,e){for(var n=t.length;n--;)if(mx(t[n][0],e))return n;return-1}var md=gx,vx=md,yx=Array.prototype,_x=yx.splice;function Ex(t){var e=this.__data__,n=vx(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():_x.call(e,n,1),--this.size,!0}var wx=Ex,Tx=md;function Sx(t){var e=this.__data__,n=Tx(e,t);return n<0?void 0:e[n][1]}var Ax=Sx,Ix=md;function bx(t){return Ix(this.__data__,t)>-1}var Cx=bx,kx=md;function Rx(t,e){var n=this.__data__,r=kx(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Nx=Rx,Ox=hx,Px=wx,xx=Ax,Lx=Cx,Mx=Nx;function Go(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Go.prototype.clear=Ox;Go.prototype.delete=Px;Go.prototype.get=xx;Go.prototype.has=Lx;Go.prototype.set=Mx;var gd=Go,Dx=gd;function Vx(){this.__data__=new Dx,this.size=0}var Fx=Vx;function Ux(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Bx=Ux;function jx(t){return this.__data__.get(t)}var qx=jx;function zx(t){return this.__data__.has(t)}var $x=zx,Hx=typeof at=="object"&&at&&at.Object===Object&&at,v2=Hx,Wx=v2,Gx=typeof self=="object"&&self&&self.Object===Object&&self,Kx=Wx||Gx||Function("return this")(),Qr=Kx,Qx=Qr,Xx=Qx.Symbol,wv=Xx,$_=wv,y2=Object.prototype,Yx=y2.hasOwnProperty,Jx=y2.toString,Ta=$_?$_.toStringTag:void 0;function Zx(t){var e=Yx.call(t,Ta),n=t[Ta];try{t[Ta]=void 0;var r=!0}catch{}var i=Jx.call(t);return r&&(e?t[Ta]=n:delete t[Ta]),i}var e5=Zx,t5=Object.prototype,n5=t5.toString;function r5(t){return n5.call(t)}var i5=r5,H_=wv,s5=e5,o5=i5,a5="[object Null]",l5="[object Undefined]",W_=H_?H_.toStringTag:void 0;function u5(t){return t==null?t===void 0?l5:a5:W_&&W_ in Object(t)?s5(t):o5(t)}var vd=u5;function c5(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var _2=c5,f5=vd,d5=_2,h5="[object AsyncFunction]",p5="[object Function]",m5="[object GeneratorFunction]",g5="[object Proxy]";function v5(t){if(!d5(t))return!1;var e=f5(t);return e==p5||e==m5||e==h5||e==g5}var E2=v5,y5=Qr,_5=y5["__core-js_shared__"],E5=_5,Bh=E5,G_=function(){var t=/[^.]+$/.exec(Bh&&Bh.keys&&Bh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function w5(t){return!!G_&&G_ in t}var T5=w5,S5=Function.prototype,A5=S5.toString;function I5(t){if(t!=null){try{return A5.call(t)}catch{}try{return t+""}catch{}}return""}var w2=I5,b5=E2,C5=T5,k5=_2,R5=w2,N5=/[\\^$.*+?()[\]{}|]/g,O5=/^\[object .+?Constructor\]$/,P5=Function.prototype,x5=Object.prototype,L5=P5.toString,M5=x5.hasOwnProperty,D5=RegExp("^"+L5.call(M5).replace(N5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function V5(t){if(!k5(t)||C5(t))return!1;var e=b5(t)?D5:O5;return e.test(R5(t))}var F5=V5;function U5(t,e){return t==null?void 0:t[e]}var B5=U5,j5=F5,q5=B5;function z5(t,e){var n=q5(t,e);return j5(n)?n:void 0}var Ko=z5,$5=Ko,H5=Qr,W5=$5(H5,"Map"),Tv=W5,G5=Ko,K5=G5(Object,"create"),yd=K5,K_=yd;function Q5(){this.__data__=K_?K_(null):{},this.size=0}var X5=Q5;function Y5(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var J5=Y5,Z5=yd,e6="__lodash_hash_undefined__",t6=Object.prototype,n6=t6.hasOwnProperty;function r6(t){var e=this.__data__;if(Z5){var n=e[t];return n===e6?void 0:n}return n6.call(e,t)?e[t]:void 0}var i6=r6,s6=yd,o6=Object.prototype,a6=o6.hasOwnProperty;function l6(t){var e=this.__data__;return s6?e[t]!==void 0:a6.call(e,t)}var u6=l6,c6=yd,f6="__lodash_hash_undefined__";function d6(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=c6&&e===void 0?f6:e,this}var h6=d6,p6=X5,m6=J5,g6=i6,v6=u6,y6=h6;function Qo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qo.prototype.clear=p6;Qo.prototype.delete=m6;Qo.prototype.get=g6;Qo.prototype.has=v6;Qo.prototype.set=y6;var _6=Qo,Q_=_6,E6=gd,w6=Tv;function T6(){this.size=0,this.__data__={hash:new Q_,map:new(w6||E6),string:new Q_}}var S6=T6;function A6(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var I6=A6,b6=I6;function C6(t,e){var n=t.__data__;return b6(e)?n[typeof e=="string"?"string":"hash"]:n.map}var _d=C6,k6=_d;function R6(t){var e=k6(this,t).delete(t);return this.size-=e?1:0,e}var N6=R6,O6=_d;function P6(t){return O6(this,t).get(t)}var x6=P6,L6=_d;function M6(t){return L6(this,t).has(t)}var D6=M6,V6=_d;function F6(t,e){var n=V6(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var U6=F6,B6=S6,j6=N6,q6=x6,z6=D6,$6=U6;function Xo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xo.prototype.clear=B6;Xo.prototype.delete=j6;Xo.prototype.get=q6;Xo.prototype.has=z6;Xo.prototype.set=$6;var T2=Xo,H6=gd,W6=Tv,G6=T2,K6=200;function Q6(t,e){var n=this.__data__;if(n instanceof H6){var r=n.__data__;if(!W6||r.length<K6-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new G6(r)}return n.set(t,e),this.size=n.size,this}var X6=Q6,Y6=gd,J6=Fx,Z6=Bx,e3=qx,t3=$x,n3=X6;function Yo(t){var e=this.__data__=new Y6(t);this.size=e.size}Yo.prototype.clear=J6;Yo.prototype.delete=Z6;Yo.prototype.get=e3;Yo.prototype.has=t3;Yo.prototype.set=n3;var r3=Yo,i3="__lodash_hash_undefined__";function s3(t){return this.__data__.set(t,i3),this}var o3=s3;function a3(t){return this.__data__.has(t)}var l3=a3,u3=T2,c3=o3,f3=l3;function uf(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new u3;++e<n;)this.add(t[e])}uf.prototype.add=uf.prototype.push=c3;uf.prototype.has=f3;var d3=uf;function h3(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var p3=h3;function m3(t,e){return t.has(e)}var g3=m3,v3=d3,y3=p3,_3=g3,E3=1,w3=2;function T3(t,e,n,r,i,s){var o=n&E3,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),f=s.get(e);if(u&&f)return u==e&&f==t;var c=-1,d=!0,p=n&w3?new v3:void 0;for(s.set(t,e),s.set(e,t);++c<a;){var _=t[c],y=e[c];if(r)var E=o?r(y,_,c,e,t,s):r(_,y,c,t,e,s);if(E!==void 0){if(E)continue;d=!1;break}if(p){if(!y3(e,function(m,h){if(!_3(p,h)&&(_===m||i(_,m,n,r,s)))return p.push(h)})){d=!1;break}}else if(!(_===y||i(_,y,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}var S2=T3,S3=Qr,A3=S3.Uint8Array,I3=A3;function b3(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var C3=b3;function k3(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var R3=k3,X_=wv,Y_=I3,N3=g2,O3=S2,P3=C3,x3=R3,L3=1,M3=2,D3="[object Boolean]",V3="[object Date]",F3="[object Error]",U3="[object Map]",B3="[object Number]",j3="[object RegExp]",q3="[object Set]",z3="[object String]",$3="[object Symbol]",H3="[object ArrayBuffer]",W3="[object DataView]",J_=X_?X_.prototype:void 0,jh=J_?J_.valueOf:void 0;function G3(t,e,n,r,i,s,o){switch(n){case W3:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case H3:return!(t.byteLength!=e.byteLength||!s(new Y_(t),new Y_(e)));case D3:case V3:case B3:return N3(+t,+e);case F3:return t.name==e.name&&t.message==e.message;case j3:case z3:return t==e+"";case U3:var a=P3;case q3:var l=r&L3;if(a||(a=x3),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=M3,o.set(t,e);var f=O3(a(t),a(e),r,i,s,o);return o.delete(t),f;case $3:if(jh)return jh.call(t)==jh.call(e)}return!1}var K3=G3;function Q3(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var X3=Q3,Y3=Array.isArray,Sv=Y3,J3=X3,Z3=Sv;function eL(t,e,n){var r=e(t);return Z3(t)?r:J3(r,n(t))}var tL=eL;function nL(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var rL=nL;function iL(){return[]}var sL=iL,oL=rL,aL=sL,lL=Object.prototype,uL=lL.propertyIsEnumerable,Z_=Object.getOwnPropertySymbols,cL=Z_?function(t){return t==null?[]:(t=Object(t),oL(Z_(t),function(e){return uL.call(t,e)}))}:aL,fL=cL;function dL(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var hL=dL;function pL(t){return t!=null&&typeof t=="object"}var Ed=pL,mL=vd,gL=Ed,vL="[object Arguments]";function yL(t){return gL(t)&&mL(t)==vL}var _L=yL,e0=_L,EL=Ed,A2=Object.prototype,wL=A2.hasOwnProperty,TL=A2.propertyIsEnumerable,SL=e0(function(){return arguments}())?e0:function(t){return EL(t)&&wL.call(t,"callee")&&!TL.call(t,"callee")},AL=SL,cf={exports:{}};function IL(){return!1}var bL=IL;cf.exports;(function(t,e){var n=Qr,r=bL,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(cf,cf.exports);var I2=cf.exports,CL=9007199254740991,kL=/^(?:0|[1-9]\d*)$/;function RL(t,e){var n=typeof t;return e=e??CL,!!e&&(n=="number"||n!="symbol"&&kL.test(t))&&t>-1&&t%1==0&&t<e}var NL=RL,OL=9007199254740991;function PL(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=OL}var b2=PL,xL=vd,LL=b2,ML=Ed,DL="[object Arguments]",VL="[object Array]",FL="[object Boolean]",UL="[object Date]",BL="[object Error]",jL="[object Function]",qL="[object Map]",zL="[object Number]",$L="[object Object]",HL="[object RegExp]",WL="[object Set]",GL="[object String]",KL="[object WeakMap]",QL="[object ArrayBuffer]",XL="[object DataView]",YL="[object Float32Array]",JL="[object Float64Array]",ZL="[object Int8Array]",eM="[object Int16Array]",tM="[object Int32Array]",nM="[object Uint8Array]",rM="[object Uint8ClampedArray]",iM="[object Uint16Array]",sM="[object Uint32Array]",je={};je[YL]=je[JL]=je[ZL]=je[eM]=je[tM]=je[nM]=je[rM]=je[iM]=je[sM]=!0;je[DL]=je[VL]=je[QL]=je[FL]=je[XL]=je[UL]=je[BL]=je[jL]=je[qL]=je[zL]=je[$L]=je[HL]=je[WL]=je[GL]=je[KL]=!1;function oM(t){return ML(t)&&LL(t.length)&&!!je[xL(t)]}var aM=oM;function lM(t){return function(e){return t(e)}}var uM=lM,ff={exports:{}};ff.exports;(function(t,e){var n=v2,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(ff,ff.exports);var cM=ff.exports,fM=aM,dM=uM,t0=cM,n0=t0&&t0.isTypedArray,hM=n0?dM(n0):fM,C2=hM,pM=hL,mM=AL,gM=Sv,vM=I2,yM=NL,_M=C2,EM=Object.prototype,wM=EM.hasOwnProperty;function TM(t,e){var n=gM(t),r=!n&&mM(t),i=!n&&!r&&vM(t),s=!n&&!r&&!i&&_M(t),o=n||r||i||s,a=o?pM(t.length,String):[],l=a.length;for(var u in t)(e||wM.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||yM(u,l)))&&a.push(u);return a}var SM=TM,AM=Object.prototype;function IM(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||AM;return t===n}var bM=IM;function CM(t,e){return function(n){return t(e(n))}}var kM=CM,RM=kM,NM=RM(Object.keys,Object),OM=NM,PM=bM,xM=OM,LM=Object.prototype,MM=LM.hasOwnProperty;function DM(t){if(!PM(t))return xM(t);var e=[];for(var n in Object(t))MM.call(t,n)&&n!="constructor"&&e.push(n);return e}var VM=DM,FM=E2,UM=b2;function BM(t){return t!=null&&UM(t.length)&&!FM(t)}var jM=BM,qM=SM,zM=VM,$M=jM;function HM(t){return $M(t)?qM(t):zM(t)}var WM=HM,GM=tL,KM=fL,QM=WM;function XM(t){return GM(t,QM,KM)}var YM=XM,r0=YM,JM=1,ZM=Object.prototype,e9=ZM.hasOwnProperty;function t9(t,e,n,r,i,s){var o=n&JM,a=r0(t),l=a.length,u=r0(e),f=u.length;if(l!=f&&!o)return!1;for(var c=l;c--;){var d=a[c];if(!(o?d in e:e9.call(e,d)))return!1}var p=s.get(t),_=s.get(e);if(p&&_)return p==e&&_==t;var y=!0;s.set(t,e),s.set(e,t);for(var E=o;++c<l;){d=a[c];var m=t[d],h=e[d];if(r)var v=o?r(h,m,d,e,t,s):r(m,h,d,t,e,s);if(!(v===void 0?m===h||i(m,h,n,r,s):v)){y=!1;break}E||(E=d=="constructor")}if(y&&!E){var g=t.constructor,w=e.constructor;g!=w&&"constructor"in t&&"constructor"in e&&!(typeof g=="function"&&g instanceof g&&typeof w=="function"&&w instanceof w)&&(y=!1)}return s.delete(t),s.delete(e),y}var n9=t9,r9=Ko,i9=Qr,s9=r9(i9,"DataView"),o9=s9,a9=Ko,l9=Qr,u9=a9(l9,"Promise"),c9=u9,f9=Ko,d9=Qr,h9=f9(d9,"Set"),p9=h9,m9=Ko,g9=Qr,v9=m9(g9,"WeakMap"),y9=v9,Tm=o9,Sm=Tv,Am=c9,Im=p9,bm=y9,k2=vd,Jo=w2,i0="[object Map]",_9="[object Object]",s0="[object Promise]",o0="[object Set]",a0="[object WeakMap]",l0="[object DataView]",E9=Jo(Tm),w9=Jo(Sm),T9=Jo(Am),S9=Jo(Im),A9=Jo(bm),Qi=k2;(Tm&&Qi(new Tm(new ArrayBuffer(1)))!=l0||Sm&&Qi(new Sm)!=i0||Am&&Qi(Am.resolve())!=s0||Im&&Qi(new Im)!=o0||bm&&Qi(new bm)!=a0)&&(Qi=function(t){var e=k2(t),n=e==_9?t.constructor:void 0,r=n?Jo(n):"";if(r)switch(r){case E9:return l0;case w9:return i0;case T9:return s0;case S9:return o0;case A9:return a0}return e});var I9=Qi,qh=r3,b9=S2,C9=K3,k9=n9,u0=I9,c0=Sv,f0=I2,R9=C2,N9=1,d0="[object Arguments]",h0="[object Array]",Ku="[object Object]",O9=Object.prototype,p0=O9.hasOwnProperty;function P9(t,e,n,r,i,s){var o=c0(t),a=c0(e),l=o?h0:u0(t),u=a?h0:u0(e);l=l==d0?Ku:l,u=u==d0?Ku:u;var f=l==Ku,c=u==Ku,d=l==u;if(d&&f0(t)){if(!f0(e))return!1;o=!0,f=!1}if(d&&!f)return s||(s=new qh),o||R9(t)?b9(t,e,n,r,i,s):C9(t,e,l,n,r,i,s);if(!(n&N9)){var p=f&&p0.call(t,"__wrapped__"),_=c&&p0.call(e,"__wrapped__");if(p||_){var y=p?t.value():t,E=_?e.value():e;return s||(s=new qh),i(y,E,n,r,s)}}return d?(s||(s=new qh),k9(t,e,n,r,i,s)):!1}var x9=P9,L9=x9,m0=Ed;function R2(t,e,n,r,i){return t===e?!0:t==null||e==null||!m0(t)&&!m0(e)?t!==t&&e!==e:L9(t,e,n,r,R2,i)}var M9=R2,D9=M9;function V9(t,e){return D9(t,e)}var F9=V9,N2={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:at,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:a})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),o=i(18),a=i(19),l=i(45),u=i(46),f=i(47),c=i(48),d=i(49),p=i(12),_=i(32),y=i(33),E=i(31),m=i(1),h={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:s.default,Format:o.default,Leaf:a.default,Embed:c.default,Scroll:l.default,Block:f.default,Inline:u.default,Text:d.default,Attributor:{Attribute:p.default,Class:_.default,Style:y.default,Store:E.default}};r.default=h},function(n,r,i){var s=this&&this.__extends||function(){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var v in h)h.hasOwnProperty(v)&&(m[v]=h[v])};return function(m,h){E(m,h);function v(){this.constructor=m}m.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(E){s(m,E);function m(h){var v=this;return h="[Parchment] "+h,v=E.call(this,h)||this,v.message=h,v.name=v.constructor.name,v}return m}(Error);r.ParchmentError=o;var a={},l={},u={},f={};r.DATA_KEY="__blot";var c;(function(E){E[E.TYPE=3]="TYPE",E[E.LEVEL=12]="LEVEL",E[E.ATTRIBUTE=13]="ATTRIBUTE",E[E.BLOT=14]="BLOT",E[E.INLINE=7]="INLINE",E[E.BLOCK=11]="BLOCK",E[E.BLOCK_BLOT=10]="BLOCK_BLOT",E[E.INLINE_BLOT=6]="INLINE_BLOT",E[E.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",E[E.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",E[E.ANY=15]="ANY"})(c=r.Scope||(r.Scope={}));function d(E,m){var h=_(E);if(h==null)throw new o("Unable to create "+E+" blot");var v=h,g=E instanceof Node||E.nodeType===Node.TEXT_NODE?E:v.create(m);return new v(g,m)}r.create=d;function p(E,m){return m===void 0&&(m=!1),E==null?null:E[r.DATA_KEY]!=null?E[r.DATA_KEY].blot:m?p(E.parentNode,m):null}r.find=p;function _(E,m){m===void 0&&(m=c.ANY);var h;if(typeof E=="string")h=f[E]||a[E];else if(E instanceof Text||E.nodeType===Node.TEXT_NODE)h=f.text;else if(typeof E=="number")E&c.LEVEL&c.BLOCK?h=f.block:E&c.LEVEL&c.INLINE&&(h=f.inline);else if(E instanceof HTMLElement){var v=(E.getAttribute("class")||"").split(/\s+/);for(var g in v)if(h=l[v[g]],h)break;h=h||u[E.tagName]}return h==null?null:m&c.LEVEL&h.scope&&m&c.TYPE&h.scope?h:null}r.query=_;function y(){for(var E=[],m=0;m<arguments.length;m++)E[m]=arguments[m];if(E.length>1)return E.map(function(g){return y(g)});var h=E[0];if(typeof h.blotName!="string"&&typeof h.attrName!="string")throw new o("Invalid definition");if(h.blotName==="abstract")throw new o("Cannot register abstract class");if(f[h.blotName||h.attrName]=h,typeof h.keyName=="string")a[h.keyName]=h;else if(h.className!=null&&(l[h.className]=h),h.tagName!=null){Array.isArray(h.tagName)?h.tagName=h.tagName.map(function(g){return g.toUpperCase()}):h.tagName=h.tagName.toUpperCase();var v=Array.isArray(h.tagName)?h.tagName:[h.tagName];v.forEach(function(g){(u[g]==null||h.className==null)&&(u[g]=h)})}return h}r.register=y},function(n,r,i){var s=i(51),o=i(11),a=i(3),l=i(20),u=String.fromCharCode(0),f=function(c){Array.isArray(c)?this.ops=c:c!=null&&Array.isArray(c.ops)?this.ops=c.ops:this.ops=[]};f.prototype.insert=function(c,d){var p={};return c.length===0?this:(p.insert=c,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(p.attributes=d),this.push(p))},f.prototype.delete=function(c){return c<=0?this:this.push({delete:c})},f.prototype.retain=function(c,d){if(c<=0)return this;var p={retain:c};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(p.attributes=d),this.push(p)},f.prototype.push=function(c){var d=this.ops.length,p=this.ops[d-1];if(c=a(!0,{},c),typeof p=="object"){if(typeof c.delete=="number"&&typeof p.delete=="number")return this.ops[d-1]={delete:p.delete+c.delete},this;if(typeof p.delete=="number"&&c.insert!=null&&(d-=1,p=this.ops[d-1],typeof p!="object"))return this.ops.unshift(c),this;if(o(c.attributes,p.attributes)){if(typeof c.insert=="string"&&typeof p.insert=="string")return this.ops[d-1]={insert:p.insert+c.insert},typeof c.attributes=="object"&&(this.ops[d-1].attributes=c.attributes),this;if(typeof c.retain=="number"&&typeof p.retain=="number")return this.ops[d-1]={retain:p.retain+c.retain},typeof c.attributes=="object"&&(this.ops[d-1].attributes=c.attributes),this}}return d===this.ops.length?this.ops.push(c):this.ops.splice(d,0,c),this},f.prototype.chop=function(){var c=this.ops[this.ops.length-1];return c&&c.retain&&!c.attributes&&this.ops.pop(),this},f.prototype.filter=function(c){return this.ops.filter(c)},f.prototype.forEach=function(c){this.ops.forEach(c)},f.prototype.map=function(c){return this.ops.map(c)},f.prototype.partition=function(c){var d=[],p=[];return this.forEach(function(_){var y=c(_)?d:p;y.push(_)}),[d,p]},f.prototype.reduce=function(c,d){return this.ops.reduce(c,d)},f.prototype.changeLength=function(){return this.reduce(function(c,d){return d.insert?c+l.length(d):d.delete?c-d.delete:c},0)},f.prototype.length=function(){return this.reduce(function(c,d){return c+l.length(d)},0)},f.prototype.slice=function(c,d){c=c||0,typeof d!="number"&&(d=1/0);for(var p=[],_=l.iterator(this.ops),y=0;y<d&&_.hasNext();){var E;y<c?E=_.next(c-y):(E=_.next(d-y),p.push(E)),y+=l.length(E)}return new f(p)},f.prototype.compose=function(c){var d=l.iterator(this.ops),p=l.iterator(c.ops),_=[],y=p.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var E=y.retain;d.peekType()==="insert"&&d.peekLength()<=E;)E-=d.peekLength(),_.push(d.next());y.retain-E>0&&p.next(y.retain-E)}for(var m=new f(_);d.hasNext()||p.hasNext();)if(p.peekType()==="insert")m.push(p.next());else if(d.peekType()==="delete")m.push(d.next());else{var h=Math.min(d.peekLength(),p.peekLength()),v=d.next(h),g=p.next(h);if(typeof g.retain=="number"){var w={};typeof v.retain=="number"?w.retain=h:w.insert=v.insert;var A=l.attributes.compose(v.attributes,g.attributes,typeof v.retain=="number");if(A&&(w.attributes=A),m.push(w),!p.hasNext()&&o(m.ops[m.ops.length-1],w)){var S=new f(d.rest());return m.concat(S).chop()}}else typeof g.delete=="number"&&typeof v.retain=="number"&&m.push(g)}return m.chop()},f.prototype.concat=function(c){var d=new f(this.ops.slice());return c.ops.length>0&&(d.push(c.ops[0]),d.ops=d.ops.concat(c.ops.slice(1))),d},f.prototype.diff=function(c,d){if(this.ops===c.ops)return new f;var p=[this,c].map(function(h){return h.map(function(v){if(v.insert!=null)return typeof v.insert=="string"?v.insert:u;var g=h===c?"on":"with";throw new Error("diff() called "+g+" non-document")}).join("")}),_=new f,y=s(p[0],p[1],d),E=l.iterator(this.ops),m=l.iterator(c.ops);return y.forEach(function(h){for(var v=h[1].length;v>0;){var g=0;switch(h[0]){case s.INSERT:g=Math.min(m.peekLength(),v),_.push(m.next(g));break;case s.DELETE:g=Math.min(v,E.peekLength()),E.next(g),_.delete(g);break;case s.EQUAL:g=Math.min(E.peekLength(),m.peekLength(),v);var w=E.next(g),A=m.next(g);o(w.insert,A.insert)?_.retain(g,l.attributes.diff(w.attributes,A.attributes)):_.push(A).delete(g);break}v-=g}}),_.chop()},f.prototype.eachLine=function(c,d){d=d||`
`;for(var p=l.iterator(this.ops),_=new f,y=0;p.hasNext();){if(p.peekType()!=="insert")return;var E=p.peek(),m=l.length(E)-p.peekLength(),h=typeof E.insert=="string"?E.insert.indexOf(d,m)-m:-1;if(h<0)_.push(p.next());else if(h>0)_.push(p.next(h));else{if(c(_,p.next(1).attributes||{},y)===!1)return;y+=1,_=new f}}_.length()>0&&c(_,{},y)},f.prototype.transform=function(c,d){if(d=!!d,typeof c=="number")return this.transformPosition(c,d);for(var p=l.iterator(this.ops),_=l.iterator(c.ops),y=new f;p.hasNext()||_.hasNext();)if(p.peekType()==="insert"&&(d||_.peekType()!=="insert"))y.retain(l.length(p.next()));else if(_.peekType()==="insert")y.push(_.next());else{var E=Math.min(p.peekLength(),_.peekLength()),m=p.next(E),h=_.next(E);if(m.delete)continue;h.delete?y.push(h):y.retain(E,l.attributes.transform(m.attributes,h.attributes,d))}return y.chop()},f.prototype.transformPosition=function(c,d){d=!!d;for(var p=l.iterator(this.ops),_=0;p.hasNext()&&_<=c;){var y=p.peekLength(),E=p.peekType();if(p.next(),E==="delete"){c-=Math.min(y,c-_);continue}else E==="insert"&&(_<c||!d)&&(c+=y);_+=y}return c},n.exports=f},function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):s.call(p)==="[object Array]"},u=function(p){if(!p||s.call(p)!=="[object Object]")return!1;var _=i.call(p,"constructor"),y=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!_&&!y)return!1;var E;for(E in p);return typeof E>"u"||i.call(p,E)},f=function(p,_){o&&_.name==="__proto__"?o(p,_.name,{enumerable:!0,configurable:!0,value:_.newValue,writable:!0}):p[_.name]=_.newValue},c=function(p,_){if(_==="__proto__")if(i.call(p,_)){if(a)return a(p,_).value}else return;return p[_]};n.exports=function d(){var p,_,y,E,m,h,v=arguments[0],g=1,w=arguments.length,A=!1;for(typeof v=="boolean"&&(A=v,v=arguments[1]||{},g=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});g<w;++g)if(p=arguments[g],p!=null)for(_ in p)y=c(v,_),E=c(p,_),v!==E&&(A&&E&&(u(E)||(m=l(E)))?(m?(m=!1,h=y&&l(y)?y:[]):h=y&&u(y)?y:{},f(v,{name:_,newValue:d(A,h,E)})):typeof E<"u"&&f(v,{name:_,newValue:E}));return v}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=function(){function T(b,R){for(var O=0;O<R.length;O++){var D=R[O];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(b,D.key,D)}}return function(b,R,O){return R&&T(b.prototype,R),O&&T(b,O),b}}(),o=function T(b,R,O){b===null&&(b=Function.prototype);var D=Object.getOwnPropertyDescriptor(b,R);if(D===void 0){var B=Object.getPrototypeOf(b);return B===null?void 0:T(B,R,O)}else{if("value"in D)return D.value;var q=D.get;return q===void 0?void 0:q.call(O)}},a=i(3),l=v(a),u=i(2),f=v(u),c=i(0),d=v(c),p=i(16),_=v(p),y=i(6),E=v(y),m=i(7),h=v(m);function v(T){return T&&T.__esModule?T:{default:T}}function g(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}function w(T,b){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:T}function A(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(T,b):T.__proto__=b)}var S=1,I=function(T){A(b,T);function b(){return g(this,b),w(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"attach",value:function(){o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new f.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(O,D){var B=d.default.query(O,d.default.Scope.BLOCK_ATTRIBUTE);B!=null&&this.attributes.attribute(B,D)}},{key:"formatAt",value:function(O,D,B,q){this.format(B,q)}},{key:"insertAt",value:function(O,D,B){if(typeof D=="string"&&D.endsWith(`
`)){var q=d.default.create(k.blotName);this.parent.insertBefore(q,O===0?this:this.next),q.insertAt(0,D.slice(0,-1))}else o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertAt",this).call(this,O,D,B)}}]),b}(d.default.Embed);I.scope=d.default.Scope.BLOCK_BLOT;var k=function(T){A(b,T);function b(R){g(this,b);var O=w(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,R));return O.cache={},O}return s(b,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(O,D){return D.length()===0?O:O.insert(D.value(),C(D))},new f.default).insert(`
`,C(this))),this.cache.delta}},{key:"deleteAt",value:function(O,D){o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"deleteAt",this).call(this,O,D),this.cache={}}},{key:"formatAt",value:function(O,D,B,q){D<=0||(d.default.query(B,d.default.Scope.BLOCK)?O+D===this.length()&&this.format(B,q):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,O,Math.min(D,this.length()-O-1),B,q),this.cache={})}},{key:"insertAt",value:function(O,D,B){if(B!=null)return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertAt",this).call(this,O,D,B);if(D.length!==0){var q=D.split(`
`),$=q.shift();$.length>0&&(O<this.length()-1||this.children.tail==null?o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertAt",this).call(this,Math.min(O,this.length()-1),$):this.children.tail.insertAt(this.children.tail.length(),$),this.cache={});var F=this;q.reduce(function(P,N){return F=F.split(P,!0),F.insertAt(0,N),N.length},O+$.length)}}},{key:"insertBefore",value:function(O,D){var B=this.children.head;o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertBefore",this).call(this,O,D),B instanceof _.default&&B.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(O,D){o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"moveChildren",this).call(this,O,D),this.cache={}}},{key:"optimize",value:function(O){o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,O),this.cache={}}},{key:"path",value:function(O){return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"path",this).call(this,O,!0)}},{key:"removeChild",value:function(O){o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"removeChild",this).call(this,O),this.cache={}}},{key:"split",value:function(O){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D&&(O===0||O>=this.length()-S)){var B=this.clone();return O===0?(this.parent.insertBefore(B,this),this):(this.parent.insertBefore(B,this.next),B)}else{var q=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"split",this).call(this,O,D);return this.cache={},q}}}]),b}(d.default.Block);k.blotName="block",k.tagName="P",k.defaultChild="break",k.allowedChildren=[E.default,d.default.Embed,h.default];function C(T){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return T==null||(typeof T.formats=="function"&&(b=(0,l.default)(b,T.formats())),T.parent==null||T.parent.blotName=="scroll"||T.parent.statics.scope!==T.statics.scope)?b:C(T.parent,b)}r.bubbleFormats=C,r.BlockEmbed=I,r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},o=function(){function F(P,N){var L=[],V=!0,z=!1,j=void 0;try{for(var x=P[Symbol.iterator](),U;!(V=(U=x.next()).done)&&(L.push(U.value),!(N&&L.length===N));V=!0);}catch(H){z=!0,j=H}finally{try{!V&&x.return&&x.return()}finally{if(z)throw j}}return L}return function(P,N){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return F(P,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function F(P,N){for(var L=0;L<N.length;L++){var V=N[L];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(P,V.key,V)}}return function(P,N,L){return N&&F(P.prototype,N),L&&F(P,L),P}}();i(50);var l=i(2),u=C(l),f=i(14),c=C(f),d=i(8),p=C(d),_=i(9),y=C(_),E=i(0),m=C(E),h=i(15),v=C(h),g=i(3),w=C(g),A=i(10),S=C(A),I=i(34),k=C(I);function C(F){return F&&F.__esModule?F:{default:F}}function T(F,P,N){return P in F?Object.defineProperty(F,P,{value:N,enumerable:!0,configurable:!0,writable:!0}):F[P]=N,F}function b(F,P){if(!(F instanceof P))throw new TypeError("Cannot call a class as a function")}var R=(0,S.default)("quill"),O=function(){a(F,null,[{key:"debug",value:function(N){N===!0&&(N="log"),S.default.level(N)}},{key:"find",value:function(N){return N.__quill||m.default.find(N)}},{key:"import",value:function(N){return this.imports[N]==null&&R.error("Cannot import "+N+". Are you sure it was registered?"),this.imports[N]}},{key:"register",value:function(N,L){var V=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof N!="string"){var j=N.attrName||N.blotName;typeof j=="string"?this.register("formats/"+j,N,L):Object.keys(N).forEach(function(x){V.register(x,N[x],L)})}else this.imports[N]!=null&&!z&&R.warn("Overwriting "+N+" with",L),this.imports[N]=L,(N.startsWith("blots/")||N.startsWith("formats/"))&&L.blotName!=="abstract"?m.default.register(L):N.startsWith("modules")&&typeof L.register=="function"&&L.register()}}]);function F(P){var N=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(b(this,F),this.options=D(P,L),this.container=this.options.container,this.container==null)return R.error("Invalid Quill container",P);this.options.debug&&F.debug(this.options.debug);var V=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=m.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new c.default(this.scroll),this.selection=new v.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(j){j===p.default.events.TEXT_CHANGE&&N.root.classList.toggle("ql-blank",N.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(j,x){var U=N.selection.lastRange,H=U&&U.length===0?U.index:void 0;B.call(N,function(){return N.editor.update(null,x,H)},j)});var z=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+V+"<p><br></p></div>");this.setContents(z),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(F,[{key:"addContainer",value:function(N){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof N=="string"){var V=N;N=document.createElement("div"),N.classList.add(V)}return this.container.insertBefore(N,L),N}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(N,L,V){var z=this,j=q(N,L,V),x=o(j,4);return N=x[0],L=x[1],V=x[3],B.call(this,function(){return z.editor.deleteText(N,L)},V,N,-1*L)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(N),this.container.classList.toggle("ql-disabled",!N)}},{key:"focus",value:function(){var N=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=N,this.scrollIntoView()}},{key:"format",value:function(N,L){var V=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return B.call(this,function(){var j=V.getSelection(!0),x=new u.default;if(j==null)return x;if(m.default.query(N,m.default.Scope.BLOCK))x=V.editor.formatLine(j.index,j.length,T({},N,L));else{if(j.length===0)return V.selection.format(N,L),x;x=V.editor.formatText(j.index,j.length,T({},N,L))}return V.setSelection(j,p.default.sources.SILENT),x},z)}},{key:"formatLine",value:function(N,L,V,z,j){var x=this,U=void 0,H=q(N,L,V,z,j),W=o(H,4);return N=W[0],L=W[1],U=W[2],j=W[3],B.call(this,function(){return x.editor.formatLine(N,L,U)},j,N,0)}},{key:"formatText",value:function(N,L,V,z,j){var x=this,U=void 0,H=q(N,L,V,z,j),W=o(H,4);return N=W[0],L=W[1],U=W[2],j=W[3],B.call(this,function(){return x.editor.formatText(N,L,U)},j,N,0)}},{key:"getBounds",value:function(N){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,V=void 0;typeof N=="number"?V=this.selection.getBounds(N,L):V=this.selection.getBounds(N.index,N.length);var z=this.container.getBoundingClientRect();return{bottom:V.bottom-z.top,height:V.height,left:V.left-z.left,right:V.right-z.left,top:V.top-z.top,width:V.width}}},{key:"getContents",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,V=q(N,L),z=o(V,2);return N=z[0],L=z[1],this.editor.getContents(N,L)}},{key:"getFormat",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof N=="number"?this.editor.getFormat(N,L):this.editor.getFormat(N.index,N.length)}},{key:"getIndex",value:function(N){return N.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(N){return this.scroll.leaf(N)}},{key:"getLine",value:function(N){return this.scroll.line(N)}},{key:"getLines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof N!="number"?this.scroll.lines(N.index,N.length):this.scroll.lines(N,L)}},{key:"getModule",value:function(N){return this.theme.modules[N]}},{key:"getSelection",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return N&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,V=q(N,L),z=o(V,2);return N=z[0],L=z[1],this.editor.getText(N,L)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(N,L,V){var z=this,j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:F.sources.API;return B.call(this,function(){return z.editor.insertEmbed(N,L,V)},j,N)}},{key:"insertText",value:function(N,L,V,z,j){var x=this,U=void 0,H=q(N,0,V,z,j),W=o(H,4);return N=W[0],U=W[2],j=W[3],B.call(this,function(){return x.editor.insertText(N,L,U)},j,N,L.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(N,L,V){this.clipboard.dangerouslyPasteHTML(N,L,V)}},{key:"removeFormat",value:function(N,L,V){var z=this,j=q(N,L,V),x=o(j,4);return N=x[0],L=x[1],V=x[3],B.call(this,function(){return z.editor.removeFormat(N,L)},V,N)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(N){var L=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return B.call(this,function(){N=new u.default(N);var z=L.getLength(),j=L.editor.deleteText(0,z),x=L.editor.applyDelta(N),U=x.ops[x.ops.length-1];U!=null&&typeof U.insert=="string"&&U.insert[U.insert.length-1]===`
`&&(L.editor.deleteText(L.getLength()-1,1),x.delete(1));var H=j.compose(x);return H},V)}},{key:"setSelection",value:function(N,L,V){if(N==null)this.selection.setRange(null,L||F.sources.API);else{var z=q(N,L,V),j=o(z,4);N=j[0],L=j[1],V=j[3],this.selection.setRange(new h.Range(N,L),V),V!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(N){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,V=new u.default().insert(N);return this.setContents(V,L)}},{key:"update",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,L=this.scroll.update(N);return this.selection.update(N),L}},{key:"updateContents",value:function(N){var L=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return B.call(this,function(){return N=new u.default(N),L.editor.applyDelta(N,V)},V,!0)}}]),F}();O.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},O.events=p.default.events,O.sources=p.default.sources,O.version="1.3.7",O.imports={delta:u.default,parchment:m.default,"core/module":y.default,"core/theme":k.default};function D(F,P){if(P=(0,w.default)(!0,{container:F,modules:{clipboard:!0,keyboard:!0,history:!0}},P),!P.theme||P.theme===O.DEFAULTS.theme)P.theme=k.default;else if(P.theme=O.import("themes/"+P.theme),P.theme==null)throw new Error("Invalid theme "+P.theme+". Did you register it?");var N=(0,w.default)(!0,{},P.theme.DEFAULTS);[N,P].forEach(function(z){z.modules=z.modules||{},Object.keys(z.modules).forEach(function(j){z.modules[j]===!0&&(z.modules[j]={})})});var L=Object.keys(N.modules).concat(Object.keys(P.modules)),V=L.reduce(function(z,j){var x=O.import("modules/"+j);return x==null?R.error("Cannot load "+j+" module. Are you sure you registered it?"):z[j]=x.DEFAULTS||{},z},{});return P.modules!=null&&P.modules.toolbar&&P.modules.toolbar.constructor!==Object&&(P.modules.toolbar={container:P.modules.toolbar}),P=(0,w.default)(!0,{},O.DEFAULTS,{modules:V},N,P),["bounds","container","scrollingContainer"].forEach(function(z){typeof P[z]=="string"&&(P[z]=document.querySelector(P[z]))}),P.modules=Object.keys(P.modules).reduce(function(z,j){return P.modules[j]&&(z[j]=P.modules[j]),z},{}),P}function B(F,P,N,L){if(this.options.strict&&!this.isEnabled()&&P===p.default.sources.USER)return new u.default;var V=N==null?null:this.getSelection(),z=this.editor.delta,j=F();if(V!=null&&(N===!0&&(N=V.index),L==null?V=$(V,j,P):L!==0&&(V=$(V,N,L,P)),this.setSelection(V,p.default.sources.SILENT)),j.length()>0){var x,U=[p.default.events.TEXT_CHANGE,j,z,P];if((x=this.emitter).emit.apply(x,[p.default.events.EDITOR_CHANGE].concat(U)),P!==p.default.sources.SILENT){var H;(H=this.emitter).emit.apply(H,U)}}return j}function q(F,P,N,L,V){var z={};return typeof F.index=="number"&&typeof F.length=="number"?typeof P!="number"?(V=L,L=N,N=P,P=F.length,F=F.index):(P=F.length,F=F.index):typeof P!="number"&&(V=L,L=N,N=P,P=0),(typeof N>"u"?"undefined":s(N))==="object"?(z=N,V=L):typeof N=="string"&&(L!=null?z[N]=L:V=N),V=V||p.default.sources.API,[F,P,z,V]}function $(F,P,N,L){if(F==null)return null;var V=void 0,z=void 0;if(P instanceof u.default){var j=[F.index,F.index+F.length].map(function(W){return P.transformPosition(W,L!==p.default.sources.USER)}),x=o(j,2);V=x[0],z=x[1]}else{var U=[F.index,F.index+F.length].map(function(W){return W<P||W===P&&L===p.default.sources.USER?W:N>=0?W+N:Math.max(P,W+N)}),H=o(U,2);V=H[0],z=H[1]}return new h.Range(V,z-V)}r.expandConfig=D,r.overload=q,r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function E(m,h){for(var v=0;v<h.length;v++){var g=h[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,h,v){return h&&E(m.prototype,h),v&&E(m,v),m}}(),o=function E(m,h,v){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,h);if(g===void 0){var w=Object.getPrototypeOf(m);return w===null?void 0:E(w,h,v)}else{if("value"in g)return g.value;var A=g.get;return A===void 0?void 0:A.call(v)}},a=i(7),l=c(a),u=i(0),f=c(u);function c(E){return E&&E.__esModule?E:{default:E}}function d(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function p(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function _(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}var y=function(E){_(m,E);function m(){return d(this,m),p(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"formatAt",value:function(v,g,w,A){if(m.compare(this.statics.blotName,w)<0&&f.default.query(w,f.default.Scope.BLOT)){var S=this.isolate(v,g);A&&S.wrap(w,A)}else o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"formatAt",this).call(this,v,g,w,A)}},{key:"optimize",value:function(v){if(o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,v),this.parent instanceof m&&m.compare(this.statics.blotName,this.parent.statics.blotName)>0){var g=this.parent.isolate(this.offset(),this.length());this.moveChildren(g),g.wrap(this)}}}],[{key:"compare",value:function(v,g){var w=m.order.indexOf(v),A=m.order.indexOf(g);return w>=0||A>=0?w-A:v===g?0:v<g?-1:1}}]),m}(f.default.Inline);y.allowedChildren=[y,f.default.Embed,l.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function f(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var c=function(d){f(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default.Text);r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function h(v,g){for(var w=0;w<g.length;w++){var A=g[w];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(v,A.key,A)}}return function(v,g,w){return g&&h(v.prototype,g),w&&h(v,w),v}}(),o=function h(v,g,w){v===null&&(v=Function.prototype);var A=Object.getOwnPropertyDescriptor(v,g);if(A===void 0){var S=Object.getPrototypeOf(v);return S===null?void 0:h(S,g,w)}else{if("value"in A)return A.value;var I=A.get;return I===void 0?void 0:I.call(w)}},a=i(54),l=c(a),u=i(10),f=c(u);function c(h){return h&&h.__esModule?h:{default:h}}function d(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}function p(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:h}function _(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(h,v):h.__proto__=v)}var y=(0,f.default)("quill:events"),E=["selectionchange","mousedown","mouseup","click"];E.forEach(function(h){document.addEventListener(h,function(){for(var v=arguments.length,g=Array(v),w=0;w<v;w++)g[w]=arguments[w];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(A){if(A.__quill&&A.__quill.emitter){var S;(S=A.__quill.emitter).handleDOM.apply(S,g)}})})});var m=function(h){_(v,h);function v(){d(this,v);var g=p(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return g.listeners={},g.on("error",y.error),g}return s(v,[{key:"emit",value:function(){y.log.apply(y,arguments),o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(w){for(var A=arguments.length,S=Array(A>1?A-1:0),I=1;I<A;I++)S[I-1]=arguments[I];(this.listeners[w.type]||[]).forEach(function(k){var C=k.node,T=k.handler;(w.target===C||C.contains(w.target))&&T.apply(void 0,[w].concat(S))})}},{key:"listenDOM",value:function(w,A,S){this.listeners[w]||(this.listeners[w]=[]),this.listeners[w].push({node:A,handler:S})}}]),v}(l.default);m.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},m.sources={API:"api",SILENT:"silent",USER:"user"},r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,a),this.quill=l,this.options=u};o.DEFAULTS={},r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],o="warn";function a(u){if(s.indexOf(u)<=s.indexOf(o)){for(var f,c=arguments.length,d=Array(c>1?c-1:0),p=1;p<c;p++)d[p-1]=arguments[p];(f=console)[u].apply(f,d)}}function l(u){return s.reduce(function(f,c){return f[c]=a.bind(console,c,u),f},{})}a.level=l.level=function(u){o=u},r.default=l},function(n,r,i){var s=Array.prototype.slice,o=i(52),a=i(53),l=n.exports=function(d,p,_){return _||(_={}),d===p?!0:d instanceof Date&&p instanceof Date?d.getTime()===p.getTime():!d||!p||typeof d!="object"&&typeof p!="object"?_.strict?d===p:d==p:c(d,p,_)};function u(d){return d==null}function f(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function c(d,p,_){var y,E;if(u(d)||u(p)||d.prototype!==p.prototype)return!1;if(a(d))return a(p)?(d=s.call(d),p=s.call(p),l(d,p,_)):!1;if(f(d)){if(!f(p)||d.length!==p.length)return!1;for(y=0;y<d.length;y++)if(d[y]!==p[y])return!1;return!0}try{var m=o(d),h=o(p)}catch{return!1}if(m.length!=h.length)return!1;for(m.sort(),h.sort(),y=m.length-1;y>=0;y--)if(m[y]!=h[y])return!1;for(y=m.length-1;y>=0;y--)if(E=m[y],!l(d[E],p[E],_))return!1;return typeof d==typeof p}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l,u,f){f===void 0&&(f={}),this.attrName=l,this.keyName=u;var c=s.Scope.TYPE&s.Scope.ATTRIBUTE;f.scope!=null?this.scope=f.scope&s.Scope.LEVEL|c:this.scope=s.Scope.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var f=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return f==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=function(){function I(k,C){var T=[],b=!0,R=!1,O=void 0;try{for(var D=k[Symbol.iterator](),B;!(b=(B=D.next()).done)&&(T.push(B.value),!(C&&T.length===C));b=!0);}catch(q){R=!0,O=q}finally{try{!b&&D.return&&D.return()}finally{if(R)throw O}}return T}return function(k,C){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return I(k,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function I(k,C){for(var T=0;T<C.length;T++){var b=C[T];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(k,b.key,b)}}return function(k,C,T){return C&&I(k.prototype,C),T&&I(k,T),k}}(),a=function I(k,C,T){k===null&&(k=Function.prototype);var b=Object.getOwnPropertyDescriptor(k,C);if(b===void 0){var R=Object.getPrototypeOf(k);return R===null?void 0:I(R,C,T)}else{if("value"in b)return b.value;var O=b.get;return O===void 0?void 0:O.call(T)}},l=i(2),u=h(l),f=i(0),c=h(f),d=i(4),p=h(d),_=i(6),y=h(_),E=i(7),m=h(E);function h(I){return I&&I.__esModule?I:{default:I}}function v(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")}function g(I,k){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:I}function w(I,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);I.prototype=Object.create(k&&k.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(I,k):I.__proto__=k)}var A=function(I){w(k,I);function k(){return v(this,k),g(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return k}(y.default);A.blotName="code",A.tagName="CODE";var S=function(I){w(k,I);function k(){return v(this,k),g(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return o(k,[{key:"delta",value:function(){var T=this,b=this.domNode.textContent;return b.endsWith(`
`)&&(b=b.slice(0,-1)),b.split(`
`).reduce(function(R,O){return R.insert(O).insert(`
`,T.formats())},new u.default)}},{key:"format",value:function(T,b){if(!(T===this.statics.blotName&&b)){var R=this.descendant(m.default,this.length()-1),O=s(R,1),D=O[0];D!=null&&D.deleteAt(D.length()-1,1),a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,T,b)}}},{key:"formatAt",value:function(T,b,R,O){if(b!==0&&!(c.default.query(R,c.default.Scope.BLOCK)==null||R===this.statics.blotName&&O===this.statics.formats(this.domNode))){var D=this.newlineIndex(T);if(!(D<0||D>=T+b)){var B=this.newlineIndex(T,!0)+1,q=D-B+1,$=this.isolate(B,q),F=$.next;$.format(R,O),F instanceof k&&F.formatAt(0,T-B+b-q,R,O)}}}},{key:"insertAt",value:function(T,b,R){if(R==null){var O=this.descendant(m.default,T),D=s(O,2),B=D[0],q=D[1];B.insertAt(q,b)}}},{key:"length",value:function(){var T=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?T:T+1}},{key:"newlineIndex",value:function(T){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(b)return this.domNode.textContent.slice(0,T).lastIndexOf(`
`);var R=this.domNode.textContent.slice(T).indexOf(`
`);return R>-1?T+R:-1}},{key:"optimize",value:function(T){this.domNode.textContent.endsWith(`
`)||this.appendChild(c.default.create("text",`
`)),a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,T);var b=this.next;b!=null&&b.prev===this&&b.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===b.statics.formats(b.domNode)&&(b.optimize(T),b.moveChildren(this),b.remove())}},{key:"replace",value:function(T){a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,T),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(b){var R=c.default.find(b);R==null?b.parentNode.removeChild(b):R instanceof c.default.Embed?R.remove():R.unwrap()})}}],[{key:"create",value:function(T){var b=a(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,T);return b.setAttribute("spellcheck",!1),b}},{key:"formats",value:function(){return!0}}]),k}(p.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",r.Code=A,r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},o=function(){function F(P,N){var L=[],V=!0,z=!1,j=void 0;try{for(var x=P[Symbol.iterator](),U;!(V=(U=x.next()).done)&&(L.push(U.value),!(N&&L.length===N));V=!0);}catch(H){z=!0,j=H}finally{try{!V&&x.return&&x.return()}finally{if(z)throw j}}return L}return function(P,N){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return F(P,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function F(P,N){for(var L=0;L<N.length;L++){var V=N[L];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(P,V.key,V)}}return function(P,N,L){return N&&F(P.prototype,N),L&&F(P,L),P}}(),l=i(2),u=b(l),f=i(20),c=b(f),d=i(0),p=b(d),_=i(13),y=b(_),E=i(24),m=b(E),h=i(4),v=b(h),g=i(16),w=b(g),A=i(21),S=b(A),I=i(11),k=b(I),C=i(3),T=b(C);function b(F){return F&&F.__esModule?F:{default:F}}function R(F,P,N){return P in F?Object.defineProperty(F,P,{value:N,enumerable:!0,configurable:!0,writable:!0}):F[P]=N,F}function O(F,P){if(!(F instanceof P))throw new TypeError("Cannot call a class as a function")}var D=/^[ -~]*$/,B=function(){function F(P){O(this,F),this.scroll=P,this.delta=this.getDelta()}return a(F,[{key:"applyDelta",value:function(N){var L=this,V=!1;this.scroll.update();var z=this.scroll.length();return this.scroll.batchStart(),N=$(N),N.reduce(function(j,x){var U=x.retain||x.delete||x.insert.length||1,H=x.attributes||{};if(x.insert!=null){if(typeof x.insert=="string"){var W=x.insert;W.endsWith(`
`)&&V&&(V=!1,W=W.slice(0,-1)),j>=z&&!W.endsWith(`
`)&&(V=!0),L.scroll.insertAt(j,W);var J=L.scroll.line(j),le=o(J,2),pe=le[0],ve=le[1],Ie=(0,T.default)({},(0,h.bubbleFormats)(pe));if(pe instanceof v.default){var Me=pe.descendant(p.default.Leaf,ve),sn=o(Me,1),yt=sn[0];Ie=(0,T.default)(Ie,(0,h.bubbleFormats)(yt))}H=c.default.attributes.diff(Ie,H)||{}}else if(s(x.insert)==="object"){var K=Object.keys(x.insert)[0];if(K==null)return j;L.scroll.insertAt(j,K,x.insert[K])}z+=U}return Object.keys(H).forEach(function(Q){L.scroll.formatAt(j,U,Q,H[Q])}),j+U},0),N.reduce(function(j,x){return typeof x.delete=="number"?(L.scroll.deleteAt(j,x.delete),j):j+(x.retain||x.insert.length||1)},0),this.scroll.batchEnd(),this.update(N)}},{key:"deleteText",value:function(N,L){return this.scroll.deleteAt(N,L),this.update(new u.default().retain(N).delete(L))}},{key:"formatLine",value:function(N,L){var V=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(z).forEach(function(j){if(!(V.scroll.whitelist!=null&&!V.scroll.whitelist[j])){var x=V.scroll.lines(N,Math.max(L,1)),U=L;x.forEach(function(H){var W=H.length();if(!(H instanceof y.default))H.format(j,z[j]);else{var J=N-H.offset(V.scroll),le=H.newlineIndex(J+U)-J+1;H.formatAt(J,le,j,z[j])}U-=W})}}),this.scroll.optimize(),this.update(new u.default().retain(N).retain(L,(0,S.default)(z)))}},{key:"formatText",value:function(N,L){var V=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(z).forEach(function(j){V.scroll.formatAt(N,L,j,z[j])}),this.update(new u.default().retain(N).retain(L,(0,S.default)(z)))}},{key:"getContents",value:function(N,L){return this.delta.slice(N,N+L)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(N,L){return N.concat(L.delta())},new u.default)}},{key:"getFormat",value:function(N){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,V=[],z=[];L===0?this.scroll.path(N).forEach(function(x){var U=o(x,1),H=U[0];H instanceof v.default?V.push(H):H instanceof p.default.Leaf&&z.push(H)}):(V=this.scroll.lines(N,L),z=this.scroll.descendants(p.default.Leaf,N,L));var j=[V,z].map(function(x){if(x.length===0)return{};for(var U=(0,h.bubbleFormats)(x.shift());Object.keys(U).length>0;){var H=x.shift();if(H==null)return U;U=q((0,h.bubbleFormats)(H),U)}return U});return T.default.apply(T.default,j)}},{key:"getText",value:function(N,L){return this.getContents(N,L).filter(function(V){return typeof V.insert=="string"}).map(function(V){return V.insert}).join("")}},{key:"insertEmbed",value:function(N,L,V){return this.scroll.insertAt(N,L,V),this.update(new u.default().retain(N).insert(R({},L,V)))}},{key:"insertText",value:function(N,L){var V=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return L=L.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(N,L),Object.keys(z).forEach(function(j){V.scroll.formatAt(N,L.length,j,z[j])}),this.update(new u.default().retain(N).insert(L,(0,S.default)(z)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var N=this.scroll.children.head;return N.statics.blotName!==v.default.blotName||N.children.length>1?!1:N.children.head instanceof w.default}},{key:"removeFormat",value:function(N,L){var V=this.getText(N,L),z=this.scroll.line(N+L),j=o(z,2),x=j[0],U=j[1],H=0,W=new u.default;x!=null&&(x instanceof y.default?H=x.newlineIndex(U)-U+1:H=x.length()-U,W=x.delta().slice(U,U+H-1).insert(`
`));var J=this.getContents(N,L+H),le=J.diff(new u.default().insert(V).concat(W)),pe=new u.default().retain(N).concat(le);return this.applyDelta(pe)}},{key:"update",value:function(N){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,z=this.delta;if(L.length===1&&L[0].type==="characterData"&&L[0].target.data.match(D)&&p.default.find(L[0].target)){var j=p.default.find(L[0].target),x=(0,h.bubbleFormats)(j),U=j.offset(this.scroll),H=L[0].oldValue.replace(m.default.CONTENTS,""),W=new u.default().insert(H),J=new u.default().insert(j.value()),le=new u.default().retain(U).concat(W.diff(J,V));N=le.reduce(function(pe,ve){return ve.insert?pe.insert(ve.insert,x):pe.push(ve)},new u.default),this.delta=z.compose(N)}else this.delta=this.getDelta(),(!N||!(0,k.default)(z.compose(N),this.delta))&&(N=z.diff(this.delta,V));return N}}]),F}();function q(F,P){return Object.keys(P).reduce(function(N,L){return F[L]==null||(P[L]===F[L]?N[L]=P[L]:Array.isArray(P[L])?P[L].indexOf(F[L])<0&&(N[L]=P[L].concat([F[L]])):N[L]=[P[L],F[L]]),N},{})}function $(F){return F.reduce(function(P,N){if(N.insert===1){var L=(0,S.default)(N.attributes);return delete L.image,P.insert({image:N.attributes.image},L)}if(N.attributes!=null&&(N.attributes.list===!0||N.attributes.bullet===!0)&&(N=(0,S.default)(N),N.attributes.list?N.attributes.list="ordered":(N.attributes.list="bullet",delete N.attributes.bullet)),typeof N.insert=="string"){var V=N.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return P.insert(V,N.attributes)}return P.push(N)},new u.default)}r.default=B},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=function(){function I(k,C){var T=[],b=!0,R=!1,O=void 0;try{for(var D=k[Symbol.iterator](),B;!(b=(B=D.next()).done)&&(T.push(B.value),!(C&&T.length===C));b=!0);}catch(q){R=!0,O=q}finally{try{!b&&D.return&&D.return()}finally{if(R)throw O}}return T}return function(k,C){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return I(k,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function I(k,C){for(var T=0;T<C.length;T++){var b=C[T];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(k,b.key,b)}}return function(k,C,T){return C&&I(k.prototype,C),T&&I(k,T),k}}(),a=i(0),l=m(a),u=i(21),f=m(u),c=i(11),d=m(c),p=i(8),_=m(p),y=i(10),E=m(y);function m(I){return I&&I.__esModule?I:{default:I}}function h(I){if(Array.isArray(I)){for(var k=0,C=Array(I.length);k<I.length;k++)C[k]=I[k];return C}else return Array.from(I)}function v(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")}var g=(0,E.default)("quill:selection"),w=function I(k){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;v(this,I),this.index=k,this.length=C},A=function(){function I(k,C){var T=this;v(this,I),this.emitter=C,this.scroll=k,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new w(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){T.mouseDown||setTimeout(T.update.bind(T,_.default.sources.USER),1)}),this.emitter.on(_.default.events.EDITOR_CHANGE,function(b,R){b===_.default.events.TEXT_CHANGE&&R.length()>0&&T.update(_.default.sources.SILENT)}),this.emitter.on(_.default.events.SCROLL_BEFORE_UPDATE,function(){if(T.hasFocus()){var b=T.getNativeRange();b!=null&&b.start.node!==T.cursor.textNode&&T.emitter.once(_.default.events.SCROLL_UPDATE,function(){try{T.setNativeRange(b.start.node,b.start.offset,b.end.node,b.end.offset)}catch{}})}}),this.emitter.on(_.default.events.SCROLL_OPTIMIZE,function(b,R){if(R.range){var O=R.range,D=O.startNode,B=O.startOffset,q=O.endNode,$=O.endOffset;T.setNativeRange(D,B,q,$)}}),this.update(_.default.sources.SILENT)}return o(I,[{key:"handleComposition",value:function(){var C=this;this.root.addEventListener("compositionstart",function(){C.composing=!0}),this.root.addEventListener("compositionend",function(){if(C.composing=!1,C.cursor.parent){var T=C.cursor.restore();if(!T)return;setTimeout(function(){C.setNativeRange(T.startNode,T.startOffset,T.endNode,T.endOffset)},1)}})}},{key:"handleDragging",value:function(){var C=this;this.emitter.listenDOM("mousedown",document.body,function(){C.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){C.mouseDown=!1,C.update(_.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(C,T){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[C])){this.scroll.update();var b=this.getNativeRange();if(!(b==null||!b.native.collapsed||l.default.query(C,l.default.Scope.BLOCK))){if(b.start.node!==this.cursor.textNode){var R=l.default.find(b.start.node,!1);if(R==null)return;if(R instanceof l.default.Leaf){var O=R.split(b.start.offset);R.parent.insertBefore(this.cursor,O)}else R.insertBefore(this.cursor,b.start.node);this.cursor.attach()}this.cursor.format(C,T),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(C){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,b=this.scroll.length();C=Math.min(C,b-1),T=Math.min(C+T,b-1)-C;var R=void 0,O=this.scroll.leaf(C),D=s(O,2),B=D[0],q=D[1];if(B==null)return null;var $=B.position(q,!0),F=s($,2);R=F[0],q=F[1];var P=document.createRange();if(T>0){P.setStart(R,q);var N=this.scroll.leaf(C+T),L=s(N,2);if(B=L[0],q=L[1],B==null)return null;var V=B.position(q,!0),z=s(V,2);return R=z[0],q=z[1],P.setEnd(R,q),P.getBoundingClientRect()}else{var j="left",x=void 0;return R instanceof Text?(q<R.data.length?(P.setStart(R,q),P.setEnd(R,q+1)):(P.setStart(R,q-1),P.setEnd(R,q),j="right"),x=P.getBoundingClientRect()):(x=B.domNode.getBoundingClientRect(),q>0&&(j="right")),{bottom:x.top+x.height,height:x.height,left:x[j],right:x[j],top:x.top,width:0}}}},{key:"getNativeRange",value:function(){var C=document.getSelection();if(C==null||C.rangeCount<=0)return null;var T=C.getRangeAt(0);if(T==null)return null;var b=this.normalizeNative(T);return g.info("getNativeRange",b),b}},{key:"getRange",value:function(){var C=this.getNativeRange();if(C==null)return[null,null];var T=this.normalizedToRange(C);return[T,C]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(C){var T=this,b=[[C.start.node,C.start.offset]];C.native.collapsed||b.push([C.end.node,C.end.offset]);var R=b.map(function(B){var q=s(B,2),$=q[0],F=q[1],P=l.default.find($,!0),N=P.offset(T.scroll);return F===0?N:P instanceof l.default.Container?N+P.length():N+P.index($,F)}),O=Math.min(Math.max.apply(Math,h(R)),this.scroll.length()-1),D=Math.min.apply(Math,[O].concat(h(R)));return new w(D,O-D)}},{key:"normalizeNative",value:function(C){if(!S(this.root,C.startContainer)||!C.collapsed&&!S(this.root,C.endContainer))return null;var T={start:{node:C.startContainer,offset:C.startOffset},end:{node:C.endContainer,offset:C.endOffset},native:C};return[T.start,T.end].forEach(function(b){for(var R=b.node,O=b.offset;!(R instanceof Text)&&R.childNodes.length>0;)if(R.childNodes.length>O)R=R.childNodes[O],O=0;else if(R.childNodes.length===O)R=R.lastChild,O=R instanceof Text?R.data.length:R.childNodes.length+1;else break;b.node=R,b.offset=O}),T}},{key:"rangeToNative",value:function(C){var T=this,b=C.collapsed?[C.index]:[C.index,C.index+C.length],R=[],O=this.scroll.length();return b.forEach(function(D,B){D=Math.min(O-1,D);var q=void 0,$=T.scroll.leaf(D),F=s($,2),P=F[0],N=F[1],L=P.position(N,B!==0),V=s(L,2);q=V[0],N=V[1],R.push(q,N)}),R.length<2&&(R=R.concat(R)),R}},{key:"scrollIntoView",value:function(C){var T=this.lastRange;if(T!=null){var b=this.getBounds(T.index,T.length);if(b!=null){var R=this.scroll.length()-1,O=this.scroll.line(Math.min(T.index,R)),D=s(O,1),B=D[0],q=B;if(T.length>0){var $=this.scroll.line(Math.min(T.index+T.length,R)),F=s($,1);q=F[0]}if(!(B==null||q==null)){var P=C.getBoundingClientRect();b.top<P.top?C.scrollTop-=P.top-b.top:b.bottom>P.bottom&&(C.scrollTop+=b.bottom-P.bottom)}}}}},{key:"setNativeRange",value:function(C,T){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:T,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(g.info("setNativeRange",C,T,b,R),!(C!=null&&(this.root.parentNode==null||C.parentNode==null||b.parentNode==null))){var D=document.getSelection();if(D!=null)if(C!=null){this.hasFocus()||this.root.focus();var B=(this.getNativeRange()||{}).native;if(B==null||O||C!==B.startContainer||T!==B.startOffset||b!==B.endContainer||R!==B.endOffset){C.tagName=="BR"&&(T=[].indexOf.call(C.parentNode.childNodes,C),C=C.parentNode),b.tagName=="BR"&&(R=[].indexOf.call(b.parentNode.childNodes,b),b=b.parentNode);var q=document.createRange();q.setStart(C,T),q.setEnd(b,R),D.removeAllRanges(),D.addRange(q)}}else D.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(C){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.default.sources.API;if(typeof T=="string"&&(b=T,T=!1),g.info("setRange",C),C!=null){var R=this.rangeToNative(C);this.setNativeRange.apply(this,h(R).concat([T]))}else this.setNativeRange(null);this.update(b)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_.default.sources.USER,T=this.lastRange,b=this.getRange(),R=s(b,2),O=R[0],D=R[1];if(this.lastRange=O,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(T,this.lastRange)){var B;!this.composing&&D!=null&&D.native.collapsed&&D.start.node!==this.cursor.textNode&&this.cursor.restore();var q=[_.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(T),C];if((B=this.emitter).emit.apply(B,[_.default.events.EDITOR_CHANGE].concat(q)),C!==_.default.sources.SILENT){var $;($=this.emitter).emit.apply($,q)}}}}]),I}();function S(I,k){try{k.parentNode}catch{return!1}return k instanceof Text&&(k=k.parentNode),I.contains(k)}r.Range=w,r.default=A},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function _(y,E){for(var m=0;m<E.length;m++){var h=E[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(y,h.key,h)}}return function(y,E,m){return E&&_(y.prototype,E),m&&_(y,m),y}}(),o=function _(y,E,m){y===null&&(y=Function.prototype);var h=Object.getOwnPropertyDescriptor(y,E);if(h===void 0){var v=Object.getPrototypeOf(y);return v===null?void 0:_(v,E,m)}else{if("value"in h)return h.value;var g=h.get;return g===void 0?void 0:g.call(m)}},a=i(0),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function f(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function c(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function d(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var p=function(_){d(y,_);function y(){return f(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"insertInto",value:function(m,h){m.children.length===0?o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,m,h):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(l.default.Embed);p.blotName="break",p.tagName="BR",r.default=p},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var _ in p)p.hasOwnProperty(_)&&(d[_]=p[_])};return function(d,p){c(d,p);function _(){this.constructor=d}d.prototype=p===null?Object.create(p):(_.prototype=p.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(44),a=i(30),l=i(1),u=function(c){s(d,c);function d(p){var _=c.call(this,p)||this;return _.build(),_}return d.prototype.appendChild=function(p){this.insertBefore(p)},d.prototype.attach=function(){c.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},d.prototype.build=function(){var p=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(_){try{var y=f(_);p.insertBefore(y,p.children.head||void 0)}catch(E){if(E instanceof l.ParchmentError)return;throw E}})},d.prototype.deleteAt=function(p,_){if(p===0&&_===this.length())return this.remove();this.children.forEachAt(p,_,function(y,E,m){y.deleteAt(E,m)})},d.prototype.descendant=function(p,_){var y=this.children.find(_),E=y[0],m=y[1];return p.blotName==null&&p(E)||p.blotName!=null&&E instanceof p?[E,m]:E instanceof d?E.descendant(p,m):[null,-1]},d.prototype.descendants=function(p,_,y){_===void 0&&(_=0),y===void 0&&(y=Number.MAX_VALUE);var E=[],m=y;return this.children.forEachAt(_,y,function(h,v,g){(p.blotName==null&&p(h)||p.blotName!=null&&h instanceof p)&&E.push(h),h instanceof d&&(E=E.concat(h.descendants(p,v,m))),m-=g}),E},d.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),c.prototype.detach.call(this)},d.prototype.formatAt=function(p,_,y,E){this.children.forEachAt(p,_,function(m,h,v){m.formatAt(h,v,y,E)})},d.prototype.insertAt=function(p,_,y){var E=this.children.find(p),m=E[0],h=E[1];if(m)m.insertAt(h,_,y);else{var v=y==null?l.create("text",_):l.create(_,y);this.appendChild(v)}},d.prototype.insertBefore=function(p,_){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return p instanceof y}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,_)},d.prototype.length=function(){return this.children.reduce(function(p,_){return p+_.length()},0)},d.prototype.moveChildren=function(p,_){this.children.forEach(function(y){p.insertBefore(y,_)})},d.prototype.optimize=function(p){if(c.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var _=l.create(this.statics.defaultChild);this.appendChild(_),_.optimize(p)}else this.remove()},d.prototype.path=function(p,_){_===void 0&&(_=!1);var y=this.children.find(p,_),E=y[0],m=y[1],h=[[this,p]];return E instanceof d?h.concat(E.path(m,_)):(E!=null&&h.push([E,m]),h)},d.prototype.removeChild=function(p){this.children.remove(p)},d.prototype.replace=function(p){p instanceof d&&p.moveChildren(this),c.prototype.replace.call(this,p)},d.prototype.split=function(p,_){if(_===void 0&&(_=!1),!_){if(p===0)return this;if(p===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(p,this.length(),function(E,m,h){E=E.split(m,_),y.appendChild(E)}),y},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(p,_){var y=this,E=[],m=[];p.forEach(function(h){h.target===y.domNode&&h.type==="childList"&&(E.push.apply(E,h.addedNodes),m.push.apply(m,h.removedNodes))}),m.forEach(function(h){if(!(h.parentNode!=null&&h.tagName!=="IFRAME"&&document.body.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var v=l.find(h);v!=null&&(v.domNode.parentNode==null||v.domNode.parentNode===y.domNode)&&v.detach()}}),E.filter(function(h){return h.parentNode==y.domNode}).sort(function(h,v){return h===v?0:h.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(h){var v=null;h.nextSibling!=null&&(v=l.find(h.nextSibling));var g=f(h);(g.next!=v||g.next==null)&&(g.parent!=null&&g.parent.removeChild(y),y.insertBefore(g,v||void 0))})},d}(a.default);function f(c){var d=l.find(c);if(d==null)try{d=l.create(c)}catch{d=l.create(l.Scope.INLINE),[].slice.call(c.childNodes).forEach(function(_){d.domNode.appendChild(_)}),c.parentNode&&c.parentNode.replaceChild(d.domNode,c),d.attach()}return d}r.default=u},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var _ in p)p.hasOwnProperty(_)&&(d[_]=p[_])};return function(d,p){c(d,p);function _(){this.constructor=d}d.prototype=p===null?Object.create(p):(_.prototype=p.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),a=i(31),l=i(17),u=i(1),f=function(c){s(d,c);function d(p){var _=c.call(this,p)||this;return _.attributes=new a.default(_.domNode),_}return d.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},d.prototype.format=function(p,_){var y=u.query(p);y instanceof o.default?this.attributes.attribute(y,_):_&&y!=null&&(p!==this.statics.blotName||this.formats()[p]!==_)&&this.replaceWith(p,_)},d.prototype.formats=function(){var p=this.attributes.values(),_=this.statics.formats(this.domNode);return _!=null&&(p[this.statics.blotName]=_),p},d.prototype.replaceWith=function(p,_){var y=c.prototype.replaceWith.call(this,p,_);return this.attributes.copy(y),y},d.prototype.update=function(p,_){var y=this;c.prototype.update.call(this,p,_),p.some(function(E){return E.target===y.domNode&&E.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(p,_){var y=c.prototype.wrap.call(this,p,_);return y instanceof d&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},d}(l.default);r.default=f},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var d in c)c.hasOwnProperty(d)&&(f[d]=c[d])};return function(f,c){u(f,c);function d(){this.constructor=f}f.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(30),a=i(1),l=function(u){s(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.value=function(c){return!0},f.prototype.index=function(c,d){return this.domNode===c||this.domNode.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},f.prototype.position=function(c,d){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return c>0&&(p+=1),[this.parent.domNode,p]},f.prototype.value=function(){var c;return c={},c[this.statics.blotName]=this.statics.value(this.domNode)||!0,c},f.scope=a.Scope.INLINE_BLOT,f}(o.default);r.default=l},function(n,r,i){var s=i(11),o=i(3),a={attributes:{compose:function(u,f,c){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});var d=o(!0,{},f);c||(d=Object.keys(d).reduce(function(_,y){return d[y]!=null&&(_[y]=d[y]),_},{}));for(var p in u)u[p]!==void 0&&f[p]===void 0&&(d[p]=u[p]);return Object.keys(d).length>0?d:void 0},diff:function(u,f){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});var c=Object.keys(u).concat(Object.keys(f)).reduce(function(d,p){return s(u[p],f[p])||(d[p]=f[p]===void 0?null:f[p]),d},{});return Object.keys(c).length>0?c:void 0},transform:function(u,f,c){if(typeof u!="object")return f;if(typeof f=="object"){if(!c)return f;var d=Object.keys(f).reduce(function(p,_){return u[_]===void 0&&(p[_]=f[_]),p},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var f=this.ops[this.index];if(f){var c=this.offset,d=a.length(f);if(u>=d-c?(u=d-c,this.index+=1,this.offset=0):this.offset+=u,typeof f.delete=="number")return{delete:u};var p={};return f.attributes&&(p.attributes=f.attributes),typeof f.retain=="number"?p.retain=u:typeof f.insert=="string"?p.insert=f.insert.substr(c,u):p.insert=f.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,f=this.index,c=this.next(),d=this.ops.slice(this.index);return this.offset=u,this.index=f,[c].concat(d)}else return[]},n.exports=a},function(n,r){var i=function(){function s(y,E){return E!=null&&y instanceof E}var o;try{o=Map}catch{o=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(y,E,m,h,v){typeof E=="object"&&(m=E.depth,h=E.prototype,v=E.includeNonEnumerable,E=E.circular);var g=[],w=[],A=typeof Buffer<"u";typeof E>"u"&&(E=!0),typeof m>"u"&&(m=1/0);function S(I,k){if(I===null)return null;if(k===0)return I;var C,T;if(typeof I!="object")return I;if(s(I,o))C=new o;else if(s(I,a))C=new a;else if(s(I,l))C=new l(function(P,N){I.then(function(L){P(S(L,k-1))},function(L){N(S(L,k-1))})});else if(u.__isArray(I))C=[];else if(u.__isRegExp(I))C=new RegExp(I.source,_(I)),I.lastIndex&&(C.lastIndex=I.lastIndex);else if(u.__isDate(I))C=new Date(I.getTime());else{if(A&&Buffer.isBuffer(I))return Buffer.allocUnsafe?C=Buffer.allocUnsafe(I.length):C=new Buffer(I.length),I.copy(C),C;s(I,Error)?C=Object.create(I):typeof h>"u"?(T=Object.getPrototypeOf(I),C=Object.create(T)):(C=Object.create(h),T=h)}if(E){var b=g.indexOf(I);if(b!=-1)return w[b];g.push(I),w.push(C)}s(I,o)&&I.forEach(function(P,N){var L=S(N,k-1),V=S(P,k-1);C.set(L,V)}),s(I,a)&&I.forEach(function(P){var N=S(P,k-1);C.add(N)});for(var R in I){var O;T&&(O=Object.getOwnPropertyDescriptor(T,R)),!(O&&O.set==null)&&(C[R]=S(I[R],k-1))}if(Object.getOwnPropertySymbols)for(var D=Object.getOwnPropertySymbols(I),R=0;R<D.length;R++){var B=D[R],q=Object.getOwnPropertyDescriptor(I,B);q&&!q.enumerable&&!v||(C[B]=S(I[B],k-1),q.enumerable||Object.defineProperty(C,B,{enumerable:!1}))}if(v)for(var $=Object.getOwnPropertyNames(I),R=0;R<$.length;R++){var F=$[R],q=Object.getOwnPropertyDescriptor(I,F);q&&q.enumerable||(C[F]=S(I[F],k-1),Object.defineProperty(C,F,{enumerable:!1}))}return C}return S(y,m)}u.clonePrototype=function(E){if(E===null)return null;var m=function(){};return m.prototype=E,new m};function f(y){return Object.prototype.toString.call(y)}u.__objToStr=f;function c(y){return typeof y=="object"&&f(y)==="[object Date]"}u.__isDate=c;function d(y){return typeof y=="object"&&f(y)==="[object Array]"}u.__isArray=d;function p(y){return typeof y=="object"&&f(y)==="[object RegExp]"}u.__isRegExp=p;function _(y){var E="";return y.global&&(E+="g"),y.ignoreCase&&(E+="i"),y.multiline&&(E+="m"),E}return u.__getRegExpFlags=_,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function C(T,b){var R=[],O=!0,D=!1,B=void 0;try{for(var q=T[Symbol.iterator](),$;!(O=($=q.next()).done)&&(R.push($.value),!(b&&R.length===b));O=!0);}catch(F){D=!0,B=F}finally{try{!O&&q.return&&q.return()}finally{if(D)throw B}}return R}return function(T,b){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return C(T,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(T,b){for(var R=0;R<b.length;R++){var O=b[R];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(T,O.key,O)}}return function(T,b,R){return b&&C(T.prototype,b),R&&C(T,R),T}}(),a=function C(T,b,R){T===null&&(T=Function.prototype);var O=Object.getOwnPropertyDescriptor(T,b);if(O===void 0){var D=Object.getPrototypeOf(T);return D===null?void 0:C(D,b,R)}else{if("value"in O)return O.value;var B=O.get;return B===void 0?void 0:B.call(R)}},l=i(0),u=g(l),f=i(8),c=g(f),d=i(4),p=g(d),_=i(16),y=g(_),E=i(13),m=g(E),h=i(25),v=g(h);function g(C){return C&&C.__esModule?C:{default:C}}function w(C,T){if(!(C instanceof T))throw new TypeError("Cannot call a class as a function")}function A(C,T){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:C}function S(C,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);C.prototype=Object.create(T&&T.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(C,T):C.__proto__=T)}function I(C){return C instanceof p.default||C instanceof d.BlockEmbed}var k=function(C){S(T,C);function T(b,R){w(this,T);var O=A(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,b));return O.emitter=R.emitter,Array.isArray(R.whitelist)&&(O.whitelist=R.whitelist.reduce(function(D,B){return D[B]=!0,D},{})),O.domNode.addEventListener("DOMNodeInserted",function(){}),O.optimize(),O.enable(),O}return o(T,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(R,O){var D=this.line(R),B=s(D,2),q=B[0],$=B[1],F=this.line(R+O),P=s(F,1),N=P[0];if(a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,R,O),N!=null&&q!==N&&$>0){if(q instanceof d.BlockEmbed||N instanceof d.BlockEmbed){this.optimize();return}if(q instanceof m.default){var L=q.newlineIndex(q.length(),!0);if(L>-1&&(q=q.split(L+1),q===N)){this.optimize();return}}else if(N instanceof m.default){var V=N.newlineIndex(0);V>-1&&N.split(V+1)}var z=N.children.head instanceof y.default?null:N.children.head;q.moveChildren(N,z),q.remove()}this.optimize()}},{key:"enable",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",R)}},{key:"formatAt",value:function(R,O,D,B){this.whitelist!=null&&!this.whitelist[D]||(a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,R,O,D,B),this.optimize())}},{key:"insertAt",value:function(R,O,D){if(!(D!=null&&this.whitelist!=null&&!this.whitelist[O])){if(R>=this.length())if(D==null||u.default.query(O,u.default.Scope.BLOCK)==null){var B=u.default.create(this.statics.defaultChild);this.appendChild(B),D==null&&O.endsWith(`
`)&&(O=O.slice(0,-1)),B.insertAt(0,O,D)}else{var q=u.default.create(O,D);this.appendChild(q)}else a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,R,O,D);this.optimize()}}},{key:"insertBefore",value:function(R,O){if(R.statics.scope===u.default.Scope.INLINE_BLOT){var D=u.default.create(this.statics.defaultChild);D.appendChild(R),R=D}a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,R,O)}},{key:"leaf",value:function(R){return this.path(R).pop()||[null,-1]}},{key:"line",value:function(R){return R===this.length()?this.line(R-1):this.descendant(I,R)}},{key:"lines",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,D=function B(q,$,F){var P=[],N=F;return q.children.forEachAt($,F,function(L,V,z){I(L)?P.push(L):L instanceof u.default.Container&&(P=P.concat(B(L,V,N))),N-=z}),P};return D(this,R,O)}},{key:"optimize",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,R,O),R.length>0&&this.emitter.emit(c.default.events.SCROLL_OPTIMIZE,R,O))}},{key:"path",value:function(R){return a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,R).slice(1)}},{key:"update",value:function(R){if(this.batch!==!0){var O=c.default.sources.USER;typeof R=="string"&&(O=R),Array.isArray(R)||(R=this.observer.takeRecords()),R.length>0&&this.emitter.emit(c.default.events.SCROLL_BEFORE_UPDATE,O,R),a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"update",this).call(this,R.concat([])),R.length>0&&this.emitter.emit(c.default.events.SCROLL_UPDATE,O,R)}}}]),T}(u.default.Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[p.default,d.BlockEmbed,v.default],r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},o=function(){function x(U,H){var W=[],J=!0,le=!1,pe=void 0;try{for(var ve=U[Symbol.iterator](),Ie;!(J=(Ie=ve.next()).done)&&(W.push(Ie.value),!(H&&W.length===H));J=!0);}catch(Me){le=!0,pe=Me}finally{try{!J&&ve.return&&ve.return()}finally{if(le)throw pe}}return W}return function(U,H){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return x(U,H);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function x(U,H){for(var W=0;W<H.length;W++){var J=H[W];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(U,J.key,J)}}return function(U,H,W){return H&&x(U.prototype,H),W&&x(U,W),U}}(),l=i(21),u=C(l),f=i(11),c=C(f),d=i(3),p=C(d),_=i(2),y=C(_),E=i(20),m=C(E),h=i(0),v=C(h),g=i(5),w=C(g),A=i(10),S=C(A),I=i(9),k=C(I);function C(x){return x&&x.__esModule?x:{default:x}}function T(x,U,H){return U in x?Object.defineProperty(x,U,{value:H,enumerable:!0,configurable:!0,writable:!0}):x[U]=H,x}function b(x,U){if(!(x instanceof U))throw new TypeError("Cannot call a class as a function")}function R(x,U){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:x}function O(x,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);x.prototype=Object.create(U&&U.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(x,U):x.__proto__=U)}var D=(0,S.default)("quill:keyboard"),B=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",q=function(x){O(U,x),a(U,null,[{key:"match",value:function(W,J){return J=j(J),["altKey","ctrlKey","metaKey","shiftKey"].some(function(le){return!!J[le]!==W[le]&&J[le]!==null})?!1:J.key===(W.which||W.keyCode)}}]);function U(H,W){b(this,U);var J=R(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,H,W));return J.bindings={},Object.keys(J.options.bindings).forEach(function(le){le==="list autofill"&&H.scroll.whitelist!=null&&!H.scroll.whitelist.list||J.options.bindings[le]&&J.addBinding(J.options.bindings[le])}),J.addBinding({key:U.keys.ENTER,shiftKey:null},L),J.addBinding({key:U.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(J.addBinding({key:U.keys.BACKSPACE},{collapsed:!0},F),J.addBinding({key:U.keys.DELETE},{collapsed:!0},P)):(J.addBinding({key:U.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},F),J.addBinding({key:U.keys.DELETE},{collapsed:!0,suffix:/^.?$/},P)),J.addBinding({key:U.keys.BACKSPACE},{collapsed:!1},N),J.addBinding({key:U.keys.DELETE},{collapsed:!1},N),J.addBinding({key:U.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},F),J.listen(),J}return a(U,[{key:"addBinding",value:function(W){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},pe=j(W);if(pe==null||pe.key==null)return D.warn("Attempted to add invalid keyboard binding",pe);typeof J=="function"&&(J={handler:J}),typeof le=="function"&&(le={handler:le}),pe=(0,p.default)(pe,J,le),this.bindings[pe.key]=this.bindings[pe.key]||[],this.bindings[pe.key].push(pe)}},{key:"listen",value:function(){var W=this;this.quill.root.addEventListener("keydown",function(J){if(!J.defaultPrevented){var le=J.which||J.keyCode,pe=(W.bindings[le]||[]).filter(function(lt){return U.match(J,lt)});if(pe.length!==0){var ve=W.quill.getSelection();if(!(ve==null||!W.quill.hasFocus())){var Ie=W.quill.getLine(ve.index),Me=o(Ie,2),sn=Me[0],yt=Me[1],K=W.quill.getLeaf(ve.index),Q=o(K,2),ie=Q[0],se=Q[1],Z=ve.length===0?[ie,se]:W.quill.getLeaf(ve.index+ve.length),_e=o(Z,2),Ee=_e[0],Te=_e[1],bn=ie instanceof v.default.Text?ie.value().slice(0,se):"",_r=Ee instanceof v.default.Text?Ee.value().slice(Te):"",Xe={collapsed:ve.length===0,empty:ve.length===0&&sn.length()<=1,format:W.quill.getFormat(ve),offset:yt,prefix:bn,suffix:_r},Wk=pe.some(function(lt){if(lt.collapsed!=null&&lt.collapsed!==Xe.collapsed||lt.empty!=null&&lt.empty!==Xe.empty||lt.offset!=null&&lt.offset!==Xe.offset)return!1;if(Array.isArray(lt.format)){if(lt.format.every(function(Yr){return Xe.format[Yr]==null}))return!1}else if(s(lt.format)==="object"&&!Object.keys(lt.format).every(function(Yr){return lt.format[Yr]===!0?Xe.format[Yr]!=null:lt.format[Yr]===!1?Xe.format[Yr]==null:(0,c.default)(lt.format[Yr],Xe.format[Yr])}))return!1;return lt.prefix!=null&&!lt.prefix.test(Xe.prefix)||lt.suffix!=null&&!lt.suffix.test(Xe.suffix)?!1:lt.handler.call(W,ve,Xe)!==!0});Wk&&J.preventDefault()}}}})}}]),U}(k.default);q.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},q.DEFAULTS={bindings:{bold:z("bold"),italic:z("italic"),underline:z("underline"),indent:{key:q.keys.TAB,format:["blockquote","indent","list"],handler:function(U,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","+1",w.default.sources.USER)}},outdent:{key:q.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(U,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","-1",w.default.sources.USER)}},"outdent backspace":{key:q.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(U,H){H.format.indent!=null?this.quill.format("indent","-1",w.default.sources.USER):H.format.list!=null&&this.quill.format("list",!1,w.default.sources.USER)}},"indent code-block":V(!0),"outdent code-block":V(!1),"remove tab":{key:q.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(U){this.quill.deleteText(U.index-1,1,w.default.sources.USER)}},tab:{key:q.keys.TAB,handler:function(U){this.quill.history.cutoff();var H=new y.default().retain(U.index).delete(U.length).insert("	");this.quill.updateContents(H,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index+1,w.default.sources.SILENT)}},"list empty enter":{key:q.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(U,H){this.quill.format("list",!1,w.default.sources.USER),H.format.indent&&this.quill.format("indent",!1,w.default.sources.USER)}},"checklist enter":{key:q.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(U){var H=this.quill.getLine(U.index),W=o(H,2),J=W[0],le=W[1],pe=(0,p.default)({},J.formats(),{list:"checked"}),ve=new y.default().retain(U.index).insert(`
`,pe).retain(J.length()-le-1).retain(1,{list:"unchecked"});this.quill.updateContents(ve,w.default.sources.USER),this.quill.setSelection(U.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:q.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(U,H){var W=this.quill.getLine(U.index),J=o(W,2),le=J[0],pe=J[1],ve=new y.default().retain(U.index).insert(`
`,H.format).retain(le.length()-pe-1).retain(1,{header:null});this.quill.updateContents(ve,w.default.sources.USER),this.quill.setSelection(U.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(U,H){var W=H.prefix.length,J=this.quill.getLine(U.index),le=o(J,2),pe=le[0],ve=le[1];if(ve>W)return!0;var Ie=void 0;switch(H.prefix.trim()){case"[]":case"[ ]":Ie="unchecked";break;case"[x]":Ie="checked";break;case"-":case"*":Ie="bullet";break;default:Ie="ordered"}this.quill.insertText(U.index," ",w.default.sources.USER),this.quill.history.cutoff();var Me=new y.default().retain(U.index-ve).delete(W+1).retain(pe.length()-2-ve).retain(1,{list:Ie});this.quill.updateContents(Me,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index-W,w.default.sources.SILENT)}},"code exit":{key:q.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(U){var H=this.quill.getLine(U.index),W=o(H,2),J=W[0],le=W[1],pe=new y.default().retain(U.index+J.length()-le-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(pe,w.default.sources.USER)}},"embed left":$(q.keys.LEFT,!1),"embed left shift":$(q.keys.LEFT,!0),"embed right":$(q.keys.RIGHT,!1),"embed right shift":$(q.keys.RIGHT,!0)}};function $(x,U){var H,W=x===q.keys.LEFT?"prefix":"suffix";return H={key:x,shiftKey:U,altKey:null},T(H,W,/^$/),T(H,"handler",function(le){var pe=le.index;x===q.keys.RIGHT&&(pe+=le.length+1);var ve=this.quill.getLeaf(pe),Ie=o(ve,1),Me=Ie[0];return Me instanceof v.default.Embed?(x===q.keys.LEFT?U?this.quill.setSelection(le.index-1,le.length+1,w.default.sources.USER):this.quill.setSelection(le.index-1,w.default.sources.USER):U?this.quill.setSelection(le.index,le.length+1,w.default.sources.USER):this.quill.setSelection(le.index+le.length+1,w.default.sources.USER),!1):!0}),H}function F(x,U){if(!(x.index===0||this.quill.getLength()<=1)){var H=this.quill.getLine(x.index),W=o(H,1),J=W[0],le={};if(U.offset===0){var pe=this.quill.getLine(x.index-1),ve=o(pe,1),Ie=ve[0];if(Ie!=null&&Ie.length()>1){var Me=J.formats(),sn=this.quill.getFormat(x.index-1,1);le=m.default.attributes.diff(Me,sn)||{}}}var yt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(U.prefix)?2:1;this.quill.deleteText(x.index-yt,yt,w.default.sources.USER),Object.keys(le).length>0&&this.quill.formatLine(x.index-yt,yt,le,w.default.sources.USER),this.quill.focus()}}function P(x,U){var H=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(U.suffix)?2:1;if(!(x.index>=this.quill.getLength()-H)){var W={},J=0,le=this.quill.getLine(x.index),pe=o(le,1),ve=pe[0];if(U.offset>=ve.length()-1){var Ie=this.quill.getLine(x.index+1),Me=o(Ie,1),sn=Me[0];if(sn){var yt=ve.formats(),K=this.quill.getFormat(x.index,1);W=m.default.attributes.diff(yt,K)||{},J=sn.length()}}this.quill.deleteText(x.index,H,w.default.sources.USER),Object.keys(W).length>0&&this.quill.formatLine(x.index+J-1,H,W,w.default.sources.USER)}}function N(x){var U=this.quill.getLines(x),H={};if(U.length>1){var W=U[0].formats(),J=U[U.length-1].formats();H=m.default.attributes.diff(J,W)||{}}this.quill.deleteText(x,w.default.sources.USER),Object.keys(H).length>0&&this.quill.formatLine(x.index,1,H,w.default.sources.USER),this.quill.setSelection(x.index,w.default.sources.SILENT),this.quill.focus()}function L(x,U){var H=this;x.length>0&&this.quill.scroll.deleteAt(x.index,x.length);var W=Object.keys(U.format).reduce(function(J,le){return v.default.query(le,v.default.Scope.BLOCK)&&!Array.isArray(U.format[le])&&(J[le]=U.format[le]),J},{});this.quill.insertText(x.index,`
`,W,w.default.sources.USER),this.quill.setSelection(x.index+1,w.default.sources.SILENT),this.quill.focus(),Object.keys(U.format).forEach(function(J){W[J]==null&&(Array.isArray(U.format[J])||J!=="link"&&H.quill.format(J,U.format[J],w.default.sources.USER))})}function V(x){return{key:q.keys.TAB,shiftKey:!x,format:{"code-block":!0},handler:function(H){var W=v.default.query("code-block"),J=H.index,le=H.length,pe=this.quill.scroll.descendant(W,J),ve=o(pe,2),Ie=ve[0],Me=ve[1];if(Ie!=null){var sn=this.quill.getIndex(Ie),yt=Ie.newlineIndex(Me,!0)+1,K=Ie.newlineIndex(sn+Me+le),Q=Ie.domNode.textContent.slice(yt,K).split(`
`);Me=0,Q.forEach(function(ie,se){x?(Ie.insertAt(yt+Me,W.TAB),Me+=W.TAB.length,se===0?J+=W.TAB.length:le+=W.TAB.length):ie.startsWith(W.TAB)&&(Ie.deleteAt(yt+Me,W.TAB.length),Me-=W.TAB.length,se===0?J-=W.TAB.length:le-=W.TAB.length),Me+=ie.length+1}),this.quill.update(w.default.sources.USER),this.quill.setSelection(J,le,w.default.sources.SILENT)}}}}function z(x){return{key:x[0].toUpperCase(),shortKey:!0,handler:function(H,W){this.quill.format(x,!W.format[x],w.default.sources.USER)}}}function j(x){if(typeof x=="string"||typeof x=="number")return j({key:x});if((typeof x>"u"?"undefined":s(x))==="object"&&(x=(0,u.default)(x,!1)),typeof x.key=="string")if(q.keys[x.key.toUpperCase()]!=null)x.key=q.keys[x.key.toUpperCase()];else if(x.key.length===1)x.key=x.key.toUpperCase().charCodeAt(0);else return null;return x.shortKey&&(x[B]=x.shortKey,delete x.shortKey),x}r.default=q,r.SHORTKEY=B},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function m(h,v){var g=[],w=!0,A=!1,S=void 0;try{for(var I=h[Symbol.iterator](),k;!(w=(k=I.next()).done)&&(g.push(k.value),!(v&&g.length===v));w=!0);}catch(C){A=!0,S=C}finally{try{!w&&I.return&&I.return()}finally{if(A)throw S}}return g}return function(h,v){if(Array.isArray(h))return h;if(Symbol.iterator in Object(h))return m(h,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function m(h,v,g){h===null&&(h=Function.prototype);var w=Object.getOwnPropertyDescriptor(h,v);if(w===void 0){var A=Object.getPrototypeOf(h);return A===null?void 0:m(A,v,g)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(g)}},a=function(){function m(h,v){for(var g=0;g<v.length;g++){var w=v[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}return function(h,v,g){return v&&m(h.prototype,v),g&&m(h,g),h}}(),l=i(0),u=d(l),f=i(7),c=d(f);function d(m){return m&&m.__esModule?m:{default:m}}function p(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function _(m,h){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:m}function y(m,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);m.prototype=Object.create(h&&h.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(m,h):m.__proto__=h)}var E=function(m){y(h,m),a(h,null,[{key:"value",value:function(){}}]);function h(v,g){p(this,h);var w=_(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,v));return w.selection=g,w.textNode=document.createTextNode(h.CONTENTS),w.domNode.appendChild(w.textNode),w._length=0,w}return a(h,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(g,w){if(this._length!==0)return o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"format",this).call(this,g,w);for(var A=this,S=0;A!=null&&A.statics.scope!==u.default.Scope.BLOCK_BLOT;)S+=A.offset(A.parent),A=A.parent;A!=null&&(this._length=h.CONTENTS.length,A.optimize(),A.formatAt(S,h.CONTENTS.length,g,w),this._length=0)}},{key:"index",value:function(g,w){return g===this.textNode?0:o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"index",this).call(this,g,w)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var g=this.textNode,w=this.selection.getNativeRange(),A=void 0,S=void 0,I=void 0;if(w!=null&&w.start.node===g&&w.end.node===g){var k=[g,w.start.offset,w.end.offset];A=k[0],S=k[1],I=k[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==h.CONTENTS){var C=this.textNode.data.split(h.CONTENTS).join("");this.next instanceof c.default?(A=this.next.domNode,this.next.insertAt(0,C),this.textNode.data=h.CONTENTS):(this.textNode.data=C,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(h.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var T=[S,I].map(function(R){return Math.max(0,Math.min(A.data.length,R-1))}),b=s(T,2);return S=b[0],I=b[1],{startNode:A,startOffset:S,endNode:A,endOffset:I}}}}},{key:"update",value:function(g,w){var A=this;if(g.some(function(I){return I.type==="characterData"&&I.target===A.textNode})){var S=this.restore();S&&(w.range=S)}}},{key:"value",value:function(){return""}}]),h}(u.default.Embed);E.blotName="cursor",E.className="ql-cursor",E.tagName="span",E.CONTENTS="\uFEFF",r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=u(s),a=i(4),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function f(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function c(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function d(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var p=function(_){d(y,_);function y(){return f(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(o.default.Container);p.allowedChildren=[l.default,a.BlockEmbed,p],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=function(){function E(m,h){for(var v=0;v<h.length;v++){var g=h[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,h,v){return h&&E(m.prototype,h),v&&E(m,v),m}}(),o=function E(m,h,v){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,h);if(g===void 0){var w=Object.getPrototypeOf(m);return w===null?void 0:E(w,h,v)}else{if("value"in g)return g.value;var A=g.get;return A===void 0?void 0:A.call(v)}},a=i(0),l=u(a);function u(E){return E&&E.__esModule?E:{default:E}}function f(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function c(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function d(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}var p=function(E){d(m,E);function m(){return f(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"value",value:function(v){var g=o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,v);return g.startsWith("rgb(")?(g=g.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+g.split(",").map(function(w){return("00"+parseInt(w).toString(16)).slice(-2)}).join("")):g}}]),m}(l.default.Attributor.Style),_=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),y=new p("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=_,r.ColorStyle=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=function(){function y(E,m){for(var h=0;h<m.length;h++){var v=m[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(E,v.key,v)}}return function(E,m,h){return m&&y(E.prototype,m),h&&y(E,h),E}}(),o=function y(E,m,h){E===null&&(E=Function.prototype);var v=Object.getOwnPropertyDescriptor(E,m);if(v===void 0){var g=Object.getPrototypeOf(E);return g===null?void 0:y(g,m,h)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(h)}},a=i(6),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}function c(y,E){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:y}function d(y,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);y.prototype=Object.create(E&&E.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(y,E):y.__proto__=E)}var p=function(y){d(E,y);function E(){return f(this,E),c(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return s(E,[{key:"format",value:function(h,v){if(h!==this.statics.blotName||!v)return o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,h,v);v=this.constructor.sanitize(v),this.domNode.setAttribute("href",v)}}],[{key:"create",value:function(h){var v=o(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,h);return h=this.sanitize(h),v.setAttribute("href",h),v.setAttribute("rel","noopener noreferrer"),v.setAttribute("target","_blank"),v}},{key:"formats",value:function(h){return h.getAttribute("href")}},{key:"sanitize",value:function(h){return _(h,this.PROTOCOL_WHITELIST)?h:this.SANITIZED_URL}}]),E}(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function _(y,E){var m=document.createElement("a");m.href=y;var h=m.href.slice(0,m.href.indexOf(":"));return E.indexOf(h)>-1}r.default=p,r.sanitize=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},o=function(){function E(m,h){for(var v=0;v<h.length;v++){var g=h[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,h,v){return h&&E(m.prototype,h),v&&E(m,v),m}}(),a=i(23),l=c(a),u=i(107),f=c(u);function c(E){return E&&E.__esModule?E:{default:E}}function d(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}var p=0;function _(E,m){E.setAttribute(m,E.getAttribute(m)!=="true")}var y=function(){function E(m){var h=this;d(this,E),this.select=m,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){h.togglePicker()}),this.label.addEventListener("keydown",function(v){switch(v.keyCode){case l.default.keys.ENTER:h.togglePicker();break;case l.default.keys.ESCAPE:h.escape(),v.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(E,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),_(this.label,"aria-expanded"),_(this.options,"aria-hidden")}},{key:"buildItem",value:function(h){var v=this,g=document.createElement("span");return g.tabIndex="0",g.setAttribute("role","button"),g.classList.add("ql-picker-item"),h.hasAttribute("value")&&g.setAttribute("data-value",h.getAttribute("value")),h.textContent&&g.setAttribute("data-label",h.textContent),g.addEventListener("click",function(){v.selectItem(g,!0)}),g.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:v.selectItem(g,!0),w.preventDefault();break;case l.default.keys.ESCAPE:v.escape(),w.preventDefault();break}}),g}},{key:"buildLabel",value:function(){var h=document.createElement("span");return h.classList.add("ql-picker-label"),h.innerHTML=f.default,h.tabIndex="0",h.setAttribute("role","button"),h.setAttribute("aria-expanded","false"),this.container.appendChild(h),h}},{key:"buildOptions",value:function(){var h=this,v=document.createElement("span");v.classList.add("ql-picker-options"),v.setAttribute("aria-hidden","true"),v.tabIndex="-1",v.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",v.id),this.options=v,[].slice.call(this.select.options).forEach(function(g){var w=h.buildItem(g);v.appendChild(w),g.selected===!0&&h.selectItem(w)}),this.container.appendChild(v)}},{key:"buildPicker",value:function(){var h=this;[].slice.call(this.select.attributes).forEach(function(v){h.container.setAttribute(v.name,v.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var h=this;this.close(),setTimeout(function(){return h.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(h){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=this.container.querySelector(".ql-selected");if(h!==g&&(g!=null&&g.classList.remove("ql-selected"),h!=null&&(h.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(h.parentNode.children,h),h.hasAttribute("data-value")?this.label.setAttribute("data-value",h.getAttribute("data-value")):this.label.removeAttribute("data-value"),h.hasAttribute("data-label")?this.label.setAttribute("data-label",h.getAttribute("data-label")):this.label.removeAttribute("data-label"),v))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var w=document.createEvent("Event");w.initEvent("change",!0,!0),this.select.dispatchEvent(w)}this.close()}}},{key:"update",value:function(){var h=void 0;if(this.select.selectedIndex>-1){var v=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];h=this.select.options[this.select.selectedIndex],this.selectItem(v)}else this.selectItem(null);var g=h!=null&&h!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",g)}}]),E}();r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=D(s),a=i(5),l=D(a),u=i(4),f=D(u),c=i(16),d=D(c),p=i(25),_=D(p),y=i(24),E=D(y),m=i(35),h=D(m),v=i(6),g=D(v),w=i(22),A=D(w),S=i(7),I=D(S),k=i(55),C=D(k),T=i(42),b=D(T),R=i(23),O=D(R);function D(B){return B&&B.__esModule?B:{default:B}}l.default.register({"blots/block":f.default,"blots/block/embed":u.BlockEmbed,"blots/break":d.default,"blots/container":_.default,"blots/cursor":E.default,"blots/embed":h.default,"blots/inline":g.default,"blots/scroll":A.default,"blots/text":I.default,"modules/clipboard":C.default,"modules/history":b.default,"modules/keyboard":O.default}),o.default.register(f.default,d.default,E.default,g.default,A.default,I.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},a.prototype.deleteAt=function(l,u){var f=this.isolate(l,u);f.remove()},a.prototype.formatAt=function(l,u,f,c){var d=this.isolate(l,u);if(s.query(f,s.Scope.BLOT)!=null&&c)d.wrap(f,c);else if(s.query(f,s.Scope.ATTRIBUTE)!=null){var p=s.create(this.statics.scope);d.wrap(p),p.format(f,c)}},a.prototype.insertAt=function(l,u,f){var c=f==null?s.create("text",u):s.create(u,f),d=this.split(l);this.parent.insertBefore(c,d)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var f=null;l.children.insertBefore(this,u),u!=null&&(f=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=f)&&l.domNode.insertBefore(this.domNode,f),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var f=this.split(l);return f.split(u),f},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var f=typeof l=="string"?s.create(l,u):l;return f.replace(this),f},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var f=typeof l=="string"?s.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(f,this.next),f.appendChild(this),f},a.blotName="abstract",a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),o=i(32),a=i(33),l=i(1),u=function(){function f(c){this.attributes={},this.domNode=c,this.build()}return f.prototype.attribute=function(c,d){d?c.add(this.domNode,d)&&(c.value(this.domNode)!=null?this.attributes[c.attrName]=c:delete this.attributes[c.attrName]):(c.remove(this.domNode),delete this.attributes[c.attrName])},f.prototype.build=function(){var c=this;this.attributes={};var d=s.default.keys(this.domNode),p=o.default.keys(this.domNode),_=a.default.keys(this.domNode);d.concat(p).concat(_).forEach(function(y){var E=l.query(y,l.Scope.ATTRIBUTE);E instanceof s.default&&(c.attributes[E.attrName]=E)})},f.prototype.copy=function(c){var d=this;Object.keys(this.attributes).forEach(function(p){var _=d.attributes[p].value(d.domNode);c.format(p,_)})},f.prototype.move=function(c){var d=this;this.copy(c),Object.keys(this.attributes).forEach(function(p){d.attributes[p].remove(d.domNode)}),this.attributes={}},f.prototype.values=function(){var c=this;return Object.keys(this.attributes).reduce(function(d,p){return d[p]=c.attributes[p].value(c.domNode),d},{})},f}();r.default=u},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var d in c)c.hasOwnProperty(d)&&(f[d]=c[d])};return function(f,c){u(f,c);function d(){this.constructor=f}f.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(u,f){var c=u.getAttribute("class")||"";return c.split(/\s+/).filter(function(d){return d.indexOf(f+"-")===0})}var l=function(u){s(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.keys=function(c){return(c.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},f.prototype.add=function(c,d){return this.canAdd(c,d)?(this.remove(c),c.classList.add(this.keyName+"-"+d),!0):!1},f.prototype.remove=function(c){var d=a(c,this.keyName);d.forEach(function(p){c.classList.remove(p)}),c.classList.length===0&&c.removeAttribute("class")},f.prototype.value=function(c){var d=a(c,this.keyName)[0]||"",p=d.slice(this.keyName.length+1);return this.canAdd(c,p)?p:""},f}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var d in c)c.hasOwnProperty(d)&&(f[d]=c[d])};return function(f,c){u(f,c);function d(){this.constructor=f}f.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(u){var f=u.split("-"),c=f.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return f[0]+c}var l=function(u){s(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.keys=function(c){return(c.getAttribute("style")||"").split(";").map(function(d){var p=d.split(":");return p[0].trim()})},f.prototype.add=function(c,d){return this.canAdd(c,d)?(c.style[a(this.keyName)]=d,!0):!1},f.prototype.remove=function(c){c.style[a(this.keyName)]="",c.getAttribute("style")||c.removeAttribute("style")},f.prototype.value=function(c){var d=c.style[a(this.keyName)];return this.canAdd(c,d)?d:""},f}(o.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(u,f){for(var c=0;c<f.length;c++){var d=f[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,f,c){return f&&l(u.prototype,f),c&&l(u,c),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,f){o(this,l),this.quill=u,this.options=f,this.modules={}}return s(l,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(c){f.modules[c]==null&&f.addModule(c)})}},{key:"addModule",value:function(f){var c=this.quill.constructor.import("modules/"+f);return this.modules[f]=new c(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function m(h,v){for(var g=0;g<v.length;g++){var w=v[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}return function(h,v,g){return v&&m(h.prototype,v),g&&m(h,g),h}}(),o=function m(h,v,g){h===null&&(h=Function.prototype);var w=Object.getOwnPropertyDescriptor(h,v);if(w===void 0){var A=Object.getPrototypeOf(h);return A===null?void 0:m(A,v,g)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(g)}},a=i(0),l=c(a),u=i(7),f=c(u);function c(m){return m&&m.__esModule?m:{default:m}}function d(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function p(m,h){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:m}function _(m,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);m.prototype=Object.create(h&&h.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(m,h):m.__proto__=h)}var y="\uFEFF",E=function(m){_(h,m);function h(v){d(this,h);var g=p(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,v));return g.contentNode=document.createElement("span"),g.contentNode.setAttribute("contenteditable",!1),[].slice.call(g.domNode.childNodes).forEach(function(w){g.contentNode.appendChild(w)}),g.leftGuard=document.createTextNode(y),g.rightGuard=document.createTextNode(y),g.domNode.appendChild(g.leftGuard),g.domNode.appendChild(g.contentNode),g.domNode.appendChild(g.rightGuard),g}return s(h,[{key:"index",value:function(g,w){return g===this.leftGuard?0:g===this.rightGuard?1:o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"index",this).call(this,g,w)}},{key:"restore",value:function(g){var w=void 0,A=void 0,S=g.data.split(y).join("");if(g===this.leftGuard)if(this.prev instanceof f.default){var I=this.prev.length();this.prev.insertAt(I,S),w={startNode:this.prev.domNode,startOffset:I+S.length}}else A=document.createTextNode(S),this.parent.insertBefore(l.default.create(A),this),w={startNode:A,startOffset:S.length};else g===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,S),w={startNode:this.next.domNode,startOffset:S.length}):(A=document.createTextNode(S),this.parent.insertBefore(l.default.create(A),this.next),w={startNode:A,startOffset:S.length}));return g.data=y,w}},{key:"update",value:function(g,w){var A=this;g.forEach(function(S){if(S.type==="characterData"&&(S.target===A.leftGuard||S.target===A.rightGuard)){var I=A.restore(S.target);I&&(w.range=I)}})}}]),h}(l.default.Embed);r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",l),f=new o.default.Attributor.Class("align","ql-align",l),c=new o.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=f,r.AlignStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),o=l(s),a=i(26);function l(c){return c&&c.__esModule?c:{default:c}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),f=new a.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",l),f=new o.default.Attributor.Class("direction","ql-direction",l),c=new o.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=f,r.DirectionStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=function(){function m(h,v){for(var g=0;g<v.length;g++){var w=v[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}return function(h,v,g){return v&&m(h.prototype,v),g&&m(h,g),h}}(),o=function m(h,v,g){h===null&&(h=Function.prototype);var w=Object.getOwnPropertyDescriptor(h,v);if(w===void 0){var A=Object.getPrototypeOf(h);return A===null?void 0:m(A,v,g)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(g)}},a=i(0),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function f(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function c(m,h){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:m}function d(m,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);m.prototype=Object.create(h&&h.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(m,h):m.__proto__=h)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},_=new l.default.Attributor.Class("font","ql-font",p),y=function(m){d(h,m);function h(){return f(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return s(h,[{key:"value",value:function(g){return o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"value",this).call(this,g).replace(/["']/g,"")}}]),h}(l.default.Attributor.Style),E=new y("font","font-family",p);r.FontStyle=E,r.FontClass=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=function(){function v(g,w){for(var A=0;A<w.length;A++){var S=w[A];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,w,A){return w&&v(g.prototype,w),A&&v(g,A),g}}(),o=i(0),a=d(o),l=i(5),u=d(l),f=i(9),c=d(f);function d(v){return v&&v.__esModule?v:{default:v}}function p(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function _(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function y(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var E=function(v){y(g,v);function g(w,A){p(this,g);var S=_(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,w,A));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(u.default.events.EDITOR_CHANGE,function(I,k,C,T){I!==u.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||T===u.default.sources.USER?S.record(k,C):S.transform(k))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return s(g,[{key:"change",value:function(A,S){if(this.stack[A].length!==0){var I=this.stack[A].pop();this.stack[S].push(I),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(I[A],u.default.sources.USER),this.ignoreChange=!1;var k=h(I[A]);this.quill.setSelection(k)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(A,S){if(A.ops.length!==0){this.stack.redo=[];var I=this.quill.getContents().diff(S),k=Date.now();if(this.lastRecorded+this.options.delay>k&&this.stack.undo.length>0){var C=this.stack.undo.pop();I=I.compose(C.undo),A=C.redo.compose(A)}else this.lastRecorded=k;this.stack.undo.push({redo:A,undo:I}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(A){this.stack.undo.forEach(function(S){S.undo=A.transform(S.undo,!0),S.redo=A.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=A.transform(S.undo,!0),S.redo=A.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),g}(c.default);E.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function m(v){var g=v.ops[v.ops.length-1];return g==null?!1:g.insert!=null?typeof g.insert=="string"&&g.insert.endsWith(`
`):g.attributes!=null?Object.keys(g.attributes).some(function(w){return a.default.query(w,a.default.Scope.BLOCK)!=null}):!1}function h(v){var g=v.reduce(function(A,S){return A+=S.delete||0,A},0),w=v.length()-g;return m(v)&&(w-=1),w}r.default=E,r.getLastChangeIndex=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=function(){function L(V,z){for(var j=0;j<z.length;j++){var x=z[j];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(V,x.key,x)}}return function(V,z,j){return z&&L(V.prototype,z),j&&L(V,j),V}}(),o=function L(V,z,j){V===null&&(V=Function.prototype);var x=Object.getOwnPropertyDescriptor(V,z);if(x===void 0){var U=Object.getPrototypeOf(V);return U===null?void 0:L(U,z,j)}else{if("value"in x)return x.value;var H=x.get;return H===void 0?void 0:H.call(j)}},a=i(3),l=k(a),u=i(2),f=k(u),c=i(8),d=k(c),p=i(23),_=k(p),y=i(34),E=k(y),m=i(59),h=k(m),v=i(60),g=k(v),w=i(28),A=k(w),S=i(61),I=k(S);function k(L){return L&&L.__esModule?L:{default:L}}function C(L,V){if(!(L instanceof V))throw new TypeError("Cannot call a class as a function")}function T(L,V){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:L}function b(L,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);L.prototype=Object.create(V&&V.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(L,V):L.__proto__=V)}var R=[!1,"center","right","justify"],O=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],D=[!1,"serif","monospace"],B=["1","2","3",!1],q=["small",!1,"large","huge"],$=function(L){b(V,L);function V(z,j){C(this,V);var x=T(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,z,j)),U=function H(W){if(!document.body.contains(z.root))return document.body.removeEventListener("click",H);x.tooltip!=null&&!x.tooltip.root.contains(W.target)&&document.activeElement!==x.tooltip.textbox&&!x.quill.hasFocus()&&x.tooltip.hide(),x.pickers!=null&&x.pickers.forEach(function(J){J.container.contains(W.target)||J.close()})};return z.emitter.listenDOM("click",document.body,U),x}return s(V,[{key:"addModule",value:function(j){var x=o(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"addModule",this).call(this,j);return j==="toolbar"&&this.extendToolbar(x),x}},{key:"buildButtons",value:function(j,x){j.forEach(function(U){var H=U.getAttribute("class")||"";H.split(/\s+/).forEach(function(W){if(W.startsWith("ql-")&&(W=W.slice(3),x[W]!=null))if(W==="direction")U.innerHTML=x[W][""]+x[W].rtl;else if(typeof x[W]=="string")U.innerHTML=x[W];else{var J=U.value||"";J!=null&&x[W][J]&&(U.innerHTML=x[W][J])}})})}},{key:"buildPickers",value:function(j,x){var U=this;this.pickers=j.map(function(W){if(W.classList.contains("ql-align"))return W.querySelector("option")==null&&N(W,R),new g.default(W,x.align);if(W.classList.contains("ql-background")||W.classList.contains("ql-color")){var J=W.classList.contains("ql-background")?"background":"color";return W.querySelector("option")==null&&N(W,O,J==="background"?"#ffffff":"#000000"),new h.default(W,x[J])}else return W.querySelector("option")==null&&(W.classList.contains("ql-font")?N(W,D):W.classList.contains("ql-header")?N(W,B):W.classList.contains("ql-size")&&N(W,q)),new A.default(W)});var H=function(){U.pickers.forEach(function(J){J.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,H)}}]),V}(E.default);$.DEFAULTS=(0,l.default)(!0,{},E.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var V=this,z=this.container.querySelector("input.ql-image[type=file]");z==null&&(z=document.createElement("input"),z.setAttribute("type","file"),z.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),z.classList.add("ql-image"),z.addEventListener("change",function(){if(z.files!=null&&z.files[0]!=null){var j=new FileReader;j.onload=function(x){var U=V.quill.getSelection(!0);V.quill.updateContents(new f.default().retain(U.index).delete(U.length).insert({image:x.target.result}),d.default.sources.USER),V.quill.setSelection(U.index+1,d.default.sources.SILENT),z.value=""},j.readAsDataURL(z.files[0])}}),this.container.appendChild(z)),z.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var F=function(L){b(V,L);function V(z,j){C(this,V);var x=T(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,z,j));return x.textbox=x.root.querySelector('input[type="text"]'),x.listen(),x}return s(V,[{key:"listen",value:function(){var j=this;this.textbox.addEventListener("keydown",function(x){_.default.match(x,"enter")?(j.save(),x.preventDefault()):_.default.match(x,"escape")&&(j.cancel(),x.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),x!=null?this.textbox.value=x:j!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+j)||""),this.root.setAttribute("data-mode",j)}},{key:"restoreFocus",value:function(){var j=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=j}},{key:"save",value:function(){var j=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var x=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",j,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",j,d.default.sources.USER)),this.quill.root.scrollTop=x;break}case"video":j=P(j);case"formula":{if(!j)break;var U=this.quill.getSelection(!0);if(U!=null){var H=U.index+U.length;this.quill.insertEmbed(H,this.root.getAttribute("data-mode"),j,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(H+1," ",d.default.sources.USER),this.quill.setSelection(H+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),V}(I.default);function P(L){var V=L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return V?(V[1]||"https")+"://www.youtube.com/embed/"+V[2]+"?showinfo=0":(V=L.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(V[1]||"https")+"://player.vimeo.com/video/"+V[2]+"/":L}function N(L,V){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;V.forEach(function(j){var x=document.createElement("option");j===z?x.setAttribute("selected","selected"):x.setAttribute("value",j),L.appendChild(x)})}r.BaseTooltip=F,r.default=$},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},o.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},o.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},o.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},o.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},o.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},o.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,f=this.iterator();u=f();){var c=u.length();if(a<c||l&&a===c&&(u.next==null||u.next.length()!==0))return[u,a];a-=c}return[null,0]},o.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},o.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var f=this.find(a),c=f[0],d=f[1],p,_=a-d,y=this.iterator(c);(p=y())&&_<a+l;){var E=p.length();a>_?u(p,a-_,Math.min(l,_+E-a)):u(p,0,Math.min(E,a+l-_)),_+=E}},o.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},o.prototype.reduce=function(a,l){for(var u,f=this.iterator();u=f();)l=a(l,u);return l},o}();r.default=s},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var _ in p)p.hasOwnProperty(_)&&(d[_]=p[_])};return function(d,p){c(d,p);function _(){this.constructor=d}d.prototype=p===null?Object.create(p):(_.prototype=p.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,f=function(c){s(d,c);function d(p){var _=c.call(this,p)||this;return _.scroll=_,_.observer=new MutationObserver(function(y){_.update(y)}),_.observer.observe(_.domNode,l),_.attach(),_}return d.prototype.detach=function(){c.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(p,_){this.update(),p===0&&_===this.length()?this.children.forEach(function(y){y.remove()}):c.prototype.deleteAt.call(this,p,_)},d.prototype.formatAt=function(p,_,y,E){this.update(),c.prototype.formatAt.call(this,p,_,y,E)},d.prototype.insertAt=function(p,_,y){this.update(),c.prototype.insertAt.call(this,p,_,y)},d.prototype.optimize=function(p,_){var y=this;p===void 0&&(p=[]),_===void 0&&(_={}),c.prototype.optimize.call(this,_);for(var E=[].slice.call(this.observer.takeRecords());E.length>0;)p.push(E.pop());for(var m=function(w,A){A===void 0&&(A=!0),!(w==null||w===y)&&w.domNode.parentNode!=null&&(w.domNode[a.DATA_KEY].mutations==null&&(w.domNode[a.DATA_KEY].mutations=[]),A&&m(w.parent))},h=function(w){w.domNode[a.DATA_KEY]==null||w.domNode[a.DATA_KEY].mutations==null||(w instanceof o.default&&w.children.forEach(h),w.optimize(_))},v=p,g=0;v.length>0;g+=1){if(g>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(v.forEach(function(w){var A=a.find(w.target,!0);A!=null&&(A.domNode===w.target&&(w.type==="childList"?(m(a.find(w.previousSibling,!1)),[].forEach.call(w.addedNodes,function(S){var I=a.find(S,!1);m(I,!1),I instanceof o.default&&I.children.forEach(function(k){m(k,!1)})})):w.type==="attributes"&&m(A.prev)),m(A))}),this.children.forEach(h),v=[].slice.call(this.observer.takeRecords()),E=v.slice();E.length>0;)p.push(E.pop())}},d.prototype.update=function(p,_){var y=this;_===void 0&&(_={}),p=p||this.observer.takeRecords(),p.map(function(E){var m=a.find(E.target,!0);return m==null?null:m.domNode[a.DATA_KEY].mutations==null?(m.domNode[a.DATA_KEY].mutations=[E],m):(m.domNode[a.DATA_KEY].mutations.push(E),null)}).forEach(function(E){E==null||E===y||E.domNode[a.DATA_KEY]==null||E.update(E.domNode[a.DATA_KEY].mutations||[],_)}),this.domNode[a.DATA_KEY].mutations!=null&&c.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,_),this.optimize(p,_)},d.blotName="scroll",d.defaultChild="block",d.scope=a.Scope.BLOCK_BLOT,d.tagName="DIV",d}(o.default);r.default=f},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var p in d)d.hasOwnProperty(p)&&(c[p]=d[p])};return function(c,d){f(c,d);function p(){this.constructor=c}c.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1);function l(f,c){if(Object.keys(f).length!==Object.keys(c).length)return!1;for(var d in f)if(f[d]!==c[d])return!1;return!0}var u=function(f){s(c,f);function c(){return f!==null&&f.apply(this,arguments)||this}return c.formats=function(d){if(d.tagName!==c.tagName)return f.formats.call(this,d)},c.prototype.format=function(d,p){var _=this;d===this.statics.blotName&&!p?(this.children.forEach(function(y){y instanceof o.default||(y=y.wrap(c.blotName,!0)),_.attributes.copy(y)}),this.unwrap()):f.prototype.format.call(this,d,p)},c.prototype.formatAt=function(d,p,_,y){if(this.formats()[_]!=null||a.query(_,a.Scope.ATTRIBUTE)){var E=this.isolate(d,p);E.format(_,y)}else f.prototype.formatAt.call(this,d,p,_,y)},c.prototype.optimize=function(d){f.prototype.optimize.call(this,d);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var _=this.next;_ instanceof c&&_.prev===this&&l(p,_.formats())&&(_.moveChildren(this),_.remove())},c.blotName="inline",c.scope=a.Scope.INLINE_BLOT,c.tagName="SPAN",c}(o.default);r.default=u},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var d in c)c.hasOwnProperty(d)&&(f[d]=c[d])};return function(f,c){u(f,c);function d(){this.constructor=f}f.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1),l=function(u){s(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(c){var d=a.query(f.blotName).tagName;if(c.tagName!==d)return u.formats.call(this,c)},f.prototype.format=function(c,d){a.query(c,a.Scope.BLOCK)!=null&&(c===this.statics.blotName&&!d?this.replaceWith(f.blotName):u.prototype.format.call(this,c,d))},f.prototype.formatAt=function(c,d,p,_){a.query(p,a.Scope.BLOCK)!=null?this.format(p,_):u.prototype.formatAt.call(this,c,d,p,_)},f.prototype.insertAt=function(c,d,p){if(p==null||a.query(d,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,c,d,p);else{var _=this.split(c),y=a.create(d,p);_.parent.insertBefore(y,_)}},f.prototype.update=function(c,d){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,c,d)},f.blotName="block",f.scope=a.Scope.BLOCK_BLOT,f.tagName="P",f}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var c in f)f.hasOwnProperty(c)&&(u[c]=f[c])};return function(u,f){l(u,f);function c(){this.constructor=u}u.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=function(l){s(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(f){},u.prototype.format=function(f,c){l.prototype.formatAt.call(this,0,this.length(),f,c)},u.prototype.formatAt=function(f,c,d,p){f===0&&c===this.length()?this.format(d,p):l.prototype.formatAt.call(this,f,c,d,p)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);r.default=a},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var d in c)c.hasOwnProperty(d)&&(f[d]=c[d])};return function(f,c){u(f,c);function d(){this.constructor=f}f.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=i(1),l=function(u){s(f,u);function f(c){var d=u.call(this,c)||this;return d.text=d.statics.value(d.domNode),d}return f.create=function(c){return document.createTextNode(c)},f.value=function(c){var d=c.data;return d.normalize&&(d=d.normalize()),d},f.prototype.deleteAt=function(c,d){this.domNode.data=this.text=this.text.slice(0,c)+this.text.slice(c+d)},f.prototype.index=function(c,d){return this.domNode===c?d:-1},f.prototype.insertAt=function(c,d,p){p==null?(this.text=this.text.slice(0,c)+d+this.text.slice(c),this.domNode.data=this.text):u.prototype.insertAt.call(this,c,d,p)},f.prototype.length=function(){return this.text.length},f.prototype.optimize=function(c){u.prototype.optimize.call(this,c),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof f&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},f.prototype.position=function(c,d){return[this.domNode,c]},f.prototype.split=function(c,d){if(d===void 0&&(d=!1),!d){if(c===0)return this;if(c===this.length())return this.next}var p=a.create(this.domNode.splitText(c));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},f.prototype.update=function(c,d){var p=this;c.some(function(_){return _.type==="characterData"&&_.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},f.prototype.value=function(){return this.text},f.blotName="text",f.scope=a.Scope.INLINE_BLOT,f}(o.default);r.default=l},function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:o.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var f=u.indexOf(a,l);return f!==-1&&f===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),f=u.length>>>0,c=arguments[1],d,p=0;p<f;p++)if(d=u[p],l.call(c,d,p,u))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,s=1,o=0;function a(g,w,A){if(g==w)return g?[[o,g]]:[];(A<0||g.length<A)&&(A=null);var S=c(g,w),I=g.substring(0,S);g=g.substring(S),w=w.substring(S),S=d(g,w);var k=g.substring(g.length-S);g=g.substring(0,g.length-S),w=w.substring(0,w.length-S);var C=l(g,w);return I&&C.unshift([o,I]),k&&C.push([o,k]),_(C),A!=null&&(C=m(C,A)),C=h(C),C}function l(g,w){var A;if(!g)return[[s,w]];if(!w)return[[i,g]];var S=g.length>w.length?g:w,I=g.length>w.length?w:g,k=S.indexOf(I);if(k!=-1)return A=[[s,S.substring(0,k)],[o,I],[s,S.substring(k+I.length)]],g.length>w.length&&(A[0][0]=A[2][0]=i),A;if(I.length==1)return[[i,g],[s,w]];var C=p(g,w);if(C){var T=C[0],b=C[1],R=C[2],O=C[3],D=C[4],B=a(T,R),q=a(b,O);return B.concat([[o,D]],q)}return u(g,w)}function u(g,w){for(var A=g.length,S=w.length,I=Math.ceil((A+S)/2),k=I,C=2*I,T=new Array(C),b=new Array(C),R=0;R<C;R++)T[R]=-1,b[R]=-1;T[k+1]=0,b[k+1]=0;for(var O=A-S,D=O%2!=0,B=0,q=0,$=0,F=0,P=0;P<I;P++){for(var N=-P+B;N<=P-q;N+=2){var L=k+N,V;N==-P||N!=P&&T[L-1]<T[L+1]?V=T[L+1]:V=T[L-1]+1;for(var z=V-N;V<A&&z<S&&g.charAt(V)==w.charAt(z);)V++,z++;if(T[L]=V,V>A)q+=2;else if(z>S)B+=2;else if(D){var j=k+O-N;if(j>=0&&j<C&&b[j]!=-1){var x=A-b[j];if(V>=x)return f(g,w,V,z)}}}for(var U=-P+$;U<=P-F;U+=2){var j=k+U,x;U==-P||U!=P&&b[j-1]<b[j+1]?x=b[j+1]:x=b[j-1]+1;for(var H=x-U;x<A&&H<S&&g.charAt(A-x-1)==w.charAt(S-H-1);)x++,H++;if(b[j]=x,x>A)F+=2;else if(H>S)$+=2;else if(!D){var L=k+O-U;if(L>=0&&L<C&&T[L]!=-1){var V=T[L],z=k+V-L;if(x=A-x,V>=x)return f(g,w,V,z)}}}}return[[i,g],[s,w]]}function f(g,w,A,S){var I=g.substring(0,A),k=w.substring(0,S),C=g.substring(A),T=w.substring(S),b=a(I,k),R=a(C,T);return b.concat(R)}function c(g,w){if(!g||!w||g.charAt(0)!=w.charAt(0))return 0;for(var A=0,S=Math.min(g.length,w.length),I=S,k=0;A<I;)g.substring(k,I)==w.substring(k,I)?(A=I,k=A):S=I,I=Math.floor((S-A)/2+A);return I}function d(g,w){if(!g||!w||g.charAt(g.length-1)!=w.charAt(w.length-1))return 0;for(var A=0,S=Math.min(g.length,w.length),I=S,k=0;A<I;)g.substring(g.length-I,g.length-k)==w.substring(w.length-I,w.length-k)?(A=I,k=A):S=I,I=Math.floor((S-A)/2+A);return I}function p(g,w){var A=g.length>w.length?g:w,S=g.length>w.length?w:g;if(A.length<4||S.length*2<A.length)return null;function I(q,$,F){for(var P=q.substring(F,F+Math.floor(q.length/4)),N=-1,L="",V,z,j,x;(N=$.indexOf(P,N+1))!=-1;){var U=c(q.substring(F),$.substring(N)),H=d(q.substring(0,F),$.substring(0,N));L.length<H+U&&(L=$.substring(N-H,N)+$.substring(N,N+U),V=q.substring(0,F-H),z=q.substring(F+U),j=$.substring(0,N-H),x=$.substring(N+U))}return L.length*2>=q.length?[V,z,j,x,L]:null}var k=I(A,S,Math.ceil(A.length/4)),C=I(A,S,Math.ceil(A.length/2)),T;if(!k&&!C)return null;C?k?T=k[4].length>C[4].length?k:C:T=C:T=k;var b,R,O,D;g.length>w.length?(b=T[0],R=T[1],O=T[2],D=T[3]):(O=T[0],D=T[1],b=T[2],R=T[3]);var B=T[4];return[b,R,O,D,B]}function _(g){g.push([o,""]);for(var w=0,A=0,S=0,I="",k="",C;w<g.length;)switch(g[w][0]){case s:S++,k+=g[w][1],w++;break;case i:A++,I+=g[w][1],w++;break;case o:A+S>1?(A!==0&&S!==0&&(C=c(k,I),C!==0&&(w-A-S>0&&g[w-A-S-1][0]==o?g[w-A-S-1][1]+=k.substring(0,C):(g.splice(0,0,[o,k.substring(0,C)]),w++),k=k.substring(C),I=I.substring(C)),C=d(k,I),C!==0&&(g[w][1]=k.substring(k.length-C)+g[w][1],k=k.substring(0,k.length-C),I=I.substring(0,I.length-C))),A===0?g.splice(w-S,A+S,[s,k]):S===0?g.splice(w-A,A+S,[i,I]):g.splice(w-A-S,A+S,[i,I],[s,k]),w=w-A-S+(A?1:0)+(S?1:0)+1):w!==0&&g[w-1][0]==o?(g[w-1][1]+=g[w][1],g.splice(w,1)):w++,S=0,A=0,I="",k="";break}g[g.length-1][1]===""&&g.pop();var T=!1;for(w=1;w<g.length-1;)g[w-1][0]==o&&g[w+1][0]==o&&(g[w][1].substring(g[w][1].length-g[w-1][1].length)==g[w-1][1]?(g[w][1]=g[w-1][1]+g[w][1].substring(0,g[w][1].length-g[w-1][1].length),g[w+1][1]=g[w-1][1]+g[w+1][1],g.splice(w-1,1),T=!0):g[w][1].substring(0,g[w+1][1].length)==g[w+1][1]&&(g[w-1][1]+=g[w+1][1],g[w][1]=g[w][1].substring(g[w+1][1].length)+g[w+1][1],g.splice(w+1,1),T=!0)),w++;T&&_(g)}var y=a;y.INSERT=s,y.DELETE=i,y.EQUAL=o,n.exports=y;function E(g,w){if(w===0)return[o,g];for(var A=0,S=0;S<g.length;S++){var I=g[S];if(I[0]===i||I[0]===o){var k=A+I[1].length;if(w===k)return[S+1,g];if(w<k){g=g.slice();var C=w-A,T=[I[0],I[1].slice(0,C)],b=[I[0],I[1].slice(C)];return g.splice(S,1,T,b),[S+1,g]}else A=k}}throw new Error("cursor_pos is out of bounds!")}function m(g,w){var A=E(g,w),S=A[1],I=A[0],k=S[I],C=S[I+1];if(k==null)return g;if(k[0]!==o)return g;if(C!=null&&k[1]+C[1]===C[1]+k[1])return S.splice(I,2,C,k),v(S,I,2);if(C!=null&&C[1].indexOf(k[1])===0){S.splice(I,2,[C[0],k[1]],[0,k[1]]);var T=C[1].slice(k[1].length);return T.length>0&&S.splice(I+2,0,[C[0],T]),v(S,I,3)}else return g}function h(g){for(var w=!1,A=function(C){return C.charCodeAt(0)>=56320&&C.charCodeAt(0)<=57343},S=function(C){return C.charCodeAt(C.length-1)>=55296&&C.charCodeAt(C.length-1)<=56319},I=2;I<g.length;I+=1)g[I-2][0]===o&&S(g[I-2][1])&&g[I-1][0]===i&&A(g[I-1][1])&&g[I][0]===s&&A(g[I][1])&&(w=!0,g[I-1][1]=g[I-2][1].slice(-1)+g[I-1][1],g[I][1]=g[I-2][1].slice(-1)+g[I][1],g[I-2][1]=g[I-2][1].slice(0,-1));if(!w)return g;for(var k=[],I=0;I<g.length;I+=1)g[I][1].length>0&&k.push(g[I]);return k}function v(g,w,A){for(var S=w+A-1;S>=0&&S>=w-1;S--)if(S+1<g.length){var I=g[S],k=g[S+1];I[0]===k[1]&&g.splice(S,2,[I[0],I[1]+k[1]])}return g}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var o=[];for(var a in s)o.push(a);return o}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?s:o,r.supported=s;function s(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=o;function o(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function a(u,f,c){this.fn=u,this.context=f,this.once=c||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],c,d;if(this._eventsCount===0)return f;for(d in c=this._events)i.call(c,d)&&f.push(s?d.slice(1):d);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(c)):f},l.prototype.listeners=function(f,c){var d=s?s+f:f,p=this._events[d];if(c)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var _=0,y=p.length,E=new Array(y);_<y;_++)E[_]=p[_].fn;return E},l.prototype.emit=function(f,c,d,p,_,y){var E=s?s+f:f;if(!this._events[E])return!1;var m=this._events[E],h=arguments.length,v,g;if(m.fn){switch(m.once&&this.removeListener(f,m.fn,void 0,!0),h){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,c),!0;case 3:return m.fn.call(m.context,c,d),!0;case 4:return m.fn.call(m.context,c,d,p),!0;case 5:return m.fn.call(m.context,c,d,p,_),!0;case 6:return m.fn.call(m.context,c,d,p,_,y),!0}for(g=1,v=new Array(h-1);g<h;g++)v[g-1]=arguments[g];m.fn.apply(m.context,v)}else{var w=m.length,A;for(g=0;g<w;g++)switch(m[g].once&&this.removeListener(f,m[g].fn,void 0,!0),h){case 1:m[g].fn.call(m[g].context);break;case 2:m[g].fn.call(m[g].context,c);break;case 3:m[g].fn.call(m[g].context,c,d);break;case 4:m[g].fn.call(m[g].context,c,d,p);break;default:if(!v)for(A=1,v=new Array(h-1);A<h;A++)v[A-1]=arguments[A];m[g].fn.apply(m[g].context,v)}}return!0},l.prototype.on=function(f,c,d){var p=new a(c,d||this),_=s?s+f:f;return this._events[_]?this._events[_].fn?this._events[_]=[this._events[_],p]:this._events[_].push(p):(this._events[_]=p,this._eventsCount++),this},l.prototype.once=function(f,c,d){var p=new a(c,d||this,!0),_=s?s+f:f;return this._events[_]?this._events[_].fn?this._events[_]=[this._events[_],p]:this._events[_].push(p):(this._events[_]=p,this._eventsCount++),this},l.prototype.removeListener=function(f,c,d,p){var _=s?s+f:f;if(!this._events[_])return this;if(!c)return--this._eventsCount===0?this._events=new o:delete this._events[_],this;var y=this._events[_];if(y.fn)y.fn===c&&(!p||y.once)&&(!d||y.context===d)&&(--this._eventsCount===0?this._events=new o:delete this._events[_]);else{for(var E=0,m=[],h=y.length;E<h;E++)(y[E].fn!==c||p&&!y[E].once||d&&y[E].context!==d)&&m.push(y[E]);m.length?this._events[_]=m.length===1?m[0]:m:--this._eventsCount===0?this._events=new o:delete this._events[_]}return this},l.prototype.removeAllListeners=function(f){var c;return f?(c=s?s+f:f,this._events[c]&&(--this._eventsCount===0?this._events=new o:delete this._events[c])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},o=function(){function K(Q,ie){var se=[],Z=!0,_e=!1,Ee=void 0;try{for(var Te=Q[Symbol.iterator](),bn;!(Z=(bn=Te.next()).done)&&(se.push(bn.value),!(ie&&se.length===ie));Z=!0);}catch(_r){_e=!0,Ee=_r}finally{try{!Z&&Te.return&&Te.return()}finally{if(_e)throw Ee}}return se}return function(Q,ie){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return K(Q,ie);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function K(Q,ie){for(var se=0;se<ie.length;se++){var Z=ie[se];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(Q,Z.key,Z)}}return function(Q,ie,se){return ie&&K(Q.prototype,ie),se&&K(Q,se),Q}}(),l=i(3),u=b(l),f=i(2),c=b(f),d=i(0),p=b(d),_=i(5),y=b(_),E=i(10),m=b(E),h=i(9),v=b(h),g=i(36),w=i(37),A=i(13),S=b(A),I=i(26),k=i(38),C=i(39),T=i(40);function b(K){return K&&K.__esModule?K:{default:K}}function R(K,Q,ie){return Q in K?Object.defineProperty(K,Q,{value:ie,enumerable:!0,configurable:!0,writable:!0}):K[Q]=ie,K}function O(K,Q){if(!(K instanceof Q))throw new TypeError("Cannot call a class as a function")}function D(K,Q){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q&&(typeof Q=="object"||typeof Q=="function")?Q:K}function B(K,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Q);K.prototype=Object.create(Q&&Q.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf(K,Q):K.__proto__=Q)}var q=(0,m.default)("quill:clipboard"),$="__ql-matcher",F=[[Node.TEXT_NODE,yt],[Node.TEXT_NODE,Ie],["br",le],[Node.ELEMENT_NODE,Ie],[Node.ELEMENT_NODE,J],[Node.ELEMENT_NODE,Me],[Node.ELEMENT_NODE,W],[Node.ELEMENT_NODE,sn],["li",ve],["b",H.bind(H,"bold")],["i",H.bind(H,"italic")],["style",pe]],P=[g.AlignAttribute,k.DirectionAttribute].reduce(function(K,Q){return K[Q.keyName]=Q,K},{}),N=[g.AlignStyle,w.BackgroundStyle,I.ColorStyle,k.DirectionStyle,C.FontStyle,T.SizeStyle].reduce(function(K,Q){return K[Q.keyName]=Q,K},{}),L=function(K){B(Q,K);function Q(ie,se){O(this,Q);var Z=D(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,ie,se));return Z.quill.root.addEventListener("paste",Z.onPaste.bind(Z)),Z.container=Z.quill.addContainer("ql-clipboard"),Z.container.setAttribute("contenteditable",!0),Z.container.setAttribute("tabindex",-1),Z.matchers=[],F.concat(Z.options.matchers).forEach(function(_e){var Ee=o(_e,2),Te=Ee[0],bn=Ee[1];!se.matchVisual&&bn===Me||Z.addMatcher(Te,bn)}),Z}return a(Q,[{key:"addMatcher",value:function(se,Z){this.matchers.push([se,Z])}},{key:"convert",value:function(se){if(typeof se=="string")return this.container.innerHTML=se.replace(/\>\r?\n +\</g,"><"),this.convert();var Z=this.quill.getFormat(this.quill.selection.savedRange.index);if(Z[S.default.blotName]){var _e=this.container.innerText;return this.container.innerHTML="",new c.default().insert(_e,R({},S.default.blotName,Z[S.default.blotName]))}var Ee=this.prepareMatching(),Te=o(Ee,2),bn=Te[0],_r=Te[1],Xe=U(this.container,bn,_r);return j(Xe,`
`)&&Xe.ops[Xe.ops.length-1].attributes==null&&(Xe=Xe.compose(new c.default().retain(Xe.length()-1).delete(1))),q.log("convert",this.container.innerHTML,Xe),this.container.innerHTML="",Xe}},{key:"dangerouslyPasteHTML",value:function(se,Z){var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof se=="string")this.quill.setContents(this.convert(se),Z),this.quill.setSelection(0,y.default.sources.SILENT);else{var Ee=this.convert(Z);this.quill.updateContents(new c.default().retain(se).concat(Ee),_e),this.quill.setSelection(se+Ee.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(se){var Z=this;if(!(se.defaultPrevented||!this.quill.isEnabled())){var _e=this.quill.getSelection(),Ee=new c.default().retain(_e.index),Te=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){Ee=Ee.concat(Z.convert()).delete(_e.length),Z.quill.updateContents(Ee,y.default.sources.USER),Z.quill.setSelection(Ee.length()-_e.length,y.default.sources.SILENT),Z.quill.scrollingContainer.scrollTop=Te,Z.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var se=this,Z=[],_e=[];return this.matchers.forEach(function(Ee){var Te=o(Ee,2),bn=Te[0],_r=Te[1];switch(bn){case Node.TEXT_NODE:_e.push(_r);break;case Node.ELEMENT_NODE:Z.push(_r);break;default:[].forEach.call(se.container.querySelectorAll(bn),function(Xe){Xe[$]=Xe[$]||[],Xe[$].push(_r)});break}}),[Z,_e]}}]),Q}(v.default);L.DEFAULTS={matchers:[],matchVisual:!0};function V(K,Q,ie){return(typeof Q>"u"?"undefined":s(Q))==="object"?Object.keys(Q).reduce(function(se,Z){return V(se,Z,Q[Z])},K):K.reduce(function(se,Z){return Z.attributes&&Z.attributes[Q]?se.push(Z):se.insert(Z.insert,(0,u.default)({},R({},Q,ie),Z.attributes))},new c.default)}function z(K){if(K.nodeType!==Node.ELEMENT_NODE)return{};var Q="__ql-computed-style";return K[Q]||(K[Q]=window.getComputedStyle(K))}function j(K,Q){for(var ie="",se=K.ops.length-1;se>=0&&ie.length<Q.length;--se){var Z=K.ops[se];if(typeof Z.insert!="string")break;ie=Z.insert+ie}return ie.slice(-1*Q.length)===Q}function x(K){if(K.childNodes.length===0)return!1;var Q=z(K);return["block","list-item"].indexOf(Q.display)>-1}function U(K,Q,ie){return K.nodeType===K.TEXT_NODE?ie.reduce(function(se,Z){return Z(K,se)},new c.default):K.nodeType===K.ELEMENT_NODE?[].reduce.call(K.childNodes||[],function(se,Z){var _e=U(Z,Q,ie);return Z.nodeType===K.ELEMENT_NODE&&(_e=Q.reduce(function(Ee,Te){return Te(Z,Ee)},_e),_e=(Z[$]||[]).reduce(function(Ee,Te){return Te(Z,Ee)},_e)),se.concat(_e)},new c.default):new c.default}function H(K,Q,ie){return V(ie,K,!0)}function W(K,Q){var ie=p.default.Attributor.Attribute.keys(K),se=p.default.Attributor.Class.keys(K),Z=p.default.Attributor.Style.keys(K),_e={};return ie.concat(se).concat(Z).forEach(function(Ee){var Te=p.default.query(Ee,p.default.Scope.ATTRIBUTE);Te!=null&&(_e[Te.attrName]=Te.value(K),_e[Te.attrName])||(Te=P[Ee],Te!=null&&(Te.attrName===Ee||Te.keyName===Ee)&&(_e[Te.attrName]=Te.value(K)||void 0),Te=N[Ee],Te!=null&&(Te.attrName===Ee||Te.keyName===Ee)&&(Te=N[Ee],_e[Te.attrName]=Te.value(K)||void 0))}),Object.keys(_e).length>0&&(Q=V(Q,_e)),Q}function J(K,Q){var ie=p.default.query(K);if(ie==null)return Q;if(ie.prototype instanceof p.default.Embed){var se={},Z=ie.value(K);Z!=null&&(se[ie.blotName]=Z,Q=new c.default().insert(se,ie.formats(K)))}else typeof ie.formats=="function"&&(Q=V(Q,ie.blotName,ie.formats(K)));return Q}function le(K,Q){return j(Q,`
`)||Q.insert(`
`),Q}function pe(){return new c.default}function ve(K,Q){var ie=p.default.query(K);if(ie==null||ie.blotName!=="list-item"||!j(Q,`
`))return Q;for(var se=-1,Z=K.parentNode;!Z.classList.contains("ql-clipboard");)(p.default.query(Z)||{}).blotName==="list"&&(se+=1),Z=Z.parentNode;return se<=0?Q:Q.compose(new c.default().retain(Q.length()-1).retain(1,{indent:se}))}function Ie(K,Q){return j(Q,`
`)||(x(K)||Q.length()>0&&K.nextSibling&&x(K.nextSibling))&&Q.insert(`
`),Q}function Me(K,Q){if(x(K)&&K.nextElementSibling!=null&&!j(Q,`

`)){var ie=K.offsetHeight+parseFloat(z(K).marginTop)+parseFloat(z(K).marginBottom);K.nextElementSibling.offsetTop>K.offsetTop+ie*1.5&&Q.insert(`
`)}return Q}function sn(K,Q){var ie={},se=K.style||{};return se.fontStyle&&z(K).fontStyle==="italic"&&(ie.italic=!0),se.fontWeight&&(z(K).fontWeight.startsWith("bold")||parseInt(z(K).fontWeight)>=700)&&(ie.bold=!0),Object.keys(ie).length>0&&(Q=V(Q,ie)),parseFloat(se.textIndent||0)>0&&(Q=new c.default().insert("	").concat(Q)),Q}function yt(K,Q){var ie=K.data;if(K.parentNode.tagName==="O:P")return Q.insert(ie.trim());if(ie.trim().length===0&&K.parentNode.classList.contains("ql-clipboard"))return Q;if(!z(K.parentNode).whiteSpace.startsWith("pre")){var se=function(_e,Ee){return Ee=Ee.replace(/[^\u00a0]/g,""),Ee.length<1&&_e?" ":Ee};ie=ie.replace(/\r\n/g," ").replace(/\n/g," "),ie=ie.replace(/\s\s+/g,se.bind(se,!0)),(K.previousSibling==null&&x(K.parentNode)||K.previousSibling!=null&&x(K.previousSibling))&&(ie=ie.replace(/^\s+/,se.bind(se,!1))),(K.nextSibling==null&&x(K.parentNode)||K.nextSibling!=null&&x(K.nextSibling))&&(ie=ie.replace(/\s+$/,se.bind(se,!1)))}return Q.insert(ie)}r.default=L,r.matchAttributor=W,r.matchBlot=J,r.matchNewline=Ie,r.matchSpacing=Me,r.matchText=yt},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function _(y,E){for(var m=0;m<E.length;m++){var h=E[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(y,h.key,h)}}return function(y,E,m){return E&&_(y.prototype,E),m&&_(y,m),y}}(),o=function _(y,E,m){y===null&&(y=Function.prototype);var h=Object.getOwnPropertyDescriptor(y,E);if(h===void 0){var v=Object.getPrototypeOf(y);return v===null?void 0:_(v,E,m)}else{if("value"in h)return h.value;var g=h.get;return g===void 0?void 0:g.call(m)}},a=i(6),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function f(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function c(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function d(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var p=function(_){d(y,_);function y(){return f(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"optimize",value:function(m){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,m),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(l.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=function(){function T(b,R){var O=[],D=!0,B=!1,q=void 0;try{for(var $=b[Symbol.iterator](),F;!(D=(F=$.next()).done)&&(O.push(F.value),!(R&&O.length===R));D=!0);}catch(P){B=!0,q=P}finally{try{!D&&$.return&&$.return()}finally{if(B)throw q}}return O}return function(b,R){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return T(b,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function T(b,R){for(var O=0;O<R.length;O++){var D=R[O];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(b,D.key,D)}}return function(b,R,O){return R&&T(b.prototype,R),O&&T(b,O),b}}(),a=i(2),l=m(a),u=i(0),f=m(u),c=i(5),d=m(c),p=i(10),_=m(p),y=i(9),E=m(y);function m(T){return T&&T.__esModule?T:{default:T}}function h(T,b,R){return b in T?Object.defineProperty(T,b,{value:R,enumerable:!0,configurable:!0,writable:!0}):T[b]=R,T}function v(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}function g(T,b){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:T}function w(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(T,b):T.__proto__=b)}var A=(0,_.default)("quill:toolbar"),S=function(T){w(b,T);function b(R,O){v(this,b);var D=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,R,O));if(Array.isArray(D.options.container)){var B=document.createElement("div");k(B,D.options.container),R.container.parentNode.insertBefore(B,R.container),D.container=B}else typeof D.options.container=="string"?D.container=document.querySelector(D.options.container):D.container=D.options.container;if(!(D.container instanceof HTMLElement)){var q;return q=A.error("Container required for toolbar",D.options),g(D,q)}return D.container.classList.add("ql-toolbar"),D.controls=[],D.handlers={},Object.keys(D.options.handlers).forEach(function($){D.addHandler($,D.options.handlers[$])}),[].forEach.call(D.container.querySelectorAll("button, select"),function($){D.attach($)}),D.quill.on(d.default.events.EDITOR_CHANGE,function($,F){$===d.default.events.SELECTION_CHANGE&&D.update(F)}),D.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var $=D.quill.selection.getRange(),F=s($,1),P=F[0];D.update(P)}),D}return o(b,[{key:"addHandler",value:function(O,D){this.handlers[O]=D}},{key:"attach",value:function(O){var D=this,B=[].find.call(O.classList,function($){return $.indexOf("ql-")===0});if(B){if(B=B.slice(3),O.tagName==="BUTTON"&&O.setAttribute("type","button"),this.handlers[B]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[B]==null){A.warn("ignoring attaching to disabled format",B,O);return}if(f.default.query(B)==null){A.warn("ignoring attaching to nonexistent format",B,O);return}}var q=O.tagName==="SELECT"?"change":"click";O.addEventListener(q,function($){var F=void 0;if(O.tagName==="SELECT"){if(O.selectedIndex<0)return;var P=O.options[O.selectedIndex];P.hasAttribute("selected")?F=!1:F=P.value||!1}else O.classList.contains("ql-active")?F=!1:F=O.value||!O.hasAttribute("value"),$.preventDefault();D.quill.focus();var N=D.quill.selection.getRange(),L=s(N,1),V=L[0];if(D.handlers[B]!=null)D.handlers[B].call(D,F);else if(f.default.query(B).prototype instanceof f.default.Embed){if(F=prompt("Enter "+B),!F)return;D.quill.updateContents(new l.default().retain(V.index).delete(V.length).insert(h({},B,F)),d.default.sources.USER)}else D.quill.format(B,F,d.default.sources.USER);D.update(V)}),this.controls.push([B,O])}}},{key:"update",value:function(O){var D=O==null?{}:this.quill.getFormat(O);this.controls.forEach(function(B){var q=s(B,2),$=q[0],F=q[1];if(F.tagName==="SELECT"){var P=void 0;if(O==null)P=null;else if(D[$]==null)P=F.querySelector("option[selected]");else if(!Array.isArray(D[$])){var N=D[$];typeof N=="string"&&(N=N.replace(/\"/g,'\\"')),P=F.querySelector('option[value="'+N+'"]')}P==null?(F.value="",F.selectedIndex=-1):P.selected=!0}else if(O==null)F.classList.remove("ql-active");else if(F.hasAttribute("value")){var L=D[$]===F.getAttribute("value")||D[$]!=null&&D[$].toString()===F.getAttribute("value")||D[$]==null&&!F.getAttribute("value");F.classList.toggle("ql-active",L)}else F.classList.toggle("ql-active",D[$]!=null)})}}]),b}(E.default);S.DEFAULTS={};function I(T,b,R){var O=document.createElement("button");O.setAttribute("type","button"),O.classList.add("ql-"+b),R!=null&&(O.value=R),T.appendChild(O)}function k(T,b){Array.isArray(b[0])||(b=[b]),b.forEach(function(R){var O=document.createElement("span");O.classList.add("ql-formats"),R.forEach(function(D){if(typeof D=="string")I(O,D);else{var B=Object.keys(D)[0],q=D[B];Array.isArray(q)?C(O,B,q):I(O,B,q)}}),T.appendChild(O)})}function C(T,b,R){var O=document.createElement("select");O.classList.add("ql-"+b),R.forEach(function(D){var B=document.createElement("option");D!==!1?B.setAttribute("value",D):B.setAttribute("selected","selected"),O.appendChild(B)}),T.appendChild(O)}S.DEFAULTS={container:null,handlers:{clean:function(){var b=this,R=this.quill.getSelection();if(R!=null)if(R.length==0){var O=this.quill.getFormat();Object.keys(O).forEach(function(D){f.default.query(D,f.default.Scope.INLINE)!=null&&b.quill.format(D,!1)})}else this.quill.removeFormat(R,d.default.sources.USER)},direction:function(b){var R=this.quill.getFormat().align;b==="rtl"&&R==null?this.quill.format("align","right",d.default.sources.USER):!b&&R==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",b,d.default.sources.USER)},indent:function(b){var R=this.quill.getSelection(),O=this.quill.getFormat(R),D=parseInt(O.indent||0);if(b==="+1"||b==="-1"){var B=b==="+1"?1:-1;O.direction==="rtl"&&(B*=-1),this.quill.format("indent",D+B,d.default.sources.USER)}},link:function(b){b===!0&&(b=prompt("Enter link URL:")),this.quill.format("link",b,d.default.sources.USER)},list:function(b){var R=this.quill.getSelection(),O=this.quill.getFormat(R);b==="check"?O.list==="checked"||O.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",b,d.default.sources.USER)}}},r.default=S,r.addControls=k},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function _(y,E){for(var m=0;m<E.length;m++){var h=E[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(y,h.key,h)}}return function(y,E,m){return E&&_(y.prototype,E),m&&_(y,m),y}}(),o=function _(y,E,m){y===null&&(y=Function.prototype);var h=Object.getOwnPropertyDescriptor(y,E);if(h===void 0){var v=Object.getPrototypeOf(y);return v===null?void 0:_(v,E,m)}else{if("value"in h)return h.value;var g=h.get;return g===void 0?void 0:g.call(m)}},a=i(28),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function f(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function c(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function d(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var p=function(_){d(y,_);function y(E,m){f(this,y);var h=c(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,E));return h.label.innerHTML=m,h.container.classList.add("ql-color-picker"),[].slice.call(h.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(v){v.classList.add("ql-primary")}),h}return s(y,[{key:"buildItem",value:function(m){var h=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,m);return h.style.backgroundColor=m.getAttribute("value")||"",h}},{key:"selectItem",value:function(m,h){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,m,h);var v=this.label.querySelector(".ql-color-label"),g=m&&m.getAttribute("data-value")||"";v&&(v.tagName==="line"?v.style.stroke=g:v.style.fill=g)}}]),y}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function _(y,E){for(var m=0;m<E.length;m++){var h=E[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(y,h.key,h)}}return function(y,E,m){return E&&_(y.prototype,E),m&&_(y,m),y}}(),o=function _(y,E,m){y===null&&(y=Function.prototype);var h=Object.getOwnPropertyDescriptor(y,E);if(h===void 0){var v=Object.getPrototypeOf(y);return v===null?void 0:_(v,E,m)}else{if("value"in h)return h.value;var g=h.get;return g===void 0?void 0:g.call(m)}},a=i(28),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function f(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function c(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function d(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var p=function(_){d(y,_);function y(E,m){f(this,y);var h=c(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,E));return h.container.classList.add("ql-icon-picker"),[].forEach.call(h.container.querySelectorAll(".ql-picker-item"),function(v){v.innerHTML=m[v.getAttribute("data-value")||""]}),h.defaultItem=h.container.querySelector(".ql-selected"),h.selectItem(h.defaultItem),h}return s(y,[{key:"selectItem",value:function(m,h){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,m,h),m=m||this.defaultItem,this.label.innerHTML=m.innerHTML}}]),y}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(u,f){for(var c=0;c<f.length;c++){var d=f[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,f,c){return f&&l(u.prototype,f),c&&l(u,c),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,f){var c=this;o(this,l),this.quill=u,this.boundsContainer=f||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){c.root.style.marginTop=-1*c.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var c=f.left+f.width/2-this.root.offsetWidth/2,d=f.bottom+this.quill.root.scrollTop;this.root.style.left=c+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),_=this.root.getBoundingClientRect(),y=0;if(_.right>p.right&&(y=p.right-_.right,this.root.style.left=c+y+"px"),_.left<p.left&&(y=p.left-_.left,this.root.style.left=c+y+"px"),_.bottom>p.bottom){var E=_.bottom-_.top,m=f.bottom-f.top+E;this.root.style.top=d-m+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function C(T,b){var R=[],O=!0,D=!1,B=void 0;try{for(var q=T[Symbol.iterator](),$;!(O=($=q.next()).done)&&(R.push($.value),!(b&&R.length===b));O=!0);}catch(F){D=!0,B=F}finally{try{!O&&q.return&&q.return()}finally{if(D)throw B}}return R}return function(T,b){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return C(T,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function C(T,b,R){T===null&&(T=Function.prototype);var O=Object.getOwnPropertyDescriptor(T,b);if(O===void 0){var D=Object.getPrototypeOf(T);return D===null?void 0:C(D,b,R)}else{if("value"in O)return O.value;var B=O.get;return B===void 0?void 0:B.call(R)}},a=function(){function C(T,b){for(var R=0;R<b.length;R++){var O=b[R];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(T,O.key,O)}}return function(T,b,R){return b&&C(T.prototype,b),R&&C(T,R),T}}(),l=i(3),u=v(l),f=i(8),c=v(f),d=i(43),p=v(d),_=i(27),y=v(_),E=i(15),m=i(41),h=v(m);function v(C){return C&&C.__esModule?C:{default:C}}function g(C,T){if(!(C instanceof T))throw new TypeError("Cannot call a class as a function")}function w(C,T){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:C}function A(C,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);C.prototype=Object.create(T&&T.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(C,T):C.__proto__=T)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],I=function(C){A(T,C);function T(b,R){g(this,T),R.modules.toolbar!=null&&R.modules.toolbar.container==null&&(R.modules.toolbar.container=S);var O=w(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,b,R));return O.quill.container.classList.add("ql-snow"),O}return a(T,[{key:"extendToolbar",value:function(R){R.container.classList.add("ql-snow"),this.buildButtons([].slice.call(R.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(R.container.querySelectorAll("select")),h.default),this.tooltip=new k(this.quill,this.options.bounds),R.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(O,D){R.handlers.link.call(R,!D.format.link)})}}]),T}(p.default);I.DEFAULTS=(0,u.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){if(T){var b=this.quill.getSelection();if(b==null||b.length==0)return;var R=this.quill.getText(b);/^\S+@\S+\.\S+$/.test(R)&&R.indexOf("mailto:")!==0&&(R="mailto:"+R);var O=this.quill.theme.tooltip;O.edit("link",R)}else this.quill.format("link",!1)}}}}});var k=function(C){A(T,C);function T(b,R){g(this,T);var O=w(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,b,R));return O.preview=O.root.querySelector("a.ql-preview"),O}return a(T,[{key:"listen",value:function(){var R=this;o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(O){R.root.classList.contains("ql-editing")?R.save():R.edit("link",R.preview.textContent),O.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(O){if(R.linkRange!=null){var D=R.linkRange;R.restoreFocus(),R.quill.formatText(D,"link",!1,c.default.sources.USER),delete R.linkRange}O.preventDefault(),R.hide()}),this.quill.on(c.default.events.SELECTION_CHANGE,function(O,D,B){if(O!=null){if(O.length===0&&B===c.default.sources.USER){var q=R.quill.scroll.descendant(y.default,O.index),$=s(q,2),F=$[0],P=$[1];if(F!=null){R.linkRange=new E.Range(O.index-P,F.length());var N=y.default.formats(F.domNode);R.preview.textContent=N,R.preview.setAttribute("href",N),R.show(),R.position(R.quill.getBounds(R.linkRange));return}}else delete R.linkRange;R.hide()}})}},{key:"show",value:function(){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),T}(d.BaseTooltip);k.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),o=Z(s),a=i(36),l=i(38),u=i(64),f=i(65),c=Z(f),d=i(66),p=Z(d),_=i(67),y=Z(_),E=i(37),m=i(26),h=i(39),v=i(40),g=i(56),w=Z(g),A=i(68),S=Z(A),I=i(27),k=Z(I),C=i(69),T=Z(C),b=i(70),R=Z(b),O=i(71),D=Z(O),B=i(72),q=Z(B),$=i(73),F=Z($),P=i(13),N=Z(P),L=i(74),V=Z(L),z=i(75),j=Z(z),x=i(57),U=Z(x),H=i(41),W=Z(H),J=i(28),le=Z(J),pe=i(59),ve=Z(pe),Ie=i(60),Me=Z(Ie),sn=i(61),yt=Z(sn),K=i(108),Q=Z(K),ie=i(62),se=Z(ie);function Z(_e){return _e&&_e.__esModule?_e:{default:_e}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":E.BackgroundClass,"attributors/class/color":m.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":h.FontClass,"attributors/class/size":v.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":E.BackgroundStyle,"attributors/style/color":m.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":h.FontStyle,"attributors/style/size":v.SizeStyle},!0),o.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":E.BackgroundStyle,"formats/color":m.ColorStyle,"formats/font":h.FontClass,"formats/size":v.SizeClass,"formats/blockquote":c.default,"formats/code-block":N.default,"formats/header":p.default,"formats/list":y.default,"formats/bold":w.default,"formats/code":P.Code,"formats/italic":S.default,"formats/link":k.default,"formats/script":T.default,"formats/strike":R.default,"formats/underline":D.default,"formats/image":q.default,"formats/video":F.default,"formats/list/item":_.ListItem,"modules/formula":V.default,"modules/syntax":j.default,"modules/toolbar":U.default,"themes/bubble":Q.default,"themes/snow":se.default,"ui/icons":W.default,"ui/picker":le.default,"ui/icon-picker":Me.default,"ui/color-picker":ve.default,"ui/tooltip":yt.default},!0),r.default=o.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=function(){function y(E,m){for(var h=0;h<m.length;h++){var v=m[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(E,v.key,v)}}return function(E,m,h){return m&&y(E.prototype,m),h&&y(E,h),E}}(),o=function y(E,m,h){E===null&&(E=Function.prototype);var v=Object.getOwnPropertyDescriptor(E,m);if(v===void 0){var g=Object.getPrototypeOf(E);return g===null?void 0:y(g,m,h)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(h)}},a=i(0),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}function c(y,E){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:y}function d(y,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);y.prototype=Object.create(E&&E.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(y,E):y.__proto__=E)}var p=function(y){d(E,y);function E(){return f(this,E),c(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return s(E,[{key:"add",value:function(h,v){if(v==="+1"||v==="-1"){var g=this.value(h)||0;v=v==="+1"?g+1:g-1}return v===0?(this.remove(h),!0):o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"add",this).call(this,h,v)}},{key:"canAdd",value:function(h,v){return o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,h,v)||o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,h,parseInt(v))}},{key:"value",value:function(h){return parseInt(o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,h))||void 0}}]),E}(l.default.Attributor.Class),_=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function f(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var c=function(d){f(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);c.blotName="blockquote",c.tagName="blockquote",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function p(_,y){for(var E=0;E<y.length;E++){var m=y[E];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,y,E){return y&&p(_.prototype,y),E&&p(_,E),_}}(),o=i(4),a=l(o);function l(p){return p&&p.__esModule?p:{default:p}}function u(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function f(p,_){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:p}function c(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);p.prototype=Object.create(_&&_.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(p,_):p.__proto__=_)}var d=function(p){c(_,p);function _(){return u(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,null,[{key:"formats",value:function(E){return this.tagName.indexOf(E.tagName)+1}}]),_}(a.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=function(){function g(w,A){for(var S=0;S<A.length;S++){var I=A[S];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(w,I.key,I)}}return function(w,A,S){return A&&g(w.prototype,A),S&&g(w,S),w}}(),o=function g(w,A,S){w===null&&(w=Function.prototype);var I=Object.getOwnPropertyDescriptor(w,A);if(I===void 0){var k=Object.getPrototypeOf(w);return k===null?void 0:g(k,A,S)}else{if("value"in I)return I.value;var C=I.get;return C===void 0?void 0:C.call(S)}},a=i(0),l=p(a),u=i(4),f=p(u),c=i(25),d=p(c);function p(g){return g&&g.__esModule?g:{default:g}}function _(g,w,A){return w in g?Object.defineProperty(g,w,{value:A,enumerable:!0,configurable:!0,writable:!0}):g[w]=A,g}function y(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")}function E(g,w){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:g}function m(g,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);g.prototype=Object.create(w&&w.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(g,w):g.__proto__=w)}var h=function(g){m(w,g);function w(){return y(this,w),E(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,[{key:"format",value:function(S,I){S===v.blotName&&!I?this.replaceWith(l.default.create(this.statics.scope)):o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,S,I)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,I){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,I),this):(this.parent.unwrap(),o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replaceWith",this).call(this,S,I))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:o(w.__proto__||Object.getPrototypeOf(w),"formats",this).call(this,S)}}]),w}(f.default);h.blotName="list-item",h.tagName="LI";var v=function(g){m(w,g),s(w,null,[{key:"create",value:function(S){var I=S==="ordered"?"OL":"UL",k=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,I);return(S==="checked"||S==="unchecked")&&k.setAttribute("data-checked",S==="checked"),k}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function w(A){y(this,w);var S=E(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,A)),I=function(C){if(C.target.parentNode===A){var T=S.statics.formats(A),b=l.default.find(C.target);T==="checked"?b.format("list","unchecked"):T==="unchecked"&&b.format("list","checked")}};return A.addEventListener("touchstart",I),A.addEventListener("mousedown",I),S}return s(w,[{key:"format",value:function(S,I){this.children.length>0&&this.children.tail.format(S,I)}},{key:"formats",value:function(){return _({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,I){if(S instanceof h)o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,S,I);else{var k=I==null?this.length():I.offset(this),C=this.split(k);C.parent.insertBefore(S,C)}}},{key:"optimize",value:function(S){o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,S);var I=this.next;I!=null&&I.prev===this&&I.statics.blotName===this.statics.blotName&&I.domNode.tagName===this.domNode.tagName&&I.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(I.moveChildren(this),I.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var I=l.default.create(this.statics.defaultChild);S.moveChildren(I),this.appendChild(I)}o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replace",this).call(this,S)}}]),w}(d.default);v.blotName="list",v.scope=l.default.Scope.BLOCK_BLOT,v.tagName=["OL","UL"],v.defaultChild="list-item",v.allowedChildren=[h],r.ListItem=h,r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function f(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var c=function(d){f(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);c.blotName="italic",c.tagName=["EM","I"],r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function _(y,E){for(var m=0;m<E.length;m++){var h=E[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(y,h.key,h)}}return function(y,E,m){return E&&_(y.prototype,E),m&&_(y,m),y}}(),o=function _(y,E,m){y===null&&(y=Function.prototype);var h=Object.getOwnPropertyDescriptor(y,E);if(h===void 0){var v=Object.getPrototypeOf(y);return v===null?void 0:_(v,E,m)}else{if("value"in h)return h.value;var g=h.get;return g===void 0?void 0:g.call(m)}},a=i(6),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function f(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function c(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function d(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var p=function(_){d(y,_);function y(){return f(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,null,[{key:"create",value:function(m){return m==="super"?document.createElement("sup"):m==="sub"?document.createElement("sub"):o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,m)}},{key:"formats",value:function(m){if(m.tagName==="SUB")return"sub";if(m.tagName==="SUP")return"super"}}]),y}(l.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function f(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var c=function(d){f(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);c.blotName="strike",c.tagName="S",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function f(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var c=function(d){f(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);c.blotName="underline",c.tagName="U",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function E(m,h){for(var v=0;v<h.length;v++){var g=h[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,h,v){return h&&E(m.prototype,h),v&&E(m,v),m}}(),o=function E(m,h,v){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,h);if(g===void 0){var w=Object.getPrototypeOf(m);return w===null?void 0:E(w,h,v)}else{if("value"in g)return g.value;var A=g.get;return A===void 0?void 0:A.call(v)}},a=i(0),l=f(a),u=i(27);function f(E){return E&&E.__esModule?E:{default:E}}function c(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function d(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function p(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}var _=["alt","height","width"],y=function(E){p(m,E);function m(){return c(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"format",value:function(v,g){_.indexOf(v)>-1?g?this.domNode.setAttribute(v,g):this.domNode.removeAttribute(v):o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,v,g)}}],[{key:"create",value:function(v){var g=o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,v);return typeof v=="string"&&g.setAttribute("src",this.sanitize(v)),g}},{key:"formats",value:function(v){return _.reduce(function(g,w){return v.hasAttribute(w)&&(g[w]=v.getAttribute(w)),g},{})}},{key:"match",value:function(v){return/\.(jpe?g|gif|png)$/.test(v)||/^data:image\/.+;base64/.test(v)}},{key:"sanitize",value:function(v){return(0,u.sanitize)(v,["http","https","data"])?v:"//:0"}},{key:"value",value:function(v){return v.getAttribute("src")}}]),m}(l.default.Embed);y.blotName="image",y.tagName="IMG",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function E(m,h){for(var v=0;v<h.length;v++){var g=h[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,h,v){return h&&E(m.prototype,h),v&&E(m,v),m}}(),o=function E(m,h,v){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,h);if(g===void 0){var w=Object.getPrototypeOf(m);return w===null?void 0:E(w,h,v)}else{if("value"in g)return g.value;var A=g.get;return A===void 0?void 0:A.call(v)}},a=i(4),l=i(27),u=f(l);function f(E){return E&&E.__esModule?E:{default:E}}function c(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function d(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function p(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}var _=["height","width"],y=function(E){p(m,E);function m(){return c(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"format",value:function(v,g){_.indexOf(v)>-1?g?this.domNode.setAttribute(v,g):this.domNode.removeAttribute(v):o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,v,g)}}],[{key:"create",value:function(v){var g=o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,v);return g.setAttribute("frameborder","0"),g.setAttribute("allowfullscreen",!0),g.setAttribute("src",this.sanitize(v)),g}},{key:"formats",value:function(v){return _.reduce(function(g,w){return v.hasAttribute(w)&&(g[w]=v.getAttribute(w)),g},{})}},{key:"sanitize",value:function(v){return u.default.sanitize(v)}},{key:"value",value:function(v){return v.getAttribute("src")}}]),m}(a.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=function(){function v(g,w){for(var A=0;A<w.length;A++){var S=w[A];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,w,A){return w&&v(g.prototype,w),A&&v(g,A),g}}(),o=function v(g,w,A){g===null&&(g=Function.prototype);var S=Object.getOwnPropertyDescriptor(g,w);if(S===void 0){var I=Object.getPrototypeOf(g);return I===null?void 0:v(I,w,A)}else{if("value"in S)return S.value;var k=S.get;return k===void 0?void 0:k.call(A)}},a=i(35),l=p(a),u=i(5),f=p(u),c=i(9),d=p(c);function p(v){return v&&v.__esModule?v:{default:v}}function _(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function y(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function E(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var m=function(v){E(g,v);function g(){return _(this,g),y(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,null,[{key:"create",value:function(A){var S=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,A);return typeof A=="string"&&(window.katex.render(A,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",A)),S}},{key:"value",value:function(A){return A.getAttribute("data-value")}}]),g}(l.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var h=function(v){E(g,v),s(g,null,[{key:"register",value:function(){f.default.register(m,!0)}}]);function g(){_(this,g);var w=y(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return w}return g}(d.default);r.FormulaBlot=m,r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=function(){function A(S,I){for(var k=0;k<I.length;k++){var C=I[k];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(S,C.key,C)}}return function(S,I,k){return I&&A(S.prototype,I),k&&A(S,k),S}}(),o=function A(S,I,k){S===null&&(S=Function.prototype);var C=Object.getOwnPropertyDescriptor(S,I);if(C===void 0){var T=Object.getPrototypeOf(S);return T===null?void 0:A(T,I,k)}else{if("value"in C)return C.value;var b=C.get;return b===void 0?void 0:b.call(k)}},a=i(0),l=y(a),u=i(5),f=y(u),c=i(9),d=y(c),p=i(13),_=y(p);function y(A){return A&&A.__esModule?A:{default:A}}function E(A,S){if(!(A instanceof S))throw new TypeError("Cannot call a class as a function")}function m(A,S){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:A}function h(A,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);A.prototype=Object.create(S&&S.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(A,S):A.__proto__=S)}var v=function(A){h(S,A);function S(){return E(this,S),m(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,[{key:"replaceWith",value:function(k){this.domNode.textContent=this.domNode.textContent,this.attach(),o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,k)}},{key:"highlight",value:function(k){var C=this.domNode.textContent;this.cachedText!==C&&((C.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=k(C),this.domNode.normalize(),this.attach()),this.cachedText=C)}}]),S}(_.default);v.className="ql-syntax";var g=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),w=function(A){h(S,A),s(S,null,[{key:"register",value:function(){f.default.register(g,!0),f.default.register(v,!0)}}]);function S(I,k){E(this,S);var C=m(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,I,k));if(typeof C.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var T=null;return C.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(T),T=setTimeout(function(){C.highlight(),T=null},C.options.interval)}),C.highlight(),C}return s(S,[{key:"highlight",value:function(){var k=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var C=this.quill.getSelection();this.quill.scroll.descendants(v).forEach(function(T){T.highlight(k.options.highlight)}),this.quill.update(f.default.sources.SILENT),C!=null&&this.quill.setSelection(C,f.default.sources.SILENT)}}}]),S}(d.default);w.DEFAULTS={highlight:function(){return window.hljs==null?null:function(A){var S=window.hljs.highlightAuto(A);return S.value}}(),interval:1e3},r.CodeBlock=v,r.CodeToken=g,r.default=w},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function S(I,k,C){I===null&&(I=Function.prototype);var T=Object.getOwnPropertyDescriptor(I,k);if(T===void 0){var b=Object.getPrototypeOf(I);return b===null?void 0:S(b,k,C)}else{if("value"in T)return T.value;var R=T.get;return R===void 0?void 0:R.call(C)}},o=function(){function S(I,k){for(var C=0;C<k.length;C++){var T=k[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(I,T.key,T)}}return function(I,k,C){return k&&S(I.prototype,k),C&&S(I,C),I}}(),a=i(3),l=E(a),u=i(8),f=E(u),c=i(43),d=E(c),p=i(15),_=i(41),y=E(_);function E(S){return S&&S.__esModule?S:{default:S}}function m(S,I){if(!(S instanceof I))throw new TypeError("Cannot call a class as a function")}function h(S,I){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:S}function v(S,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);S.prototype=Object.create(I&&I.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(S,I):S.__proto__=I)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],w=function(S){v(I,S);function I(k,C){m(this,I),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=g);var T=h(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,k,C));return T.quill.container.classList.add("ql-bubble"),T}return o(I,[{key:"extendToolbar",value:function(C){this.tooltip=new A(this.quill,this.options.bounds),this.tooltip.root.appendChild(C.container),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),y.default)}}]),I}(d.default);w.DEFAULTS=(0,l.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){I?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var A=function(S){v(I,S);function I(k,C){m(this,I);var T=h(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,k,C));return T.quill.on(f.default.events.EDITOR_CHANGE,function(b,R,O,D){if(b===f.default.events.SELECTION_CHANGE)if(R!=null&&R.length>0&&D===f.default.sources.USER){T.show(),T.root.style.left="0px",T.root.style.width="",T.root.style.width=T.root.offsetWidth+"px";var B=T.quill.getLines(R.index,R.length);if(B.length===1)T.position(T.quill.getBounds(R));else{var q=B[B.length-1],$=T.quill.getIndex(q),F=Math.min(q.length()-1,R.index+R.length-$),P=T.quill.getBounds(new p.Range($,F));T.position(P)}}else document.activeElement!==T.textbox&&T.quill.hasFocus()&&T.hide()}),T}return o(I,[{key:"listen",value:function(){var C=this;s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){C.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!C.root.classList.contains("ql-hidden")){var T=C.quill.getSelection();T!=null&&C.position(C.quill.getBounds(T))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(C){var T=s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"position",this).call(this,C),b=this.root.querySelector(".ql-tooltip-arrow");if(b.style.marginLeft="",T===0)return T;b.style.marginLeft=-1*T-b.offsetWidth/2+"px"}}]),I}(c.BaseTooltip);A.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=A,r.default=w},function(n,r,i){n.exports=i(63)}]).default})})(N2);var U9=N2.exports,B9=at&&at.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),df=at&&at.__assign||function(){return df=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},df.apply(this,arguments)},j9=at&&at.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r},wd=at&&at.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},nr=wd(Y),q9=wd(GS),Sa=wd(F9),g0=wd(U9),z9=function(t){B9(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(s,o,a,l){var u,f,c,d;s==="text-change"?(f=(u=r).onEditorChangeText)===null||f===void 0||f.call(u,r.editor.root.innerHTML,o,l,r.unprivilegedEditor):s==="selection-change"&&((d=(c=r).onEditorChangeSelection)===null||d===void 0||d.call(c,o,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(nr.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(nr.default.Children.count(n.children)){var i=nr.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,s;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var o=this.getEditorContents(),a=(s=n.value,s??"");this.isEqualValue(a,o)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),j9(this.cleanProps,this.dirtyProps).some(function(l){return!Sa.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!Sa.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var s=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:s,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,s=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(s),v0(function(){return i.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new g0.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?Sa.default(n.ops,r.ops):Sa.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var s=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),v0(function(){return i.setEditorSelection(n,s)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,s;!((s=(i=n)===null||i===void 0?void 0:i.scroll)===null||s===void 0)&&s.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=q9.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,s=r.preserveWhitespace,o=this.state.generation,a={key:o,ref:function(l){n.editingArea=l}};return nr.default.Children.count(i)?nr.default.cloneElement(nr.default.Children.only(i),a):s?nr.default.createElement("pre",df({},a)):nr.default.createElement("div",df({},a))},e.prototype.render=function(){var n;return nr.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,s){var o,a;if(this.editor){var l=this.isDelta(this.value)?s.getContents():s.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(o=this.props).onChange)===null||a===void 0||a.call(o,n,r,i,s))}},e.prototype.onEditorChangeSelection=function(n,r,i){var s,o,a,l,u,f;if(this.editor){var c=this.getEditorSelection(),d=!c&&n,p=c&&!n;Sa.default(n,c)||(this.selection=n,(o=(s=this.props).onChangeSelection)===null||o===void 0||o.call(s,n,r,i),d?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):p&&((f=(u=this.props).onBlur)===null||f===void 0||f.call(u,c,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=g0.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(nr.default.Component);function v0(t){Promise.resolve().then(t)}var $9=z9;const H9=Qf($9);const W9={toolbar:[[{header:[1,2,3,!1]}],[{size:[]}],[{color:[]},{background:[]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}],["link","image","video"]]},O2=({value:t,setValue:e})=>M(H9,{modules:W9,theme:"snow",value:t,onChange:e}),G9={"lds-ellipsis":"_lds-ellipsis_db1oc_1","lds-ellipsis1":"_lds-ellipsis1_db1oc_1","lds-ellipsis2":"_lds-ellipsis2_db1oc_1","lds-ellipsis3":"_lds-ellipsis3_db1oc_1"},P2=t=>G("div",{className:`${G9["lds-ellipsis"]} ${t.className}`,children:[M("div",{}),M("div",{}),M("div",{}),M("div",{})]});const K9="_modal_146df_1",Q9="_container_146df_8",X9="_backdrop_146df_17",Y9="_modalWrapper_146df_23",Qu={modal:K9,container:Q9,backdrop:X9,modalWrapper:Y9},J9=({children:t,setModal:e,modal:n})=>M("div",{className:Qu.modal,onClick:()=>e(!1),children:G("div",{className:Qu.container,children:[M("div",{className:Qu.backdrop}),M("div",{className:Qu.modalWrapper,onClick:r=>r.stopPropagation(),children:t})]})});const Z9="_container_yz5lv_1",eD="_offer_yz5lv_8",tD="_titleWrapper_yz5lv_14",nD="_title_yz5lv_14",rD="_subtitle_yz5lv_33",iD="_cards_yz5lv_47",sD="_card_yz5lv_47",oD="_button_yz5lv_76",Er={container:Z9,offer:eD,titleWrapper:tD,title:nD,subtitle:rD,cards:iD,card:sD,button:oD},aD=t=>M("section",{children:M("div",{className:Er.container,children:G("div",{className:Er.offer,children:[G("div",{className:Er.titleWrapper,children:[M(fx,{}),M("h1",{className:Er.title,children:""})]}),M("p",{className:Er.subtitle,children:",    "}),G("div",{className:Er.cards,children:[G("p",{className:Er.card,"data-aos":"fade-right",children:[M("span",{children:""}),"  ,               ."]}),G("p",{className:Er.card,"data-aos":"fade-left",children:[M("span",{children:""}),"c           ,           ."]})]}),M("a",{href:"#form",className:Er.button,children:" "})]})})}),lD="_container_11nmz_1",uD="_featuresGrid_11nmz_8",cD="_feature_11nmz_8",wr={container:lD,featuresGrid:uD,feature:cD},fD=t=>M("section",{className:wr.section,id:"features",children:G("div",{className:wr.container,children:[M("h2",{className:wr.title,children:"  "}),G("ul",{className:wr.featuresGrid,children:[G("li",{className:wr.feature,"data-aos":"fade-up",children:[M("img",{src:LP,alt:"feature"}),M("p",{children:",       "})]}),G("li",{className:wr.feature,"data-aos":"fade-up",children:[M("img",{src:MP,alt:"feature"}),M("p",{children:",        (  )"})]}),G("li",{className:wr.feature,"data-aos":"fade-up",children:[M("img",{src:DP,alt:"feature"}),M("p",{children:",    "})]}),G("li",{className:wr.feature,"data-aos":"fade-up",children:[M("img",{src:VP,alt:"feature"}),M("p",{children:",      "})]}),G("li",{className:wr.feature,"data-aos":"fade-up",children:[M("img",{src:FP,alt:"feature"}),M("p",{children:",       (     )"})]})]})]})}),dD="_container_v3lbz_1",hD="_processGrid_v3lbz_10",pD="_process_v3lbz_10",mD="_button_v3lbz_36",Un={container:dD,processGrid:hD,process:pD,button:mD},gD=t=>M("section",{className:Un.section,id:"#process",children:G("div",{className:Un.container,children:[M("h2",{className:Un.title,children:" "}),G("ul",{className:Un.processGrid,children:[G("li",{className:Un.process,"data-aos":"fade-up",children:[M("img",{src:UP,alt:"process"}),M("p",{children:"  .    -"})]}),G("li",{className:Un.process,"data-aos":"fade-up",children:[M("img",{src:BP,alt:"process"}),M("p",{children:"    "})]}),G("li",{className:Un.process,"data-aos":"fade-up",children:[M("img",{src:jP,alt:"process"}),M("p",{children:"   "})]}),G("li",{className:Un.process,"data-aos":"fade-up",children:[M("img",{src:qP,alt:"process"}),M("p",{children:"   "})]}),G("li",{className:Un.process,"data-aos":"fade-up",children:[M("img",{src:zP,alt:"process"}),M("p",{children:"   "})]}),G("li",{className:Un.process,"data-aos":"fade-up",children:[M("img",{src:$P,alt:"process"}),M("p",{children:"     "})]})]}),M("a",{href:"#form",className:Un.button,children:"   "})]})}),vD="_section_18hmf_1",yD="_container_18hmf_6",_D="_title_18hmf_13",ED="_image_18hmf_26",wD="_grid_18hmf_31",TD="_grid_item_18hmf_43",SD="_grid_item_title_18hmf_46",AD="_grid_item_number_18hmf_55",ID="_grid_item_text_18hmf_59",ut={section:vD,container:yD,title:_D,image:ED,grid:wD,grid_item:TD,grid_item_title:SD,grid_item_number:AD,grid_item_text:ID},bD=t=>M("section",{className:ut.section,id:"realisation",children:G("div",{className:ut.container,children:[M("h3",{className:ut.title,children:" "}),G("div",{className:ut.grid,children:[G("div",{className:ut.grid_item,"data-aos":"fade-up",children:[M("p",{className:ut.grid_item_number,children:"1"}),M("p",{className:ut.grid_item_title,children:" "}),M("p",{className:ut.grid_item_text,children:"   ,    KPI         "})]}),G("div",{className:ut.grid_item,"data-aos":"fade-up",children:[M("p",{className:ut.grid_item_number,children:"2"}),M("p",{className:ut.grid_item_title,children:"  "}),M("p",{className:ut.grid_item_text,children:"  -  ,     ,    ,          "})]}),G("div",{className:ut.grid_item,"data-aos":"fade-up",children:[M("p",{className:ut.grid_item_number,children:"3"}),M("p",{className:ut.grid_item_title,children:""}),M("p",{className:ut.grid_item_text,children:"           ,      -,     "})]}),G("div",{className:ut.grid_item,"data-aos":"fade-up",children:[M("p",{className:ut.grid_item_number,children:"4"}),M("p",{className:ut.grid_item_title,children:""}),M("p",{className:ut.grid_item_text,children:"     ,          On-line ,        "})]})]})]})}),CD="_section_ywo1q_2",kD="_background_ywo1q_6",RD="_container_ywo1q_24",ND="_list_ywo1q_33",OD="_listItem_ywo1q_51",PD="_button_ywo1q_66",xD="_offer_ywo1q_84",ct={section:CD,background:kD,container:RD,list:ND,listItem:OD,button:PD,offer:xD},LD=t=>G("section",{className:ct.section,id:"tasks",children:[M("img",{src:HP,alt:"Background image",className:ct.background}),G("div",{className:ct.container,children:[M("h2",{className:ct.title,children:",    "}),G("ul",{className:ct.list,children:[M("li",{className:ct.listItem,"data-aos":"fade-right",children:"  "}),M("li",{className:ct.listItem,"data-aos":"fade-right",children:"  / "}),M("li",{className:ct.listItem,"data-aos":"fade-right",children:"    :   , -"}),M("li",{className:ct.listItem,"data-aos":"fade-right",children:"   , ,  POS-"}),M("li",{className:ct.listItem,"data-aos":"fade-right",children:"  ,    ,   "}),M("li",{className:ct.listItem,"data-aos":"fade-right",children:"     "}),M("li",{className:ct.listItem,"data-aos":"fade-right",children:"    "}),M("li",{className:ct.listItem,"data-aos":"fade-right",children:"  ,   "}),M("li",{className:ct.listItem,"data-aos":"fade-right",children:"       ( )"}),M("li",{className:ct.listItem,"data-aos":"fade-right",children:"   ,   "}),M("li",{className:ct.listItem,"data-aos":"fade-right",children:"      "}),M("li",{className:ct.listItem,"data-aos":"fade-right",children:"    , ,   (   )"}),M("li",{className:ct.listItem,"data-aos":"fade-right",children:"    "})]}),G("div",{className:ct.offer,children:[M("p",{children:"   "}),M("p",{children:"       "})]}),M("a",{className:ct.button,href:"#form",children:"  "})]})]}),MD="_container_1xi4i_1",DD="_pricesContainer_1xi4i_10",VD="_prices_1xi4i_10",FD="_price_1xi4i_10",UD="_price_title_1xi4i_41",BD="_priceInfluence_1xi4i_52",jD="_priceInfluence_item_1xi4i_61",qD="_priceInfluence_title_1xi4i_66",zD="_priceInfluence_list_1xi4i_70",$D="_priceInfluence_item_title_1xi4i_76",HD="_button_1xi4i_80",Ne={container:MD,pricesContainer:DD,prices:VD,price:FD,price_title:UD,priceInfluence:BD,priceInfluence_item:jD,priceInfluence_title:qD,priceInfluence_list:zD,priceInfluence_item_title:$D,button:HD},WD=t=>M("section",{className:Ne.section,id:"prices",children:G("div",{className:Ne.container,children:[M("h2",{className:Ne.title,children:""}),G("div",{className:Ne.pricesContainer,"data-aos":"fade-right",children:[G("ul",{className:Ne.prices,children:[G("li",{className:Ne.price,children:[M("p",{className:Ne.price_title,children:""}),G("p",{className:Ne.price_info,children:[" 1  ",M("br",{})," ",M("span",{children:" 220 "})]})]}),G("li",{className:Ne.price,children:[M("p",{className:Ne.price_title,children:""}),G("p",{className:Ne.price_info,children:[" 1  ",M("br",{})," ",M("span",{children:" 7 "})]})]}),G("li",{className:Ne.price,children:[M("p",{className:Ne.price_title,children:"  "}),M("p",{className:Ne.price_info,children:M("span",{children:" 220 "})})]})]}),G("div",{className:Ne.priceInfluence,"data-aos":"fade-left",children:[M("p",{className:Ne.priceInfluence_title,children:"    :"}),G("ul",{className:Ne.priceInfluence_list,children:[G("li",{className:Ne.priceInfluence_item,children:[M("p",{className:Ne.priceInfluence_item_title,children:"  "}),M("p",{className:Ne.priceInfluence_item_info,children:"            ."})]}),G("li",{className:Ne.priceInfluence_item,children:[M("p",{className:Ne.priceInfluence_item_title,children:"   "}),M("p",{className:Ne.priceInfluence_item_info,children:"               "})]}),G("li",{className:Ne.priceInfluence_item,children:[M("p",{className:Ne.priceInfluence_item_title,children:"  "}),M("p",{className:Ne.priceInfluence_item_info,children:"                    "})]}),G("li",{className:Ne.priceInfluence_item,children:[M("p",{className:Ne.priceInfluence_item_title,children:" "}),M("p",{className:Ne.priceInfluence_item_info,children:"      "})]}),G("li",{className:Ne.priceInfluence_item,children:[M("p",{className:Ne.priceInfluence_item_title,children:"    "}),M("p",{className:Ne.priceInfluence_item_info,children:"        "})]})]})]})]}),M("a",{className:Ne.button,href:"#form",children:"  "})]})});function y0(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Av(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:y0(e[n])&&y0(t[n])&&Object.keys(e[n]).length>0&&Av(t[n],e[n])})}const x2={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ns(){const t=typeof document<"u"?document:{};return Av(t,x2),t}const GD={document:x2,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function In(){const t=typeof window<"u"?window:{};return Av(t,GD),t}function KD(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Cm(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function hf(){return Date.now()}function QD(t){const e=In();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function XD(t,e){e===void 0&&(e="x");const n=In();let r,i,s;const o=QD(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function Xu(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function YD(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function mn(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!YD(r)){const i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,o=i.length;s<o;s+=1){const a=i[s],l=Object.getOwnPropertyDescriptor(r,a);l!==void 0&&l.enumerable&&(Xu(t[a])&&Xu(r[a])?r[a].__swiper__?t[a]=r[a]:mn(t[a],r[a]):!Xu(t[a])&&Xu(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:mn(t[a],r[a])):t[a]=r[a])}}}return t}function Yu(t,e,n){t.style.setProperty(e,n)}function L2(t){let{swiper:e,targetPosition:n,side:r}=t;const i=In(),s=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const u=n>s?"next":"prev",f=(d,p)=>u==="next"&&d>=p||u==="prev"&&d<=p,c=()=>{a=new Date().getTime(),o===null&&(o=a);const d=Math.max(Math.min((a-o)/l,1),0),p=.5-Math.cos(d*Math.PI)/2;let _=s+p*(n-s);if(f(_,n)&&(_=n),e.wrapperEl.scrollTo({[r]:_}),f(_,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:_})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(c)};c()}function ar(t,e){return e===void 0&&(e=""),[...t.children].filter(n=>n.matches(e))}function M2(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:[e]),n}function JD(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function ZD(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function hi(t,e){return In().getComputedStyle(t,null).getPropertyValue(e)}function pf(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function D2(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function km(t,e,n){const r=In();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}let zh;function e7(){const t=In(),e=Ns();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function V2(){return zh||(zh=e7()),zh}let $h;function t7(t){let{userAgent:e}=t===void 0?{}:t;const n=V2(),r=In(),i=r.navigator.platform,s=e||r.navigator.userAgent,o={ios:!1,android:!1},a=r.screen.width,l=r.screen.height,u=s.match(/(Android);?[\s\/]+([\d.]+)?/);let f=s.match(/(iPad).*OS\s([\d_]+)/);const c=s.match(/(iPod)(.*OS\s([\d_]+))?/),d=!f&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=i==="Win32";let _=i==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!f&&_&&n.touch&&y.indexOf(`${a}x${l}`)>=0&&(f=s.match(/(Version)\/([\d.]+)/),f||(f=[0,1,"13_0_0"]),_=!1),u&&!p&&(o.os="android",o.android=!0),(f||d||c)&&(o.os="ios",o.ios=!0),o}function n7(t){return t===void 0&&(t={}),$h||($h=t7(t)),$h}let Hh;function r7(){const t=In();let e=!1;function n(){const r=t.navigator.userAgent.toLowerCase();return r.indexOf("safari")>=0&&r.indexOf("chrome")<0&&r.indexOf("android")<0}if(n()){const r=String(t.navigator.userAgent);if(r.includes("Version/")){const[i,s]=r.split("Version/")[1].split(" ")[0].split(".").map(o=>Number(o));e=i<16||i===16&&s<2}}return{isSafari:e||n(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function i7(){return Hh||(Hh=r7()),Hh}function s7(t){let{swiper:e,on:n,emit:r}=t;const i=In();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(c=>{o=i.requestAnimationFrame(()=>{const{width:d,height:p}=e;let _=d,y=p;c.forEach(E=>{let{contentBoxSize:m,contentRect:h,target:v}=E;v&&v!==e.el||(_=h?h.width:(m[0]||m).inlineSize,y=h?h.height:(m[0]||m).blockSize)}),(_!==d||y!==p)&&a()})}),s.observe(e.el))},u=()=>{o&&i.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},f=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",f)}),n("destroy",()=>{u(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",f)})}function o7(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=[],o=In(),a=function(f,c){c===void 0&&(c={});const d=o.MutationObserver||o.WebkitMutationObserver,p=new d(_=>{if(e.__preventObserver__)return;if(_.length===1){i("observerUpdate",_[0]);return}const y=function(){i("observerUpdate",_[0])};o.requestAnimationFrame?o.requestAnimationFrame(y):o.setTimeout(y,0)});p.observe(f,{attributes:typeof c.attributes>"u"?!0:c.attributes,childList:typeof c.childList>"u"?!0:c.childList,characterData:typeof c.characterData>"u"?!0:c.characterData}),s.push(p)},l=()=>{if(e.params.observer){if(e.params.observeParents){const f=D2(e.el);for(let c=0;c<f.length;c+=1)a(f[c])}a(e.el,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},u=()=>{s.forEach(f=>{f.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",u)}var a7={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(r,o)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),r=t):(e=s[0].events,n=s[0].data,r=s[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(u=>{u.apply(r,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(u=>{u.apply(r,n)})}),t}};function l7(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(hi(r,"padding-left")||0,10)-parseInt(hi(r,"padding-right")||0,10),n=n-parseInt(hi(r,"padding-top")||0,10)-parseInt(hi(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function u7(){const t=this;function e(T){return t.isHorizontal()?T:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[T]}function n(T,b){return parseFloat(T.getPropertyValue(e(b))||0)}const r=t.params,{wrapperEl:i,slidesEl:s,size:o,rtlTranslate:a,wrongRTL:l}=t,u=t.virtual&&r.virtual.enabled,f=u?t.virtual.slides.length:t.slides.length,c=ar(s,`.${t.params.slideClass}, swiper-slide`),d=u?t.virtual.slides.length:c.length;let p=[];const _=[],y=[];let E=r.slidesOffsetBefore;typeof E=="function"&&(E=r.slidesOffsetBefore.call(t));let m=r.slidesOffsetAfter;typeof m=="function"&&(m=r.slidesOffsetAfter.call(t));const h=t.snapGrid.length,v=t.slidesGrid.length;let g=r.spaceBetween,w=-E,A=0,S=0;if(typeof o>"u")return;typeof g=="string"&&g.indexOf("%")>=0?g=parseFloat(g.replace("%",""))/100*o:typeof g=="string"&&(g=parseFloat(g)),t.virtualSize=-g,c.forEach(T=>{a?T.style.marginLeft="":T.style.marginRight="",T.style.marginBottom="",T.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(Yu(i,"--swiper-centered-offset-before",""),Yu(i,"--swiper-centered-offset-after",""));const I=r.grid&&r.grid.rows>1&&t.grid;I&&t.grid.initSlides(d);let k;const C=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(T=>typeof r.breakpoints[T].slidesPerView<"u").length>0;for(let T=0;T<d;T+=1){k=0;let b;if(c[T]&&(b=c[T]),I&&t.grid.updateSlide(T,b,d,e),!(c[T]&&hi(b,"display")==="none")){if(r.slidesPerView==="auto"){C&&(c[T].style[e("width")]="");const R=getComputedStyle(b),O=b.style.transform,D=b.style.webkitTransform;if(O&&(b.style.transform="none"),D&&(b.style.webkitTransform="none"),r.roundLengths)k=t.isHorizontal()?km(b,"width",!0):km(b,"height",!0);else{const B=n(R,"width"),q=n(R,"padding-left"),$=n(R,"padding-right"),F=n(R,"margin-left"),P=n(R,"margin-right"),N=R.getPropertyValue("box-sizing");if(N&&N==="border-box")k=B+F+P;else{const{clientWidth:L,offsetWidth:V}=b;k=B+q+$+F+P+(V-L)}}O&&(b.style.transform=O),D&&(b.style.webkitTransform=D),r.roundLengths&&(k=Math.floor(k))}else k=(o-(r.slidesPerView-1)*g)/r.slidesPerView,r.roundLengths&&(k=Math.floor(k)),c[T]&&(c[T].style[e("width")]=`${k}px`);c[T]&&(c[T].swiperSlideSize=k),y.push(k),r.centeredSlides?(w=w+k/2+A/2+g,A===0&&T!==0&&(w=w-o/2-g),T===0&&(w=w-o/2-g),Math.abs(w)<1/1e3&&(w=0),r.roundLengths&&(w=Math.floor(w)),S%r.slidesPerGroup===0&&p.push(w),_.push(w)):(r.roundLengths&&(w=Math.floor(w)),(S-Math.min(t.params.slidesPerGroupSkip,S))%t.params.slidesPerGroup===0&&p.push(w),_.push(w),w=w+k+g),t.virtualSize+=k+g,A=k,S+=1}}if(t.virtualSize=Math.max(t.virtualSize,o)+m,a&&l&&(r.effect==="slide"||r.effect==="coverflow")&&(i.style.width=`${t.virtualSize+g}px`),r.setWrapperSize&&(i.style[e("width")]=`${t.virtualSize+g}px`),I&&t.grid.updateWrapperSize(k,p,e),!r.centeredSlides){const T=[];for(let b=0;b<p.length;b+=1){let R=p[b];r.roundLengths&&(R=Math.floor(R)),p[b]<=t.virtualSize-o&&T.push(R)}p=T,Math.floor(t.virtualSize-o)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-o)}if(u&&r.loop){const T=y[0]+g;if(r.slidesPerGroup>1){const b=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/r.slidesPerGroup),R=T*r.slidesPerGroup;for(let O=0;O<b;O+=1)p.push(p[p.length-1]+R)}for(let b=0;b<t.virtual.slidesBefore+t.virtual.slidesAfter;b+=1)r.slidesPerGroup===1&&p.push(p[p.length-1]+T),_.push(_[_.length-1]+T),t.virtualSize+=T}if(p.length===0&&(p=[0]),g!==0){const T=t.isHorizontal()&&a?"marginLeft":e("marginRight");c.filter((b,R)=>!r.cssMode||r.loop?!0:R!==c.length-1).forEach(b=>{b.style[T]=`${g}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let T=0;y.forEach(R=>{T+=R+(g||0)}),T-=g;const b=T-o;p=p.map(R=>R<=0?-E:R>b?b+m:R)}if(r.centerInsufficientSlides){let T=0;if(y.forEach(b=>{T+=b+(g||0)}),T-=g,T<o){const b=(o-T)/2;p.forEach((R,O)=>{p[O]=R-b}),_.forEach((R,O)=>{_[O]=R+b})}}if(Object.assign(t,{slides:c,snapGrid:p,slidesGrid:_,slidesSizesGrid:y}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){Yu(i,"--swiper-centered-offset-before",`${-p[0]}px`),Yu(i,"--swiper-centered-offset-after",`${t.size/2-y[y.length-1]/2}px`);const T=-t.snapGrid[0],b=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(R=>R+T),t.slidesGrid=t.slidesGrid.map(R=>R+b)}if(d!==f&&t.emit("slidesLengthChange"),p.length!==h&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),_.length!==v&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!u&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const T=`${r.containerModifierClass}backface-hidden`,b=t.el.classList.contains(T);d<=r.maxBackfaceHiddenSlides?b||t.el.classList.add(T):b&&t.el.classList.remove(T)}}function c7(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const a=n[s].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function f7(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}function d7(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),r.forEach(l=>{l.classList.remove(n.slideVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<r.length;l+=1){const u=r[l];let f=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(f-=r[0].swiperSlideOffset);const c=(o+(n.centeredSlides?e.minTranslate():0)-f)/(u.swiperSlideSize+a),d=(o-s[0]+(n.centeredSlides?e.minTranslate():0)-f)/(u.swiperSlideSize+a),p=-(o-f),_=p+e.slidesSizesGrid[l];(p>=0&&p<e.size-1||_>1&&_<=e.size||p<=0&&_>=e.size)&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(l),r[l].classList.add(n.slideVisibleClass)),u.progress=i?-c:c,u.originalProgress=i?-d:d}}function h7(t){const e=this;if(typeof t>"u"){const f=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*f||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:o,progressLoop:a}=e;const l=s,u=o;if(r===0)i=0,s=!0,o=!0;else{i=(t-e.minTranslate())/r;const f=Math.abs(t-e.minTranslate())<1,c=Math.abs(t-e.maxTranslate())<1;s=f||i<=0,o=c||i>=1,f&&(i=0),c&&(i=1)}if(n.loop){const f=e.getSlideIndexByData(0),c=e.getSlideIndexByData(e.slides.length-1),d=e.slidesGrid[f],p=e.slidesGrid[c],_=e.slidesGrid[e.slidesGrid.length-1],y=Math.abs(t);y>=d?a=(y-d)/_:a=(y+_-p)/_,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!l&&e.emit("reachBeginning toEdge"),o&&!u&&e.emit("reachEnd toEdge"),(l&&!s||u&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}function p7(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,o=l=>ar(r,`.${n.slideClass}${l}, swiper-slide${l}`)[0];e.forEach(l=>{l.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let a;if(s)if(n.loop){let l=i-t.virtual.slidesBefore;l<0&&(l=t.virtual.slides.length+l),l>=t.virtual.slides.length&&(l-=t.virtual.slides.length),a=o(`[data-swiper-slide-index="${l}"]`)}else a=o(`[data-swiper-slide-index="${i}"]`);else a=e[i];if(a){a.classList.add(n.slideActiveClass);let l=ZD(a,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!l&&(l=e[0]),l&&l.classList.add(n.slideNextClass);let u=JD(a,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!u===0&&(u=e[e.length-1]),u&&u.classList.add(n.slidePrevClass)}t.emitSlidesClasses()}const Ic=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){const i=r.querySelector(`.${t.params.lazyPreloaderClass}`);i&&i.remove()}},Wh=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Rm=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((l,u)=>o+r+u)),t.slides.forEach((l,u)=>{a.includes(l.column)&&Wh(t,u)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=s+e;o+=1){const a=(o%n+n)%n;(a<i||a>s)&&Wh(t,a)}else for(let o=Math.max(i-e,0);o<=Math.min(s+e,n-1);o+=1)o!==i&&(o>s||o<i)&&Wh(t,o)};function m7(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function g7(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:o,snapIndex:a}=e;let l=t,u;const f=d=>{let p=d-e.virtual.slidesBefore;return p<0&&(p=e.virtual.slides.length+p),p>=e.virtual.slides.length&&(p-=e.virtual.slides.length),p};if(typeof l>"u"&&(l=m7(e)),r.indexOf(n)>=0)u=r.indexOf(n);else{const d=Math.min(i.slidesPerGroupSkip,l);u=d+Math.floor((l-d)/i.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),l===s){u!==a&&(e.snapIndex=u,e.emit("snapIndexChange")),e.params.loop&&e.virtual&&e.params.virtual.enabled&&(e.realIndex=f(l));return}let c;e.virtual&&i.virtual.enabled&&i.loop?c=f(l):e.slides[l]?c=parseInt(e.slides[l].getAttribute("data-swiper-slide-index")||l,10):c=l,Object.assign(e,{previousSnapIndex:a,snapIndex:u,previousRealIndex:o,realIndex:c,previousIndex:s,activeIndex:l}),e.initialized&&Rm(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),o!==c&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function v7(t){const e=this,n=e.params,r=t.closest(`.${n.slideClass}, swiper-slide`);let i=!1,s;if(r){for(let o=0;o<e.slides.length;o+=1)if(e.slides[o]===r){i=!0,s=o;break}}if(r&&i)e.clickedSlide=r,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):e.clickedIndex=s;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}n.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}var y7={updateSize:l7,updateSlides:u7,updateAutoHeight:c7,updateSlidesOffset:f7,updateSlidesProgress:d7,updateProgress:h7,updateSlidesClasses:p7,updateActiveIndex:g7,updateClickedSlide:v7};function _7(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let o=XD(s,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function E7(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:o}=n;let a=0,l=0;const u=0;n.isHorizontal()?a=r?-t:t:l=t,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${u}px)`);let f;const c=n.maxTranslate()-n.minTranslate();c===0?f=0:f=(t-n.minTranslate())/c,f!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function w7(){return-this.snapGrid[0]}function T7(){return-this.snapGrid[this.snapGrid.length-1]}function S7(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),u=s.maxTranslate();let f;if(r&&t>l?f=l:r&&t<u?f=u:f=t,s.updateProgress(f),o.cssMode){const c=s.isHorizontal();if(e===0)a[c?"scrollLeft":"scrollTop"]=-f;else{if(!s.support.smoothScroll)return L2({swiper:s,targetPosition:-f,side:c?"left":"top"}),!0;a.scrollTo({[c?"left":"top"]:-f,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(f),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(f),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(d){!s||s.destroyed||d.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var A7={getTranslate:_7,setTranslate:E7,minTranslate:w7,maxTranslate:T7,translateTo:S7};function I7(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`),n.emit("setTransition",t,e)}function F2(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:s,previousIndex:o}=e;let a=r;if(a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${i}`),n&&s!==o){if(a==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function b7(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),F2({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function C7(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),F2({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var k7={setTransition:I7,transitionStart:b7,transitionEnd:C7};function R7(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:u,previousIndex:f,activeIndex:c,rtlTranslate:d,wrapperEl:p,enabled:_}=s;if(s.animating&&a.preventInteractionOnTransition||!_&&!r&&!i)return!1;const y=Math.min(s.params.slidesPerGroupSkip,o);let E=y+Math.floor((o-y)/s.params.slidesPerGroup);E>=l.length&&(E=l.length-1);const m=-l[E];if(a.normalizeSlideIndex)for(let v=0;v<u.length;v+=1){const g=-Math.floor(m*100),w=Math.floor(u[v]*100),A=Math.floor(u[v+1]*100);typeof u[v+1]<"u"?g>=w&&g<A-(A-w)/2?o=v:g>=w&&g<A&&(o=v+1):g>=w&&(o=v)}if(s.initialized&&o!==c&&(!s.allowSlideNext&&(d?m>s.translate&&m>s.minTranslate():m<s.translate&&m<s.minTranslate())||!s.allowSlidePrev&&m>s.translate&&m>s.maxTranslate()&&(c||0)!==o))return!1;o!==(f||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(m);let h;if(o>c?h="next":o<c?h="prev":h="reset",d&&-m===s.translate||!d&&m===s.translate)return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(m),h!=="reset"&&(s.transitionStart(n,h),s.transitionEnd(n,h)),!1;if(a.cssMode){const v=s.isHorizontal(),g=d?m:-m;if(e===0){const w=s.virtual&&s.params.virtual.enabled;w&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),w&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[v?"scrollLeft":"scrollTop"]=g})):p[v?"scrollLeft":"scrollTop"]=g,w&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1})}else{if(!s.support.smoothScroll)return L2({swiper:s,targetPosition:g,side:v?"left":"top"}),!0;p.scrollTo({[v?"left":"top"]:g,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(m),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,h),e===0?s.transitionEnd(n,h):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(g){!s||s.destroyed||g.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,h))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function N7(t,e,n,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;let s=t;return i.params.loop&&(i.virtual&&i.params.virtual.enabled?s=s+i.virtual.slidesBefore:s=i.getSlideIndexByData(s)),i.slideTo(s,e,n,r)}function O7(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{enabled:i,params:s,animating:o}=r;if(!i)return r;let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<s.slidesPerGroupSkip?1:a,u=r.virtual&&s.virtual.enabled;if(s.loop){if(o&&!u&&s.loopPreventsSliding)return!1;r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function P7(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{params:i,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:u}=r;if(!l)return r;const f=r.virtual&&i.virtual.enabled;if(i.loop){if(u&&!f&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const c=a?r.translate:-r.translate;function d(m){return m<0?-Math.floor(Math.abs(m)):Math.floor(m)}const p=d(c),_=s.map(m=>d(m));let y=s[_.indexOf(p)-1];if(typeof y>"u"&&i.cssMode){let m;s.forEach((h,v)=>{p>=h&&(m=v)}),typeof m<"u"&&(y=s[m>0?m-1:m])}let E=0;if(typeof y<"u"&&(E=o.indexOf(y),E<0&&(E=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(E=E-r.slidesPerViewDynamic("previous",!0)+1,E=Math.max(E,0))),i.rewind&&r.isBeginning){const m=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(m,t,e,n)}return r.slideTo(E,t,e,n)}function x7(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this;return r.slideTo(r.activeIndex,t,e,n)}function L7(t,e,n,r){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;let s=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const u=i.snapGrid[a],f=i.snapGrid[a+1];l-u>(f-u)*r&&(s+=i.params.slidesPerGroup)}else{const u=i.snapGrid[a-1],f=i.snapGrid[a];l-u<=(f-u)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function M7(){const t=this,{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,s;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=t.getSlideIndex(ar(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),Cm(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=t.getSlideIndex(ar(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),Cm(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var D7={slideTo:R7,slideToLoop:N7,slideNext:O7,slidePrev:P7,slideReset:x7,slideToClosest:L7,slideToClickedSlide:M7};function V7(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;ar(r,`.${n.slideClass}, swiper-slide`).forEach((s,o)=>{s.setAttribute("data-swiper-slide-index",o)}),e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function F7(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,byController:o,byMousewheel:a}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:u,allowSlidePrev:f,allowSlideNext:c,slidesEl:d,params:p}=l;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled){n&&(!p.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):p.centeredSlides&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=f,l.allowSlideNext=c,l.emit("loopFix");return}const _=p.slidesPerView==="auto"?l.slidesPerViewDynamic():Math.ceil(parseFloat(p.slidesPerView,10));let y=p.loopedSlides||_;y%p.slidesPerGroup!==0&&(y+=p.slidesPerGroup-y%p.slidesPerGroup),l.loopedSlides=y;const E=[],m=[];let h=l.activeIndex;typeof s>"u"?s=l.getSlideIndex(l.slides.filter(S=>S.classList.contains(p.slideActiveClass))[0]):h=s;const v=r==="next"||!r,g=r==="prev"||!r;let w=0,A=0;if(s<y){w=Math.max(y-s,p.slidesPerGroup);for(let S=0;S<y-s;S+=1){const I=S-Math.floor(S/u.length)*u.length;E.push(u.length-I-1)}}else if(s>l.slides.length-y*2){A=Math.max(s-(l.slides.length-y*2),p.slidesPerGroup);for(let S=0;S<A;S+=1){const I=S-Math.floor(S/u.length)*u.length;m.push(I)}}if(g&&E.forEach(S=>{l.slides[S].swiperLoopMoveDOM=!0,d.prepend(l.slides[S]),l.slides[S].swiperLoopMoveDOM=!1}),v&&m.forEach(S=>{l.slides[S].swiperLoopMoveDOM=!0,d.append(l.slides[S]),l.slides[S].swiperLoopMoveDOM=!1}),l.recalcSlides(),p.slidesPerView==="auto"&&l.updateSlides(),p.watchSlidesProgress&&l.updateSlidesOffset(),n){if(E.length>0&&g)if(typeof e>"u"){const S=l.slidesGrid[h],k=l.slidesGrid[h+w]-S;a?l.setTranslate(l.translate-k):(l.slideTo(h+w,0,!1,!0),i&&(l.touches[l.isHorizontal()?"startX":"startY"]+=k))}else i&&l.slideToLoop(e,0,!1,!0);else if(m.length>0&&v)if(typeof e>"u"){const S=l.slidesGrid[h],k=l.slidesGrid[h-A]-S;a?l.setTranslate(l.translate-k):(l.slideTo(h-A,0,!1,!0),i&&(l.touches[l.isHorizontal()?"startX":"startY"]+=k))}else l.slideToLoop(e,0,!1,!0)}if(l.allowSlidePrev=f,l.allowSlideNext=c,l.controller&&l.controller.control&&!o){const S={slideRealIndex:e,slideTo:!1,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(I=>{!I.destroyed&&I.params.loop&&I.loopFix(S)}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix(S)}l.emit("loopFix")}function U7(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var B7={loopCreate:V7,loopFix:F7,loopDestroy:U7};function j7(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function q7(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var z7={setGrabCursor:j7,unsetGrabCursor:q7};function $7(t,e){e===void 0&&(e=this);function n(r){if(!r||r===Ns()||r===In())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function H7(t){const e=this,n=Ns(),r=In(),i=e.touchEventsData;i.evCache.push(t);const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&t.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=t;l.originalEvent&&(l=l.originalEvent);let u=l.target;if(s.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(u)||"which"in l&&l.which===3||"button"in l&&l.button>0||i.isTouched&&i.isMoved)return;const f=!!s.noSwipingClass&&s.noSwipingClass!=="",c=t.composedPath?t.composedPath():t.path;f&&l.target&&l.target.shadowRoot&&c&&(u=c[0]);const d=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,p=!!(l.target&&l.target.shadowRoot);if(s.noSwiping&&(p?$7(d,u):u.closest(d))){e.allowClick=!0;return}if(s.swipeHandler&&!u.closest(s.swipeHandler))return;o.currentX=l.pageX,o.currentY=l.pageY;const _=o.currentX,y=o.currentY,E=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,m=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(E&&(_<=m||_>=r.innerWidth-m))if(E==="prevent")t.preventDefault();else return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=_,o.startY=y,i.touchStartTime=hf(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let h=!0;u.matches(i.focusableElements)&&(h=!1,u.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==u&&n.activeElement.blur();const v=h&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||v)&&!u.isContentEditable&&l.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function W7(t){const e=Ns(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:o,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}const u=r.evCache.findIndex(A=>A.pointerId===l.pointerId);u>=0&&(r.evCache[u]=l);const f=r.evCache.length>1?r.evCache[0]:l,c=f.pageX,d=f.pageY;if(l.preventedByNestedSwiper){s.startX=c,s.startY=d;return}if(!n.allowTouchMove){l.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:c,startY:d,prevX:n.touches.currentX,prevY:n.touches.currentY,currentX:c,currentY:d}),r.touchStartTime=hf());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(d<s.startY&&n.translate<=n.maxTranslate()||d>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(c<s.startX&&n.translate<=n.maxTranslate()||c>s.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}if(r.allowTouchCallbacks&&n.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;s.currentX=c,s.currentY=d;const p=s.currentX-s.startX,_=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(p**2+_**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let A;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:p*p+_*_>=25&&(A=Math.atan2(Math.abs(_),Math.abs(p))*180/Math.PI,r.isScrolling=n.isHorizontal()?A>i.touchAngle:90-A>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||n.zoom&&n.params.zoom&&n.params.zoom.enabled&&r.evCache.length>1){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let y=n.isHorizontal()?p:_,E=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(y=Math.abs(y)*(o?1:-1),E=Math.abs(E)*(o?1:-1)),s.diff=y,y*=i.touchRatio,o&&(y=-y,E=-E);const m=n.touchesDirection;n.swipeDirection=y>0?"prev":"next",n.touchesDirection=E>0?"prev":"next";const h=n.params.loop&&!i.cssMode;if(!r.isMoved){if(h&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const A=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(A)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}let v;r.isMoved&&m!==n.touchesDirection&&h&&Math.abs(y)>=1&&(n.loopFix({direction:n.swipeDirection,setTranslate:!0}),v=!0),n.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=y+r.startTranslate;let g=!0,w=i.resistanceRatio;if(i.touchReleaseOnEdges&&(w=0),y>0?(h&&!v&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.size/2:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(g=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+y)**w))):y<0&&(h&&!v&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.size/2:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(g=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-y)**w))),g&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(y)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function G7(t){const e=this,n=e.touchEventsData,r=n.evCache.findIndex(v=>v.pointerId===t.pointerId);if(r>=0&&n.evCache.splice(r,1),["pointercancel","pointerout","pointerleave"].includes(t.type)&&!(t.type==="pointercancel"&&(e.browser.isSafari||e.browser.isWebView)))return;const{params:i,touches:s,rtlTranslate:o,slidesGrid:a,enabled:l}=e;if(!l||!i.simulateTouch&&t.pointerType==="mouse")return;let u=t;if(u.originalEvent&&(u=u.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",u),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&i.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}i.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=hf(),c=f-n.touchStartTime;if(e.allowClick){const v=u.path||u.composedPath&&u.composedPath();e.updateClickedSlide(v&&v[0]||u.target),e.emit("tap click",u),c<300&&f-n.lastClickTime<300&&e.emit("doubleTap doubleClick",u)}if(n.lastClickTime=hf(),Cm(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||s.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let d;if(i.followFinger?d=o?e.translate:-e.translate:d=-n.currentTranslate,i.cssMode)return;if(i.freeMode&&i.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:d});return}let p=0,_=e.slidesSizesGrid[0];for(let v=0;v<a.length;v+=v<i.slidesPerGroupSkip?1:i.slidesPerGroup){const g=v<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof a[v+g]<"u"?d>=a[v]&&d<a[v+g]&&(p=v,_=a[v+g]-a[v]):d>=a[v]&&(p=v,_=a[a.length-1]-a[a.length-2])}let y=null,E=null;i.rewind&&(e.isBeginning?E=i.virtual&&i.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(y=0));const m=(d-a[p])/_,h=p<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(c>i.longSwipesMs){if(!i.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(m>=i.longSwipesRatio?e.slideTo(i.rewind&&e.isEnd?y:p+h):e.slideTo(p)),e.swipeDirection==="prev"&&(m>1-i.longSwipesRatio?e.slideTo(p+h):E!==null&&m<0&&Math.abs(m)>i.longSwipesRatio?e.slideTo(E):e.slideTo(p))}else{if(!i.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(u.target===e.navigation.nextEl||u.target===e.navigation.prevEl)?u.target===e.navigation.nextEl?e.slideTo(p+h):e.slideTo(p):(e.swipeDirection==="next"&&e.slideTo(y!==null?y:p+h),e.swipeDirection==="prev"&&e.slideTo(E!==null?E:p))}}function _0(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function K7(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Q7(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function X7(t){const e=this;Ic(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}let E0=!1;function Y7(){}const U2=(t,e)=>{const n=Ns(),{params:r,el:i,wrapperEl:s,device:o}=t,a=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",u=e;i[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[l]("click",t.onClick,!0),r.cssMode&&s[l]("scroll",t.onScroll),r.updateOnWindowResize?t[u](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",_0,!0):t[u]("observerUpdate",_0,!0),i[l]("load",t.onLoad,{capture:!0})};function J7(){const t=this,e=Ns(),{params:n}=t;t.onTouchStart=H7.bind(t),t.onTouchMove=W7.bind(t),t.onTouchEnd=G7.bind(t),n.cssMode&&(t.onScroll=Q7.bind(t)),t.onClick=K7.bind(t),t.onLoad=X7.bind(t),E0||(e.addEventListener("touchstart",Y7),E0=!0),U2(t,"on")}function Z7(){U2(this,"off")}var e8={attachEvents:J7,detachEvents:Z7};const w0=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function t8(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=t.getBreakpoint(s,t.params.breakpointsBase,t.el);if(!o||t.currentBreakpoint===o)return;const l=(o in s?s[o]:void 0)||t.originalParams,u=w0(t,r),f=w0(t,l),c=r.enabled;u&&!f?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!u&&f&&(i.classList.add(`${r.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(y=>{if(typeof l[y]>"u")return;const E=r[y]&&r[y].enabled,m=l[y]&&l[y].enabled;E&&!m&&t[y].disable(),!E&&m&&t[y].enable()});const d=l.direction&&l.direction!==r.direction,p=r.loop&&(l.slidesPerView!==r.slidesPerView||d);d&&n&&t.changeDirection(),mn(t.params,l);const _=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),c&&!_?t.disable():!c&&_&&t.enable(),t.currentBreakpoint=o,t.emit("_beforeBreakpoint",l),p&&n&&(t.loopDestroy(),t.loopCreate(e),t.updateSlides()),t.emit("breakpoint",l)}function n8(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const i=In(),s=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:u}=o[a];e==="window"?i.matchMedia(`(min-width: ${u}px)`).matches&&(r=l):u<=n.clientWidth&&(r=l)}return r||"max"}var r8={setBreakpoint:t8,getBreakpoint:n8};function i8(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function s8(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,o=i8(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function o8(){const t=this,{el:e,classNames:n}=t;e.classList.remove(...n),t.emitContainerClasses()}var a8={addClasses:s8,removeClasses:o8};function l8(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var u8={checkOverflow:l8},T0={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function c8(t,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){mn(e,r);return}if(["navigation","pagination","scrollbar"].indexOf(i)>=0&&t[i]===!0&&(t[i]={auto:!0}),!(i in t&&"enabled"in s)){mn(e,r);return}t[i]===!0&&(t[i]={enabled:!0}),typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),mn(e,r)}}const Gh={eventsEmitter:a7,update:y7,translate:A7,transition:k7,slide:D7,loop:B7,grabCursor:z7,events:e8,breakpoints:r8,checkOverflow:u8,classes:a8},Kh={};let Cl=class Tr{constructor(){let e,n;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=mn({},n),e&&!n.el&&(n.el=e);const o=Ns();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const f=[];return o.querySelectorAll(n.el).forEach(c=>{const d=mn({},n,{el:c});f.push(new Tr(d))}),f}const a=this;a.__swiper__=!0,a.support=V2(),a.device=n7({userAgent:n.userAgent}),a.browser=i7(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(f=>{f({params:n,swiper:a,extendParams:c8(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const u=mn({},T0,l);return a.params=mn({},u,Kh,n),a.originalParams=mn({},a.params),a.passedParams=mn({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(f=>{a.on(f,a.params.on[f])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=ar(n,`.${r.slideClass}, swiper-slide`),s=pf(i[0]);return pf(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=ar(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),o=(r.maxTranslate()-i)*e+i;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:u}=r;let f=1;if(i.centeredSlides){let c=s[u]?s[u].swiperSlideSize:0,d;for(let p=u+1;p<s.length;p+=1)s[p]&&!d&&(c+=s[p].swiperSlideSize,f+=1,c>l&&(d=!0));for(let p=u-1;p>=0;p-=1)s[p]&&!d&&(c+=s[p].swiperSlideSize,f+=1,c>l&&(d=!0))}else if(e==="current")for(let c=u+1;c<s.length;c+=1)(n?o[c]+a[c]-o[u]<l:o[c]-o[u]<l)&&(f+=1);else for(let c=u-1;c>=0;c-=1)o[u]-o[c]<l&&(f+=1);return f}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Ic(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):ar(r,i())[0])();return!o&&n.params.createElements&&(o=M2("div",n.params.wrapperClass),r.append(o),ar(r,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||hi(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||hi(r,"direction")==="rtl"),wrongRTL:hi(o,"display")==="-webkit-box"}),!0}init(e){const n=this;return n.initialized||n.mount(e)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents(),[...n.el.querySelectorAll('[loading="lazy"]')].forEach(i=>{i.complete?Ic(n,i):i.addEventListener("load",s=>{Ic(n,s.target)})}),Rm(n),n.initialized=!0,Rm(n),n.emit("init"),n.emit("afterInit")),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:i,el:s,wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s.removeAttribute("style"),o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el.swiper=null,KD(r)),r.destroyed=!0),null}static extendDefaults(e){mn(Kh,e)}static get extendedDefaults(){return Kh}static get defaults(){return T0}static installModule(e){Tr.prototype.__modules__||(Tr.prototype.__modules__=[]);const n=Tr.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Tr.installModule(n)),Tr):(Tr.installModule(e),Tr)}};Object.keys(Gh).forEach(t=>{Object.keys(Gh[t]).forEach(e=>{Cl.prototype[e]=Gh[t][e]})});Cl.use([s7,o7]);const B2=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function ys(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function pi(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:ys(e[r])&&ys(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:pi(t[r],e[r]):t[r]=e[r]})}function j2(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function q2(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function z2(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function $2(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function f8(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function d8(t){let{swiper:e,slides:n,passedParams:r,changedParams:i,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const u=i.filter(k=>k!=="children"&&k!=="direction"&&k!=="wrapperClass"),{params:f,pagination:c,navigation:d,scrollbar:p,virtual:_,thumbs:y}=e;let E,m,h,v,g,w,A,S;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&f.thumbs&&!f.thumbs.swiper&&(E=!0),i.includes("controller")&&r.controller&&r.controller.control&&f.controller&&!f.controller.control&&(m=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(f.pagination||f.pagination===!1)&&c&&!c.el&&(h=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(f.scrollbar||f.scrollbar===!1)&&p&&!p.el&&(v=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||s)&&(f.navigation||f.navigation===!1)&&d&&!d.prevEl&&!d.nextEl&&(g=!0);const I=k=>{e[k]&&(e[k].destroy(),k==="navigation"?(e.isElement&&(e[k].prevEl.remove(),e[k].nextEl.remove()),f[k].prevEl=void 0,f[k].nextEl=void 0,e[k].prevEl=void 0,e[k].nextEl=void 0):(e.isElement&&e[k].el.remove(),f[k].el=void 0,e[k].el=void 0))};i.includes("loop")&&e.isElement&&(f.loop&&!r.loop?w=!0:!f.loop&&r.loop?A=!0:S=!0),u.forEach(k=>{if(ys(f[k])&&ys(r[k]))pi(f[k],r[k]),(k==="navigation"||k==="pagination"||k==="scrollbar")&&"enabled"in r[k]&&!r[k].enabled&&I(k);else{const C=r[k];(C===!0||C===!1)&&(k==="navigation"||k==="pagination"||k==="scrollbar")?C===!1&&I(k):f[k]=r[k]}}),u.includes("controller")&&!m&&e.controller&&e.controller.control&&f.controller&&f.controller.control&&(e.controller.control=f.controller.control),i.includes("children")&&n&&_&&f.virtual.enabled&&(_.slides=n,_.update(!0)),i.includes("children")&&n&&f.loop&&(S=!0),E&&y.init()&&y.update(!0),m&&(e.controller.control=f.controller.control),h&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),e.el.appendChild(l)),l&&(f.pagination.el=l),c.init(),c.render(),c.update()),v&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),e.el.appendChild(a)),a&&(f.scrollbar.el=a),p.init(),p.updateSize(),p.setTranslate()),g&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.nextButtonSvg,e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),s.innerHTML=e.hostEl.prevButtonSvg,e.el.appendChild(o))),s&&(f.navigation.nextEl=s),o&&(f.navigation.prevEl=o),d.init(),d.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(w||S)&&e.loopDestroy(),(A||S)&&e.loopCreate(),e.update()}function h8(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},i={};pi(n,Cl.defaults),pi(n,Cl.extendedDefaults),n._emitClasses=!0,n.init=!1;const s={},o=B2.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?ys(t[l])?(n[l]={},i[l]={},pi(n[l],t[l]),pi(i[l],t[l])):(n[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:s[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:i,rest:s,events:r}}function p8(t,e){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:o,swiper:a}=t;j2(e)&&r&&i&&(a.params.navigation.nextEl=r,a.originalParams.navigation.nextEl=r,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),q2(e)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),z2(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function m8(t,e,n,r,i){const s=[];if(!e)return s;const o=l=>{s.indexOf(l)<0&&s.push(l)};if(n&&r){const l=r.map(i),u=n.map(i);l.join("")!==u.join("")&&o("children"),r.length!==n.length&&o("children")}return B2.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(ys(t[l])&&ys(e[l])){const u=Object.keys(t[l]),f=Object.keys(e[l]);u.length!==f.length?o(l):(u.forEach(c=>{t[l][c]!==e[l][c]&&o(l)}),f.forEach(c=>{t[l][c]!==e[l][c]&&o(l)}))}else t[l]!==e[l]&&o(l)}),s}const g8=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mf.apply(this,arguments)}function H2(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function W2(t){const e=[];return we.Children.toArray(t).forEach(n=>{H2(n)?e.push(n):n.props&&n.props.children&&W2(n.props.children).forEach(r=>e.push(r))}),e}function v8(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return we.Children.toArray(t).forEach(r=>{if(H2(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=W2(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function y8(t,e,n){if(!n)return null;const r=f=>{let c=f;return f<0?c=e.length+f:c>=e.length&&(c=c-e.length),c},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:o}=n,a=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,u=[];for(let f=a;f<l;f+=1)f>=s&&f<=o&&u.push(e[r(f)]);return u.map((f,c)=>we.cloneElement(f,{swiper:t,style:i,key:`slide-${c}`}))}function Ja(t,e){return typeof window>"u"?Y.useEffect(t,e):Y.useLayoutEffect(t,e)}const S0=Y.createContext(null),_8=Y.createContext(null),G2=Y.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:s,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[u,f]=Y.useState("swiper"),[c,d]=Y.useState(null),[p,_]=Y.useState(!1),y=Y.useRef(!1),E=Y.useRef(null),m=Y.useRef(null),h=Y.useRef(null),v=Y.useRef(null),g=Y.useRef(null),w=Y.useRef(null),A=Y.useRef(null),S=Y.useRef(null),{params:I,passedParams:k,rest:C,events:T}=h8(a),{slides:b,slots:R}=v8(s),O=()=>{_(!p)};Object.assign(I.on,{_containerClasses(F,P){f(P)}});const D=()=>{Object.assign(I.on,T),l=!0;const F={...I};if(delete F.wrapperClass,m.current=new Cl(F),m.current.virtual&&m.current.params.virtual.enabled){m.current.virtual.slides=b;const P={cache:!1,slides:b,renderExternal:d,renderExternalUpdate:!1};pi(m.current.params.virtual,P),pi(m.current.originalParams.virtual,P)}};E.current||D(),m.current&&m.current.on("_beforeBreakpoint",O);const B=()=>{l||!T||!m.current||Object.keys(T).forEach(F=>{m.current.on(F,T[F])})},q=()=>{!T||!m.current||Object.keys(T).forEach(F=>{m.current.off(F,T[F])})};Y.useEffect(()=>()=>{m.current&&m.current.off("_beforeBreakpoint",O)}),Y.useEffect(()=>{!y.current&&m.current&&(m.current.emitSlidesClasses(),y.current=!0)}),Ja(()=>{if(e&&(e.current=E.current),!!E.current)return m.current.destroyed&&D(),p8({el:E.current,nextEl:g.current,prevEl:w.current,paginationEl:A.current,scrollbarEl:S.current,swiper:m.current},I),o&&o(m.current),()=>{m.current&&!m.current.destroyed&&m.current.destroy(!0,!1)}},[]),Ja(()=>{B();const F=m8(k,h.current,b,v.current,P=>P.key);return h.current=k,v.current=b,F.length&&m.current&&!m.current.destroyed&&d8({swiper:m.current,slides:b,passedParams:k,changedParams:F,nextEl:g.current,prevEl:w.current,scrollbarEl:S.current,paginationEl:A.current}),()=>{q()}}),Ja(()=>{g8(m.current)},[c]);function $(){return I.virtual?y8(m.current,b,c):b.map((F,P)=>we.cloneElement(F,{swiper:m.current,swiperSlideIndex:P}))}return we.createElement(r,mf({ref:E,className:$2(`${u}${n?` ${n}`:""}`)},C),we.createElement(_8.Provider,{value:m.current},R["container-start"],we.createElement(i,{className:f8(I.wrapperClass)},R["wrapper-start"],$(),R["wrapper-end"]),j2(I)&&we.createElement(we.Fragment,null,we.createElement("div",{ref:w,className:"swiper-button-prev"}),we.createElement("div",{ref:g,className:"swiper-button-next"})),z2(I)&&we.createElement("div",{ref:S,className:"swiper-scrollbar"}),q2(I)&&we.createElement("div",{ref:A,className:"swiper-pagination"}),R["container-end"]))});G2.displayName="Swiper";const bc=Y.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:s,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:u,...f}=t===void 0?{}:t;const c=Y.useRef(null),[d,p]=Y.useState("swiper-slide"),[_,y]=Y.useState(!1);function E(g,w,A){w===c.current&&p(A)}Ja(()=>{if(typeof u<"u"&&(c.current.swiperSlideIndex=u),e&&(e.current=c.current),!(!c.current||!s)){if(s.destroyed){d!=="swiper-slide"&&p("swiper-slide");return}return s.on("_slideClass",E),()=>{s&&s.off("_slideClass",E)}}}),Ja(()=>{s&&c.current&&!s.destroyed&&p(s.getSlideClasses(c.current))},[s]);const m={isActive:d.indexOf("swiper-slide-active")>=0,isVisible:d.indexOf("swiper-slide-visible")>=0,isPrev:d.indexOf("swiper-slide-prev")>=0,isNext:d.indexOf("swiper-slide-next")>=0},h=()=>typeof r=="function"?r(m):r,v=()=>{y(!0)};return we.createElement(n,mf({ref:c,className:$2(`${d}${i?` ${i}`:""}`),"data-swiper-slide-index":l,onLoad:v},f),o&&we.createElement(S0.Provider,{value:m},we.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},h(),a&&!_&&we.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&we.createElement(S0.Provider,{value:m},h(),a&&!_&&we.createElement("div",{className:"swiper-lazy-preloader"})))});bc.displayName="SwiperSlide";function K2(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=ar(t.el,`.${r[i]}`)[0];s||(s=M2("div",r[i]),s.className=r[i],t.el.append(s)),n[i]=s,e[i]=s}}),n}function E8(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const s=y=>(Array.isArray(y)||(y=[y].filter(E=>!!E)),y);function o(y){let E;return y&&typeof y=="string"&&e.isElement&&(E=e.el.querySelector(y),E)?E:(y&&(typeof y=="string"&&(E=[...document.querySelectorAll(y)]),e.params.uniqueNavElements&&typeof y=="string"&&E.length>1&&e.el.querySelectorAll(y).length===1&&(E=e.el.querySelector(y))),y&&!E?y:E)}function a(y,E){const m=e.params.navigation;y=s(y),y.forEach(h=>{h&&(h.classList[E?"add":"remove"](...m.disabledClass.split(" ")),h.tagName==="BUTTON"&&(h.disabled=E),e.params.watchOverflow&&e.enabled&&h.classList[e.isLocked?"add":"remove"](m.lockClass))})}function l(){const{nextEl:y,prevEl:E}=e.navigation;if(e.params.loop){a(E,!1),a(y,!1);return}a(E,e.isBeginning&&!e.params.rewind),a(y,e.isEnd&&!e.params.rewind)}function u(y){y.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function f(y){y.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function c(){const y=e.params.navigation;if(e.params.navigation=K2(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(y.nextEl||y.prevEl))return;let E=o(y.nextEl),m=o(y.prevEl);Object.assign(e.navigation,{nextEl:E,prevEl:m}),E=s(E),m=s(m);const h=(v,g)=>{v&&v.addEventListener("click",g==="next"?f:u),!e.enabled&&v&&v.classList.add(...y.lockClass.split(" "))};E.forEach(v=>h(v,"next")),m.forEach(v=>h(v,"prev"))}function d(){let{nextEl:y,prevEl:E}=e.navigation;y=s(y),E=s(E);const m=(h,v)=>{h.removeEventListener("click",v==="next"?f:u),h.classList.remove(...e.params.navigation.disabledClass.split(" "))};y.forEach(h=>m(h,"next")),E.forEach(h=>m(h,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?_():(c(),l())}),r("toEdge fromEdge lock unlock",()=>{l()}),r("destroy",()=>{d()}),r("enable disable",()=>{let{nextEl:y,prevEl:E}=e.navigation;y=s(y),E=s(E),[...y,...E].filter(m=>!!m).forEach(m=>m.classList[e.enabled?"remove":"add"](e.params.navigation.lockClass))}),r("click",(y,E)=>{let{nextEl:m,prevEl:h}=e.navigation;m=s(m),h=s(h);const v=E.target;if(e.params.navigation.hideOnClick&&!h.includes(v)&&!m.includes(v)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===v||e.pagination.el.contains(v)))return;let g;m.length?g=m[0].classList.contains(e.params.navigation.hiddenClass):h.length&&(g=h[0].classList.contains(e.params.navigation.hiddenClass)),i(g===!0?"navigationShow":"navigationHide"),[...m,...h].filter(w=>!!w).forEach(w=>w.classList.toggle(e.params.navigation.hiddenClass))}});const p=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),c(),l()},_=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:p,disable:_,update:l,init:c,destroy:d})}function Aa(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function w8(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:h=>h,formatFractionTotal:h=>h,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;const l=h=>(Array.isArray(h)||(h=[h].filter(v=>!!v)),h);function u(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function f(h,v){const{bulletActiveClass:g}=e.params.pagination;h&&(h=h[`${v==="prev"?"previous":"next"}ElementSibling`],h&&(h.classList.add(`${g}-${v}`),h=h[`${v==="prev"?"previous":"next"}ElementSibling`],h&&h.classList.add(`${g}-${v}-${v}`)))}function c(h){const v=h.target.closest(Aa(e.params.pagination.bulletClass));if(!v)return;h.preventDefault();const g=pf(v)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===g)return;const w=e.getSlideIndexByData(g),A=e.getSlideIndexByData(e.realIndex);w>e.slides.length-e.loopedSlides&&e.loopFix({direction:w>A?"next":"prev",activeSlideIndex:w,slideTo:!1}),e.slideToLoop(g)}else e.slideTo(g)}function d(){const h=e.rtl,v=e.params.pagination;if(u())return;let g=e.pagination.el;g=l(g);let w,A;const S=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,I=e.params.loop?Math.ceil(S/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(A=e.previousRealIndex||0,w=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(w=e.snapIndex,A=e.previousSnapIndex):(A=e.previousIndex||0,w=e.activeIndex||0),v.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const k=e.pagination.bullets;let C,T,b;if(v.dynamicBullets&&(o=km(k[0],e.isHorizontal()?"width":"height",!0),g.forEach(R=>{R.style[e.isHorizontal()?"width":"height"]=`${o*(v.dynamicMainBullets+4)}px`}),v.dynamicMainBullets>1&&A!==void 0&&(a+=w-(A||0),a>v.dynamicMainBullets-1?a=v.dynamicMainBullets-1:a<0&&(a=0)),C=Math.max(w-a,0),T=C+(Math.min(k.length,v.dynamicMainBullets)-1),b=(T+C)/2),k.forEach(R=>{const O=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(D=>`${v.bulletActiveClass}${D}`)].map(D=>typeof D=="string"&&D.includes(" ")?D.split(" "):D).flat();R.classList.remove(...O)}),g.length>1)k.forEach(R=>{const O=pf(R);O===w?R.classList.add(...v.bulletActiveClass.split(" ")):e.isElement&&R.setAttribute("part","bullet"),v.dynamicBullets&&(O>=C&&O<=T&&R.classList.add(...`${v.bulletActiveClass}-main`.split(" ")),O===C&&f(R,"prev"),O===T&&f(R,"next"))});else{const R=k[w];if(R&&R.classList.add(...v.bulletActiveClass.split(" ")),e.isElement&&k.forEach((O,D)=>{O.setAttribute("part",D===w?"bullet-active":"bullet")}),v.dynamicBullets){const O=k[C],D=k[T];for(let B=C;B<=T;B+=1)k[B]&&k[B].classList.add(...`${v.bulletActiveClass}-main`.split(" "));f(O,"prev"),f(D,"next")}}if(v.dynamicBullets){const R=Math.min(k.length,v.dynamicMainBullets+4),O=(o*R-o)/2-b*o,D=h?"right":"left";k.forEach(B=>{B.style[e.isHorizontal()?D:"top"]=`${O}px`})}}g.forEach((k,C)=>{if(v.type==="fraction"&&(k.querySelectorAll(Aa(v.currentClass)).forEach(T=>{T.textContent=v.formatFractionCurrent(w+1)}),k.querySelectorAll(Aa(v.totalClass)).forEach(T=>{T.textContent=v.formatFractionTotal(I)})),v.type==="progressbar"){let T;v.progressbarOpposite?T=e.isHorizontal()?"vertical":"horizontal":T=e.isHorizontal()?"horizontal":"vertical";const b=(w+1)/I;let R=1,O=1;T==="horizontal"?R=b:O=b,k.querySelectorAll(Aa(v.progressbarFillClass)).forEach(D=>{D.style.transform=`translate3d(0,0,0) scaleX(${R}) scaleY(${O})`,D.style.transitionDuration=`${e.params.speed}ms`})}v.type==="custom"&&v.renderCustom?(k.innerHTML=v.renderCustom(e,w+1,I),C===0&&i("paginationRender",k)):(C===0&&i("paginationRender",k),i("paginationUpdate",k)),e.params.watchOverflow&&e.enabled&&k.classList[e.isLocked?"add":"remove"](v.lockClass)})}function p(){const h=e.params.pagination;if(u())return;const v=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length;let g=e.pagination.el;g=l(g);let w="";if(h.type==="bullets"){let A=e.params.loop?Math.ceil(v/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&A>v&&(A=v);for(let S=0;S<A;S+=1)h.renderBullet?w+=h.renderBullet.call(e,S,h.bulletClass):w+=`<${h.bulletElement} ${e.isElement?'part="bullet"':""} class="${h.bulletClass}"></${h.bulletElement}>`}h.type==="fraction"&&(h.renderFraction?w=h.renderFraction.call(e,h.currentClass,h.totalClass):w=`<span class="${h.currentClass}"></span> / <span class="${h.totalClass}"></span>`),h.type==="progressbar"&&(h.renderProgressbar?w=h.renderProgressbar.call(e,h.progressbarFillClass):w=`<span class="${h.progressbarFillClass}"></span>`),e.pagination.bullets=[],g.forEach(A=>{h.type!=="custom"&&(A.innerHTML=w||""),h.type==="bullets"&&e.pagination.bullets.push(...A.querySelectorAll(Aa(h.bulletClass)))}),h.type!=="custom"&&i("paginationRender",g[0])}function _(){e.params.pagination=K2(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const h=e.params.pagination;if(!h.el)return;let v;typeof h.el=="string"&&e.isElement&&(v=e.el.querySelector(h.el)),!v&&typeof h.el=="string"&&(v=[...document.querySelectorAll(h.el)]),v||(v=h.el),!(!v||v.length===0)&&(e.params.uniqueNavElements&&typeof h.el=="string"&&Array.isArray(v)&&v.length>1&&(v=[...e.el.querySelectorAll(h.el)],v.length>1&&(v=v.filter(g=>D2(g,".swiper")[0]===e.el)[0])),Array.isArray(v)&&v.length===1&&(v=v[0]),Object.assign(e.pagination,{el:v}),v=l(v),v.forEach(g=>{h.type==="bullets"&&h.clickable&&g.classList.add(h.clickableClass),g.classList.add(h.modifierClass+h.type),g.classList.add(e.isHorizontal()?h.horizontalClass:h.verticalClass),h.type==="bullets"&&h.dynamicBullets&&(g.classList.add(`${h.modifierClass}${h.type}-dynamic`),a=0,h.dynamicMainBullets<1&&(h.dynamicMainBullets=1)),h.type==="progressbar"&&h.progressbarOpposite&&g.classList.add(h.progressbarOppositeClass),h.clickable&&g.addEventListener("click",c),e.enabled||g.classList.add(h.lockClass)}))}function y(){const h=e.params.pagination;if(u())return;let v=e.pagination.el;v&&(v=l(v),v.forEach(g=>{g.classList.remove(h.hiddenClass),g.classList.remove(h.modifierClass+h.type),g.classList.remove(e.isHorizontal()?h.horizontalClass:h.verticalClass),h.clickable&&g.removeEventListener("click",c)})),e.pagination.bullets&&e.pagination.bullets.forEach(g=>g.classList.remove(...h.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const h=e.params.pagination;let{el:v}=e.pagination;v=l(v),v.forEach(g=>{g.classList.remove(h.horizontalClass,h.verticalClass),g.classList.add(e.isHorizontal()?h.horizontalClass:h.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?m():(_(),p(),d())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&d()}),r("snapIndexChange",()=>{d()}),r("snapGridLengthChange",()=>{p(),d()}),r("destroy",()=>{y()}),r("enable disable",()=>{let{el:h}=e.pagination;h&&(h=l(h),h.forEach(v=>v.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{d()}),r("click",(h,v)=>{const g=v.target,w=l(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&w&&w.length>0&&!g.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&g===e.navigation.nextEl||e.navigation.prevEl&&g===e.navigation.prevEl))return;const A=w[0].classList.contains(e.params.pagination.hiddenClass);i(A===!0?"paginationShow":"paginationHide"),w.forEach(S=>S.classList.toggle(e.params.pagination.hiddenClass))}});const E=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:h}=e.pagination;h&&(h=l(h),h.forEach(v=>v.classList.remove(e.params.pagination.paginationDisabledClass))),_(),p(),d()},m=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:h}=e.pagination;h&&(h=l(h),h.forEach(v=>v.classList.add(e.params.pagination.paginationDisabledClass))),y()};Object.assign(e.pagination,{enable:E,disable:m,render:p,update:d,init:_,destroy:y})}const T8="_container_659s7_1",S8="_slider_659s7_8",A8="_slider_nav_659s7_12",I8="_slider_nav_pagination_659s7_18",b8="_slider_nav_button_659s7_23",C8="_case_title_659s7_31",k8="_case_subtitle_659s7_42",R8="_case_list_659s7_51",N8="_case_item_659s7_57",O8="_case_image_659s7_82",fe={container:T8,slider:S8,slider_nav:A8,slider_nav_pagination:I8,slider_nav_button:b8,case:"_case_659s7_27",case_title:C8,case_subtitle:k8,case_list:R8,case_item:N8,case_image:O8};const P8=t=>M("section",{className:fe.section,id:"cases",children:G("div",{className:fe.container,children:[M("h2",{className:fe.title,children:" "}),G(G2,{className:fe.slider,slidesPerView:1,modules:[E8,w8],pagination:{el:"[data-selector=casesSliderPagination]",clickable:!0},navigation:{nextEl:"[data-selector=casesSliderNext]",prevEl:"[data-selector=casesSliderPrev]"},"data-aos":"fade-up",children:[M(bc,{className:fe.slide,children:G("div",{className:fe.case,children:[G("div",{className:fe.case_info,children:[M("p",{className:fe.case_title,children:""}),M("p",{className:fe.case_subtitle,children:"   "}),G("ul",{className:fe.case_list,children:[G("li",{className:fe.case_item,children:[" ",M("span",{children:" "}),"   "]}),G("li",{className:fe.case_item,children:[" ",M("span",{children:"   "})," "]}),G("li",{className:fe.case_item,children:[" ",M("span",{children:" "})," "]}),G("li",{className:fe.case_item,children:[" ",M("span",{children:" "}),"    "]}),G("li",{className:fe.case_item,children:[M("span",{children:"  "}),"         "]}),G("li",{className:fe.case_item,children:[M("span",{children:" "}),",  "]})]})]}),M("img",{src:WP,alt:"Case image",className:fe.case_image})]})}),M(bc,{className:fe.slide,children:G("div",{className:fe.case,children:[G("div",{className:fe.case_info,children:[M("p",{className:fe.case_title,children:""}),M("p",{className:fe.case_subtitle,children:"      "}),G("ul",{className:fe.case_list,children:[G("li",{className:fe.case_item,children:[" "," ",M("span",{children:"  "}),"      "]}),G("li",{className:fe.case_item,children:[" ",M("span",{children:" "}),"   "]}),G("li",{className:fe.case_item,children:["    "," ",M("span",{children:" "}),"   "]}),G("li",{className:fe.case_item,children:[M("span",{children:""}),"   (  )"]}),G("li",{className:fe.case_item,children:[" ",M("span",{children:" "}),"    "]}),G("li",{className:fe.case_item,children:[" ",M("span",{children:" "}),"    "]}),G("li",{className:fe.case_item,children:["  - , "," ",M("span",{children:"   "})," "]})]})]}),M("img",{src:GP,alt:"Case image",className:fe.case_image})]})}),M(bc,{className:fe.slide,children:G("div",{className:fe.case,children:[G("div",{className:fe.case_info,children:[M("p",{className:fe.case_title,children:""}),M("p",{className:fe.case_subtitle,children:"  .      ?  .      ?"}),G("ul",{className:fe.case_list,children:[G("li",{className:fe.case_item,children:[" "," ",M("span",{children:"  "})]}),M("li",{className:fe.case_item,children:"     "}),G("li",{className:fe.case_item,children:["  ",M("span",{children:" "})]}),G("li",{className:fe.case_item,children:["  ",M("span",{children:" "}),"   "]}),G("li",{className:fe.case_item,children:["          ",M("span",{children:" "})]}),G("li",{className:fe.case_item,children:[" ,  ",M("span",{children:""})]}),M("li",{className:fe.case_item,children:"    ()"})]})]}),M("img",{src:KP,alt:"Case image",className:fe.case_image})]})})]}),G("div",{className:fe.slider_nav,children:[M("button",{"data-selector":"casesSliderPrev",className:fe.slider_nav_button,children:M(NP,{size:32})}),M("div",{className:fe.slider_nav_pagination,"data-selector":"casesSliderPagination"}),M("button",{"data-selector":"casesSliderNext",className:fe.slider_nav_button,children:M(OP,{size:32})})]})]})});const x8=()=>(Y.useEffect(()=>{const t=document.createElement("script");t.src="https://cdn-ru.bitrix24.ru/b12896033/crm/form/loader_15.js",t.async=!0,t.setAttribute("data-b24-form","inline/15/747ktj"),t.setAttribute("data-skip-moving","true");const e=document.getElementsByTagName("script")[0];if(e.parentNode)return e.parentNode.insertBefore(t,e),()=>{e.parentNode&&e.parentNode.removeChild(t)}},[]),M("section",{id:"form",children:M("div",{className:"formBit",id:"bitrix-form",children:M("div",{dangerouslySetInnerHTML:{__html:`
        <script data-b24-form="inline/15/747ktj" data-skip-moving="true">
        (function(w,d,u){
          var s=d.createElement('script');s.async=true;s.src=u+'?'+(Date.now()/180000|0);
          var h=d.getElementsByTagName('script')[0];h.parentNode.insertBefore(s,h);
        })(window,document,'https://cdn-ru.bitrix24.ru/b12896033/crm/form/loader_15.js');
        <\/script>
      `}})})})),L8=t=>G("main",{children:[M(aD,{}),M(fD,{}),M(gD,{}),M(bD,{}),M(LD,{}),M(WD,{}),M(P8,{}),M(x8,{})]}),M8="_container_15gp4_1",D8="_title_15gp4_8",V8="_headerGroup_15gp4_27",F8="_postsGrid_15gp4_33",U8="_post_15gp4_33",B8="_post_article_15gp4_62",j8="_post_container_15gp4_65",q8="_post_image_15gp4_71",z8="_post_content_15gp4_79",$8="_post_title_15gp4_86",H8="_post_text_15gp4_91",W8="_loader_15gp4_98",G8="_addPostButton_15gp4_102",gn={container:M8,title:D8,headerGroup:V8,postsGrid:F8,post:U8,post_article:B8,post_container:j8,post_image:q8,post_content:z8,post_title:$8,post_text:H8,loader:W8,addPostButton:G8};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne=function(t,e){if(!t)throw Zo(e)},Zo=function(t){return new Error("Firebase Database ("+Q2.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},K8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Iv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=s>>2,c=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(d=64)),r.push(n[f],n[c],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(X2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):K8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||c==null)throw new Q8;const d=s<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),c!==64){const _=u<<6&192|c;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Q8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y2=function(t){const e=X2(t);return Iv.encodeByteArray(e,!0)},gf=function(t){return Y2(t).replace(/\./g,"")},vf=function(t){try{return Iv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(t){return J2(void 0,t)}function J2(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Y8(n)||(t[n]=J2(t[n],e[n]));return t}function Y8(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8=()=>J8().__FIREBASE_DEFAULTS__,eV=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vf(t[1]);return e&&JSON.parse(e)},Td=()=>{try{return Z8()||eV()||tV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Z2=t=>{var e,n;return(n=(e=Td())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bv=t=>{const e=Z2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eA=()=>{var t;return(t=Td())===null||t===void 0?void 0:t.config},tA=t=>{var e;return(e=Td())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[gf(JSON.stringify(n)),gf(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function nV(){var t;const e=(t=Td())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iV(){const t=Xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rA(){return Q2.NODE_ADMIN===!0}function sV(){try{return typeof indexedDB=="object"}catch{return!1}}function oV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV="FirebaseError";class yr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aV,Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?lV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new yr(i,a,r)}}function lV(t,e){return t.replace(uV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const uV=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t){return JSON.parse(t)}function Pt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=kl(vf(s[0])||""),n=kl(vf(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},cV=function(t){const e=iA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},fV=function(t){const e=iA(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function No(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Nm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yf(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function _f(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(A0(s)&&A0(o)){if(!_f(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function A0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Da(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Va(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)r[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const d=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,f;for(let c=0;c<80;c++){c<40?c<20?(u=a^s&(o^a),f=1518500249):(u=s^o^a,f=1859775393):c<60?(u=s&o|a&(s|o),f=2400959708):(u=s^o^a,f=3395469782);const d=(i<<5|i>>>27)+u+l+f+r[c]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function hV(t,e){const n=new pV(t,e);return n.subscribe.bind(n)}class pV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qh),i.error===void 0&&(i.error=Qh),i.complete===void 0&&(i.complete=Qh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qh(){}function gV(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ne(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Sd=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t){return t&&t._delegate?t._delegate:t}class Br{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Cv;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EV(e))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xi){return this.instances.has(e)}getOptions(e=Xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_V(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xi){return this.component?this.component.multipleInstances?e:Xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _V(t){return t===Xi?void 0:t}function EV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const TV={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},SV=Oe.INFO,AV={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},IV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=AV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ad{constructor(e){this.name=e,this._logLevel=SV,this._logHandler=IV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const bV=(t,e)=>e.some(n=>t instanceof n);let I0,b0;function CV(){return I0||(I0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kV(){return b0||(b0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sA=new WeakMap,Om=new WeakMap,oA=new WeakMap,Xh=new WeakMap,Nv=new WeakMap;function RV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ci(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sA.set(n,t)}).catch(()=>{}),Nv.set(e,t),e}function NV(t){if(Om.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Om.set(t,e)}let Pm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Om.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ci(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OV(t){Pm=t(Pm)}function PV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yh(this),e,...n);return oA.set(r,e.sort?e.sort():[e]),Ci(r)}:kV().includes(t)?function(...e){return t.apply(Yh(this),e),Ci(sA.get(this))}:function(...e){return Ci(t.apply(Yh(this),e))}}function xV(t){return typeof t=="function"?PV(t):(t instanceof IDBTransaction&&NV(t),bV(t,CV())?new Proxy(t,Pm):t)}function Ci(t){if(t instanceof IDBRequest)return RV(t);if(Xh.has(t))return Xh.get(t);const e=xV(t);return e!==t&&(Xh.set(t,e),Nv.set(e,t)),e}const Yh=t=>Nv.get(t);function LV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ci(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ci(o.result),l.oldVersion,l.newVersion,Ci(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const MV=["get","getKey","getAll","getAllKeys","count"],DV=["put","add","delete","clear"],Jh=new Map;function C0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jh.get(e))return Jh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=DV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MV.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Jh.set(e,s),s}OV(t=>({...t,get:(e,n,r)=>C0(e,n)||t.get(e,n,r),has:(e,n)=>!!C0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function FV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xm="@firebase/app",k0="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new Ad("@firebase/app"),UV="@firebase/app-compat",BV="@firebase/analytics-compat",jV="@firebase/analytics",qV="@firebase/app-check-compat",zV="@firebase/app-check",$V="@firebase/auth",HV="@firebase/auth-compat",WV="@firebase/database",GV="@firebase/database-compat",KV="@firebase/functions",QV="@firebase/functions-compat",XV="@firebase/installations",YV="@firebase/installations-compat",JV="@firebase/messaging",ZV="@firebase/messaging-compat",eF="@firebase/performance",tF="@firebase/performance-compat",nF="@firebase/remote-config",rF="@firebase/remote-config-compat",iF="@firebase/storage",sF="@firebase/storage-compat",oF="@firebase/firestore",aF="@firebase/firestore-compat",lF="firebase",uF="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="[DEFAULT]",cF={[xm]:"fire-core",[UV]:"fire-core-compat",[jV]:"fire-analytics",[BV]:"fire-analytics-compat",[zV]:"fire-app-check",[qV]:"fire-app-check-compat",[$V]:"fire-auth",[HV]:"fire-auth-compat",[WV]:"fire-rtdb",[GV]:"fire-rtdb-compat",[KV]:"fire-fn",[QV]:"fire-fn-compat",[XV]:"fire-iid",[YV]:"fire-iid-compat",[JV]:"fire-fcm",[ZV]:"fire-fcm-compat",[eF]:"fire-perf",[tF]:"fire-perf-compat",[nF]:"fire-rc",[rF]:"fire-rc-compat",[iF]:"fire-gcs",[sF]:"fire-gcs-compat",[oF]:"fire-fst",[aF]:"fire-fst-compat","fire-js":"fire-js",[lF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef=new Map,Mm=new Map;function fF(t,e){try{t.container.addComponent(e)}catch(n){_s.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Li(t){const e=t.name;if(Mm.has(e))return _s.debug(`There were multiple attempts to register component ${e}.`),!1;Mm.set(e,t);for(const n of Ef.values())fF(n,t);return!0}function nu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ki=new tu("app","Firebase",dF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=uF;function aA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Lm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ki.create("bad-app-name",{appName:String(i)});if(n||(n=eA()),!n)throw ki.create("no-options");const s=Ef.get(i);if(s){if(_f(n,s.options)&&_f(r,s.config))return s;throw ki.create("duplicate-app",{appName:i})}const o=new wV(i);for(const l of Mm.values())o.addComponent(l);const a=new hF(n,r,o);return Ef.set(i,a),a}function Id(t=Lm){const e=Ef.get(t);if(!e&&t===Lm&&eA())return aA();if(!e)throw ki.create("no-app",{appName:t});return e}function Ln(t,e,n){var r;let i=(r=cF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_s.warn(a.join(" "));return}Li(new Br(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF="firebase-heartbeat-database",mF=1,Rl="firebase-heartbeat-store";let Zh=null;function lA(){return Zh||(Zh=LV(pF,mF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Rl)}}}).catch(t=>{throw ki.create("idb-open",{originalErrorMessage:t.message})})),Zh}async function gF(t){try{return await(await lA()).transaction(Rl).objectStore(Rl).get(uA(t))}catch(e){if(e instanceof yr)_s.warn(e.message);else{const n=ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_s.warn(n.message)}}}async function R0(t,e){try{const r=(await lA()).transaction(Rl,"readwrite");await r.objectStore(Rl).put(e,uA(t)),await r.done}catch(n){if(n instanceof yr)_s.warn(n.message);else{const r=ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_s.warn(r.message)}}}function uA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF=1024,yF=30*24*60*60*1e3;class _F{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=N0();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=yF}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=N0(),{heartbeatsToSend:n,unsentEntries:r}=EF(this._heartbeatsCache.heartbeats),i=gf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function N0(){return new Date().toISOString().substring(0,10)}function EF(t,e=vF){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),O0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),O0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class wF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sV()?oV().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await gF(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return R0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return R0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function O0(t){return gf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){Li(new Br("platform-logger",e=>new VV(e),"PRIVATE")),Li(new Br("heartbeat",e=>new _F(e),"PRIVATE")),Ln(xm,k0,t),Ln(xm,k0,"esm2017"),Ln("fire-js","")}TF("");var SF="firebase",AF="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln(SF,AF,"app");var IF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},re,Ov=Ov||{},me=IF||self;function bd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ru(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function bF(t){return Object.prototype.hasOwnProperty.call(t,ep)&&t[ep]||(t[ep]=++CF)}var ep="closure_uid_"+(1e9*Math.random()>>>0),CF=0;function kF(t,e,n){return t.call.apply(t.bind,arguments)}function RF(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Wt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Wt=kF:Wt=RF,Wt.apply(null,arguments)}function Ju(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Rt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Hi(){this.s=this.s,this.o=this.o}var NF=0;Hi.prototype.s=!1;Hi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),NF!=0)&&bF(this)};Hi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const cA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Pv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function P0(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(bd(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Gt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Gt.prototype.h=function(){this.defaultPrevented=!0};var OF=function(){if(!me.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{me.addEventListener("test",()=>{},e),me.removeEventListener("test",()=>{},e)}catch{}return t}();function Nl(t){return/^[\s\xa0]*$/.test(t)}function Cd(){var t=me.navigator;return t&&(t=t.userAgent)?t:""}function or(t){return Cd().indexOf(t)!=-1}function xv(t){return xv[" "](t),t}xv[" "]=function(){};function PF(t,e){var n=AU;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var xF=or("Opera"),Oo=or("Trident")||or("MSIE"),fA=or("Edge"),Dm=fA||Oo,dA=or("Gecko")&&!(Cd().toLowerCase().indexOf("webkit")!=-1&&!or("Edge"))&&!(or("Trident")||or("MSIE"))&&!or("Edge"),LF=Cd().toLowerCase().indexOf("webkit")!=-1&&!or("Edge");function hA(){var t=me.document;return t?t.documentMode:void 0}var Vm;e:{var tp="",np=function(){var t=Cd();if(dA)return/rv:([^\);]+)(\)|;)/.exec(t);if(fA)return/Edge\/([\d\.]+)/.exec(t);if(Oo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(LF)return/WebKit\/(\S+)/.exec(t);if(xF)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(np&&(tp=np?np[1]:""),Oo){var rp=hA();if(rp!=null&&rp>parseFloat(tp)){Vm=String(rp);break e}}Vm=tp}var Fm;if(me.document&&Oo){var x0=hA();Fm=x0||parseInt(Vm,10)||void 0}else Fm=void 0;var MF=Fm;function Ol(t,e){if(Gt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(dA){e:{try{xv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:DF[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ol.$.h.call(this)}}Rt(Ol,Gt);var DF={2:"touch",3:"pen",4:"mouse"};Ol.prototype.h=function(){Ol.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var iu="closure_listenable_"+(1e6*Math.random()|0),VF=0;function FF(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++VF,this.fa=this.ia=!1}function kd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Lv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function UF(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function pA(t){const e={};for(const n in t)e[n]=t[n];return e}const L0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mA(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<L0.length;s++)n=L0[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Rd(t){this.src=t,this.g={},this.h=0}Rd.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Bm(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new FF(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Um(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=cA(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(kd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Bm(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Mv="closure_lm_"+(1e6*Math.random()|0),ip={};function gA(t,e,n,r,i){if(r&&r.once)return yA(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)gA(t,e[s],n,r,i);return null}return n=Fv(n),t&&t[iu]?t.O(e,n,ru(r)?!!r.capture:!!r,i):vA(t,e,n,!1,r,i)}function vA(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ru(i)?!!i.capture:!!i,a=Vv(t);if(a||(t[Mv]=a=new Rd(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=BF(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)OF||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(EA(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function BF(){function t(n){return e.call(t.src,t.listener,n)}const e=jF;return t}function yA(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)yA(t,e[s],n,r,i);return null}return n=Fv(n),t&&t[iu]?t.P(e,n,ru(r)?!!r.capture:!!r,i):vA(t,e,n,!0,r,i)}function _A(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)_A(t,e[s],n,r,i);else r=ru(r)?!!r.capture:!!r,n=Fv(n),t&&t[iu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Bm(s,n,r,i),-1<n&&(kd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Vv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Bm(e,n,r,i)),(n=-1<t?e[t]:null)&&Dv(n))}function Dv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[iu])Um(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(EA(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Vv(e))?(Um(n,t),n.h==0&&(n.src=null,e[Mv]=null)):kd(t)}}}function EA(t){return t in ip?ip[t]:ip[t]="on"+t}function jF(t,e){if(t.fa)t=!0;else{e=new Ol(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Dv(t),t=n.call(r,e)}return t}function Vv(t){return t=t[Mv],t instanceof Rd?t:null}var sp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fv(t){return typeof t=="function"?t:(t[sp]||(t[sp]=function(e){return t.handleEvent(e)}),t[sp])}function kt(){Hi.call(this),this.i=new Rd(this),this.S=this,this.J=null}Rt(kt,Hi);kt.prototype[iu]=!0;kt.prototype.removeEventListener=function(t,e,n,r){_A(this,t,e,n,r)};function Lt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Gt(e,t);else if(e instanceof Gt)e.target=e.target||t;else{var i=e;e=new Gt(r,t),mA(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Zu(o,r,!0,e)&&i}if(o=e.g=t,i=Zu(o,r,!0,e)&&i,i=Zu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Zu(o,r,!1,e)&&i}kt.prototype.N=function(){if(kt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)kd(n[r]);delete t.g[e],t.h--}}this.J=null};kt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};kt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Zu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Um(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Uv=me.JSON.stringify;class qF{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function zF(){var t=Bv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class $F{constructor(){this.h=this.g=null}add(e,n){const r=wA.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var wA=new qF(()=>new HF,t=>t.reset());class HF{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function WF(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function GF(t){me.setTimeout(()=>{throw t},0)}let Pl,xl=!1,Bv=new $F,TA=()=>{const t=me.Promise.resolve(void 0);Pl=()=>{t.then(KF)}};var KF=()=>{for(var t;t=zF();){try{t.h.call(t.g)}catch(n){GF(n)}var e=wA;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}xl=!1};function Nd(t,e){kt.call(this),this.h=t||1,this.g=e||me,this.j=Wt(this.qb,this),this.l=Date.now()}Rt(Nd,kt);re=Nd.prototype;re.ga=!1;re.T=null;re.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Lt(this,"tick"),this.ga&&(jv(this),this.start()))}};re.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function jv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}re.N=function(){Nd.$.N.call(this),jv(this),delete this.g};function qv(t,e,n){if(typeof t=="function")n&&(t=Wt(t,n));else if(t&&typeof t.handleEvent=="function")t=Wt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:me.setTimeout(t,e||0)}function SA(t){t.g=qv(()=>{t.g=null,t.i&&(t.i=!1,SA(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class QF extends Hi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:SA(this)}N(){super.N(),this.g&&(me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ll(t){Hi.call(this),this.h=t,this.g={}}Rt(Ll,Hi);var M0=[];function AA(t,e,n,r){Array.isArray(n)||(n&&(M0[0]=n.toString()),n=M0);for(var i=0;i<n.length;i++){var s=gA(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function IA(t){Lv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Dv(e)},t),t.g={}}Ll.prototype.N=function(){Ll.$.N.call(this),IA(this)};Ll.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Od(){this.g=!0}Od.prototype.Ea=function(){this.g=!1};function XF(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var f=u[0];u=u[1];var c=f.split("_");o=2<=c.length&&c[1]=="type"?o+(f+"="+u+"&"):o+(f+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function YF(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function no(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+ZF(t,n)+(r?" "+r:"")})}function JF(t,e){t.info(function(){return"TIMEOUT: "+e})}Od.prototype.info=function(){};function ZF(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Uv(n)}catch{return e}}var Os={},D0=null;function Pd(){return D0=D0||new kt}Os.Ta="serverreachability";function bA(t){Gt.call(this,Os.Ta,t)}Rt(bA,Gt);function Ml(t){const e=Pd();Lt(e,new bA(e))}Os.STAT_EVENT="statevent";function CA(t,e){Gt.call(this,Os.STAT_EVENT,t),this.stat=e}Rt(CA,Gt);function en(t){const e=Pd();Lt(e,new CA(e,t))}Os.Ua="timingevent";function kA(t,e){Gt.call(this,Os.Ua,t),this.size=e}Rt(kA,Gt);function su(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return me.setTimeout(function(){t()},e)}var xd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},RA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function zv(){}zv.prototype.h=null;function V0(t){return t.h||(t.h=t.i())}function NA(){}var ou={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $v(){Gt.call(this,"d")}Rt($v,Gt);function Hv(){Gt.call(this,"c")}Rt(Hv,Gt);var jm;function Ld(){}Rt(Ld,zv);Ld.prototype.g=function(){return new XMLHttpRequest};Ld.prototype.i=function(){return{}};jm=new Ld;function au(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ll(this),this.P=eU,t=Dm?125:void 0,this.V=new Nd(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new OA}function OA(){this.i=null,this.g="",this.h=!1}var eU=45e3,qm={},wf={};re=au.prototype;re.setTimeout=function(t){this.P=t};function zm(t,e,n){t.L=1,t.v=Dd(jr(e)),t.s=n,t.S=!0,PA(t,null)}function PA(t,e){t.G=Date.now(),lu(t),t.A=jr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),BA(n.i,"t",r),t.C=0,n=t.l.J,t.h=new OA,t.g=aI(t.l,n?e:null,!t.s),0<t.O&&(t.M=new QF(Wt(t.Pa,t,t.g),t.O)),AA(t.U,t.g,"readystatechange",t.nb),e=t.I?pA(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ml(),XF(t.j,t.u,t.A,t.m,t.W,t.s)}re.nb=function(t){t=t.target;const e=this.M;e&&lr(t)==3?e.l():this.Pa(t)};re.Pa=function(t){try{if(t==this.g)e:{const f=lr(this.g);var e=this.g.Ia();const c=this.g.da();if(!(3>f)&&(f!=3||Dm||this.g&&(this.h.h||this.g.ja()||j0(this.g)))){this.J||f!=4||e==7||(e==8||0>=c?Ml(3):Ml(2)),Md(this);var n=this.g.da();this.ca=n;t:if(xA(this)){var r=j0(this.g);t="";var i=r.length,s=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ns(this),Za(this);var o="";break t}this.h.i=new me.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,YF(this.j,this.u,this.A,this.m,this.W,f,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nl(a)){var u=a;break t}}u=null}if(n=u)no(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$m(this,n);else{this.i=!1,this.o=3,en(12),ns(this),Za(this);break e}}this.S?(LA(this,f,o),Dm&&this.i&&f==3&&(AA(this.U,this.V,"tick",this.mb),this.V.start())):(no(this.j,this.m,o,null),$m(this,o)),f==4&&ns(this),this.i&&!this.J&&(f==4?rI(this.l,this):(this.i=!1,lu(this)))}else wU(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,en(12)):(this.o=0,en(13)),ns(this),Za(this)}}}catch{}finally{}};function xA(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function LA(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=tU(t,n),i==wf){e==4&&(t.o=4,en(14),r=!1),no(t.j,t.m,null,"[Incomplete Response]");break}else if(i==qm){t.o=4,en(15),no(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else no(t.j,t.m,i,null),$m(t,i);xA(t)&&i!=wf&&i!=qm&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,en(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yv(e),e.M=!0,en(11))):(no(t.j,t.m,n,"[Invalid Chunked Response]"),ns(t),Za(t))}re.mb=function(){if(this.g){var t=lr(this.g),e=this.g.ja();this.C<e.length&&(Md(this),LA(this,t,e),this.i&&t!=4&&lu(this))}};function tU(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?wf:(n=Number(e.substring(n,r)),isNaN(n)?qm:(r+=1,r+n>e.length?wf:(e=e.slice(r,r+n),t.C=r+n,e)))}re.cancel=function(){this.J=!0,ns(this)};function lu(t){t.Y=Date.now()+t.P,MA(t,t.P)}function MA(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=su(Wt(t.lb,t),e)}function Md(t){t.B&&(me.clearTimeout(t.B),t.B=null)}re.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(JF(this.j,this.A),this.L!=2&&(Ml(),en(17)),ns(this),this.o=2,Za(this)):MA(this,this.Y-t)};function Za(t){t.l.H==0||t.J||rI(t.l,t)}function ns(t){Md(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,jv(t.V),IA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function $m(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Hm(n.i,t))){if(!t.K&&Hm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Af(n),Ud(n);else break e;Xv(n),en(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=su(Wt(n.ib,n),6e3));if(1>=zA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else rs(n,11)}else if((t.K||n.g==t)&&Af(n),!Nl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const f=u[3];f!=null&&(n.ra=f,n.l.info("VER="+n.ra));const c=u[4];c!=null&&(n.Ga=c,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const _=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var s=r.i;s.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Wv(s,s.h),s.h=null))}if(r.F){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,$e(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=oI(r,r.J?r.pa:null,r.Y),o.K){$A(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Md(a),lu(a)),r.g=o}else tI(r);0<n.j.length&&Bd(n)}else u[0]!="stop"&&u[0]!="close"||rs(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?rs(n,7):Qv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ml(4)}catch{}}function nU(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(bd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function rU(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(bd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function DA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(bd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=rU(t),r=nU(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var VA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ls(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ls){this.h=t.h,Tf(this,t.j),this.s=t.s,this.g=t.g,Sf(this,t.m),this.l=t.l;var e=t.i,n=new Dl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),F0(this,n),this.o=t.o}else t&&(e=String(t).match(VA))?(this.h=!1,Tf(this,e[1]||"",!0),this.s=Fa(e[2]||""),this.g=Fa(e[3]||"",!0),Sf(this,e[4]),this.l=Fa(e[5]||"",!0),F0(this,e[6]||"",!0),this.o=Fa(e[7]||"")):(this.h=!1,this.i=new Dl(null,this.h))}ls.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ua(e,U0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ua(e,U0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ua(n,n.charAt(0)=="/"?aU:oU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ua(n,uU)),t.join("")};function jr(t){return new ls(t)}function Tf(t,e,n){t.j=n?Fa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Sf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function F0(t,e,n){e instanceof Dl?(t.i=e,cU(t.i,t.h)):(n||(e=Ua(e,lU)),t.i=new Dl(e,t.h))}function $e(t,e,n){t.i.set(e,n)}function Dd(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Fa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ua(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,sU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function sU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var U0=/[#\/\?@]/g,oU=/[#\?:]/g,aU=/[#\?]/g,lU=/[#\?@]/g,uU=/#/g;function Dl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Wi(t){t.g||(t.g=new Map,t.h=0,t.i&&iU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}re=Dl.prototype;re.add=function(t,e){Wi(this),this.i=null,t=ta(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function FA(t,e){Wi(t),e=ta(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function UA(t,e){return Wi(t),e=ta(t,e),t.g.has(e)}re.forEach=function(t,e){Wi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};re.ta=function(){Wi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};re.Z=function(t){Wi(this);let e=[];if(typeof t=="string")UA(this,t)&&(e=e.concat(this.g.get(ta(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};re.set=function(t,e){return Wi(this),this.i=null,t=ta(this,t),UA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};re.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function BA(t,e,n){FA(t,e),0<n.length&&(t.i=null,t.g.set(ta(t,e),Pv(n)),t.h+=n.length)}re.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ta(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function cU(t,e){e&&!t.j&&(Wi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(FA(this,r),BA(this,i,n))},t)),t.j=e}var fU=class{constructor(t,e){this.g=t,this.map=e}};function jA(t){this.l=t||dU,me.PerformanceNavigationTiming?(t=me.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(me.g&&me.g.Ka&&me.g.Ka()&&me.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dU=10;function qA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function zA(t){return t.h?1:t.g?t.g.size:0}function Hm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Wv(t,e){t.g?t.g.add(e):t.h=e}function $A(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}jA.prototype.cancel=function(){if(this.i=HA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function HA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Pv(t.i)}var hU=class{stringify(t){return me.JSON.stringify(t,void 0)}parse(t){return me.JSON.parse(t,void 0)}};function pU(){this.g=new hU}function mU(t,e,n){const r=n||"";try{DA(t,function(i,s){let o=i;ru(i)&&(o=Uv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function gU(t,e){const n=new Od;if(me.Image){const r=new Image;r.onload=Ju(ec,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ju(ec,n,r,"TestLoadImage: error",!1,e),r.onabort=Ju(ec,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ju(ec,n,r,"TestLoadImage: timeout",!1,e),me.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ec(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function uu(t){this.l=t.fc||null,this.j=t.ob||!1}Rt(uu,zv);uu.prototype.g=function(){return new Vd(this.l,this.j)};uu.prototype.i=function(t){return function(){return t}}({});function Vd(t,e){kt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Gv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rt(Vd,kt);var Gv=0;re=Vd.prototype;re.open=function(t,e){if(this.readyState!=Gv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Vl(this)};re.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||me).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cu(this)),this.readyState=Gv};re.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Vl(this)),this.g&&(this.readyState=3,Vl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof me.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;WA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function WA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}re.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?cu(this):Vl(this),this.readyState==3&&WA(this)}};re.Za=function(t){this.g&&(this.response=this.responseText=t,cu(this))};re.Ya=function(t){this.g&&(this.response=t,cu(this))};re.ka=function(){this.g&&cu(this)};function cu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Vl(t)}re.setRequestHeader=function(t,e){this.v.append(t,e)};re.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};re.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Vl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Vd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var vU=me.JSON.parse;function nt(t){kt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=GA,this.L=this.M=!1}Rt(nt,kt);var GA="",yU=/^https?$/i,_U=["POST","PUT"];re=nt.prototype;re.Oa=function(t){this.M=t};re.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():jm.g(),this.C=this.u?V0(this.u):V0(jm),this.g.onreadystatechange=Wt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){B0(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=me.FormData&&t instanceof me.FormData,!(0<=cA(_U,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{XA(this),0<this.B&&((this.L=EU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wt(this.ua,this)):this.A=qv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){B0(this,s)}};function EU(t){return Oo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}re.ua=function(){typeof Ov<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lt(this,"timeout"),this.abort(8))};function B0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,KA(t),Fd(t)}function KA(t){t.F||(t.F=!0,Lt(t,"complete"),Lt(t,"error"))}re.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Lt(this,"complete"),Lt(this,"abort"),Fd(this))};re.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fd(this,!0)),nt.$.N.call(this)};re.La=function(){this.s||(this.G||this.v||this.l?QA(this):this.kb())};re.kb=function(){QA(this)};function QA(t){if(t.h&&typeof Ov<"u"&&(!t.C[1]||lr(t)!=4||t.da()!=2)){if(t.v&&lr(t)==4)qv(t.La,0,t);else if(Lt(t,"readystatechange"),lr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(VA)[1]||null;!i&&me.self&&me.self.location&&(i=me.self.location.protocol.slice(0,-1)),r=!yU.test(i?i.toLowerCase():"")}n=r}if(n)Lt(t,"complete"),Lt(t,"success");else{t.m=6;try{var s=2<lr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",KA(t)}}finally{Fd(t)}}}}function Fd(t,e){if(t.g){XA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Lt(t,"ready");try{n.onreadystatechange=r}catch{}}}function XA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(me.clearTimeout(t.A),t.A=null)}re.isActive=function(){return!!this.g};function lr(t){return t.g?t.g.readyState:0}re.da=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}};re.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};re.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),vU(e)}};function j0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case GA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function wU(t){const e={};t=(t.g&&2<=lr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Nl(t[r]))continue;var n=WF(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}UF(e,function(r){return r.join(", ")})}re.Ia=function(){return this.m};re.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function YA(t){let e="";return Lv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Kv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=YA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):$e(t,e,n))}function Ia(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function JA(t){this.Ga=0,this.j=[],this.l=new Od,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ia("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ia("baseRetryDelayMs",5e3,t),this.hb=Ia("retryDelaySeedMs",1e4,t),this.eb=Ia("forwardChannelMaxRetries",2,t),this.xa=Ia("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new jA(t&&t.concurrentRequestLimit),this.Ja=new pU,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}re=JA.prototype;re.ra=8;re.H=1;function Qv(t){if(ZA(t),t.H==3){var e=t.W++,n=jr(t.I);if($e(n,"SID",t.K),$e(n,"RID",e),$e(n,"TYPE","terminate"),fu(t,n),e=new au(t,t.l,e),e.L=2,e.v=Dd(jr(n)),n=!1,me.navigator&&me.navigator.sendBeacon)try{n=me.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&me.Image&&(new Image().src=e.v,n=!0),n||(e.g=aI(e.l,null),e.g.ha(e.v)),e.G=Date.now(),lu(e)}sI(t)}function Ud(t){t.g&&(Yv(t),t.g.cancel(),t.g=null)}function ZA(t){Ud(t),t.u&&(me.clearTimeout(t.u),t.u=null),Af(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&me.clearTimeout(t.m),t.m=null)}function Bd(t){if(!qA(t.i)&&!t.m){t.m=!0;var e=t.Na;Pl||TA(),xl||(Pl(),xl=!0),Bv.add(e,t),t.C=0}}function TU(t,e){return zA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=su(Wt(t.Na,t,e),iI(t,t.C)),t.C++,!0)}re.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new au(this,this.l,t);let s=this.s;if(this.U&&(s?(s=pA(s),mA(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=eI(this,i,e),n=jr(this.I),$e(n,"RID",t),$e(n,"CVER",22),this.F&&$e(n,"X-HTTP-Session-Id",this.F),fu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(YA(s)))+"&"+e:this.o&&Kv(n,this.o,s)),Wv(this.i,i),this.bb&&$e(n,"TYPE","init"),this.P?($e(n,"$req",e),$e(n,"SID","null"),i.aa=!0,zm(i,n,null)):zm(i,n,e),this.H=2}}else this.H==3&&(t?q0(this,t):this.j.length==0||qA(this.i)||q0(this))};function q0(t,e){var n;e?n=e.m:n=t.W++;const r=jr(t.I);$e(r,"SID",t.K),$e(r,"RID",n),$e(r,"AID",t.V),fu(t,r),t.o&&t.s&&Kv(r,t.o,t.s),n=new au(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=eI(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Wv(t.i,n),zm(n,r,e)}function fu(t,e){t.na&&Lv(t.na,function(n,r){$e(e,r,n)}),t.h&&DA({},function(n,r){$e(e,r,n)})}function eI(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Wt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const f=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{mU(f,o,"req"+u+"_")}catch{r&&r(f)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function tI(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Pl||TA(),xl||(Pl(),xl=!0),Bv.add(e,t),t.A=0}}function Xv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=su(Wt(t.Ma,t),iI(t,t.A)),t.A++,!0)}re.Ma=function(){if(this.u=null,nI(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=su(Wt(this.jb,this),t)}};re.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,en(10),Ud(this),nI(this))};function Yv(t){t.B!=null&&(me.clearTimeout(t.B),t.B=null)}function nI(t){t.g=new au(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=jr(t.wa);$e(e,"RID","rpc"),$e(e,"SID",t.K),$e(e,"AID",t.V),$e(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&$e(e,"TO",t.qa),$e(e,"TYPE","xmlhttp"),fu(t,e),t.o&&t.s&&Kv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Dd(jr(e)),n.s=null,n.S=!0,PA(n,t)}re.ib=function(){this.v!=null&&(this.v=null,Ud(this),Xv(this),en(19))};function Af(t){t.v!=null&&(me.clearTimeout(t.v),t.v=null)}function rI(t,e){var n=null;if(t.g==e){Af(t),Yv(t),t.g=null;var r=2}else if(Hm(t.i,e))n=e.F,$A(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Pd(),Lt(r,new kA(r,n)),Bd(t)}else tI(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&TU(t,e)||r==2&&Xv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:rs(t,5);break;case 4:rs(t,10);break;case 3:rs(t,6);break;default:rs(t,2)}}}function iI(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function rs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Wt(t.pb,t);n||(n=new ls("//www.google.com/images/cleardot.gif"),me.location&&me.location.protocol=="http"||Tf(n,"https"),Dd(n)),gU(n.toString(),r)}else en(2);t.H=0,t.h&&t.h.za(e),sI(t),ZA(t)}re.pb=function(t){t?(this.l.info("Successfully pinged google.com"),en(2)):(this.l.info("Failed to ping google.com"),en(1))};function sI(t){if(t.H=0,t.ma=[],t.h){const e=HA(t.i);(e.length!=0||t.j.length!=0)&&(P0(t.ma,e),P0(t.ma,t.j),t.i.i.length=0,Pv(t.j),t.j.length=0),t.h.ya()}}function oI(t,e,n){var r=n instanceof ls?jr(n):new ls(n);if(r.g!="")e&&(r.g=e+"."+r.g),Sf(r,r.m);else{var i=me.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ls(null);r&&Tf(s,r),e&&(s.g=e),i&&Sf(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&$e(r,n,e),$e(r,"VER",t.ra),fu(t,r),r}function aI(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new nt(new uu({ob:!0})):new nt(t.va),e.Oa(t.J),e}re.isActive=function(){return!!this.h&&this.h.isActive(this)};function lI(){}re=lI.prototype;re.Ba=function(){};re.Aa=function(){};re.za=function(){};re.ya=function(){};re.isActive=function(){return!0};re.Va=function(){};function If(){if(Oo&&!(10<=Number(MF)))throw Error("Environmental error: no available transport.")}If.prototype.g=function(t,e){return new Tn(t,e)};function Tn(t,e){kt.call(this),this.g=new JA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Nl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new na(this)}Rt(Tn,kt);Tn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;en(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=oI(t,null,t.Y),Bd(t)};Tn.prototype.close=function(){Qv(this.g)};Tn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Uv(t),t=n);e.j.push(new fU(e.fb++,t)),e.H==3&&Bd(e)};Tn.prototype.N=function(){this.g.h=null,delete this.j,Qv(this.g),delete this.g,Tn.$.N.call(this)};function uI(t){$v.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Rt(uI,$v);function cI(){Hv.call(this),this.status=1}Rt(cI,Hv);function na(t){this.g=t}Rt(na,lI);na.prototype.Ba=function(){Lt(this.g,"a")};na.prototype.Aa=function(t){Lt(this.g,new uI(t))};na.prototype.za=function(t){Lt(this.g,new cI)};na.prototype.ya=function(){Lt(this.g,"b")};function SU(){this.blockSize=-1}function Jn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Rt(Jn,SU);Jn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function op(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Jn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)op(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){op(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){op(this,r),i=0;break}}this.h=i,this.i+=e};Jn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ve(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var AU={};function Jv(t){return-128<=t&&128>t?PF(t,function(e){return new Ve([e|0],0>e?-1:0)}):new Ve([t|0],0>t?-1:0)}function ur(t){if(isNaN(t)||!isFinite(t))return ho;if(0>t)return Ot(ur(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Wm;return new Ve(e,0)}function fI(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ot(fI(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ur(Math.pow(e,8)),r=ho,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ur(Math.pow(e,s)),r=r.R(s).add(ur(o))):(r=r.R(n),r=r.add(ur(o)))}return r}var Wm=4294967296,ho=Jv(0),Gm=Jv(1),z0=Jv(16777216);re=Ve.prototype;re.ea=function(){if(Rn(this))return-Ot(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Wm+r)*e,e*=Wm}return t};re.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Rr(this))return"0";if(Rn(this))return"-"+Ot(this).toString(t);for(var e=ur(Math.pow(t,6)),n=this,r="";;){var i=Cf(n,e).g;n=bf(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Rr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};re.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Rr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Rn(t){return t.h==-1}re.X=function(t){return t=bf(this,t),Rn(t)?-1:Rr(t)?0:1};function Ot(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ve(n,~t.h).add(Gm)}re.abs=function(){return Rn(this)?Ot(this):this};re.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ve(n,n[n.length-1]&-2147483648?-1:0)};function bf(t,e){return t.add(Ot(e))}re.R=function(t){if(Rr(this)||Rr(t))return ho;if(Rn(this))return Rn(t)?Ot(this).R(Ot(t)):Ot(Ot(this).R(t));if(Rn(t))return Ot(this.R(Ot(t)));if(0>this.X(z0)&&0>t.X(z0))return ur(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,tc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,tc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,tc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,tc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ve(n,0)};function tc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ba(t,e){this.g=t,this.h=e}function Cf(t,e){if(Rr(e))throw Error("division by zero");if(Rr(t))return new ba(ho,ho);if(Rn(t))return e=Cf(Ot(t),e),new ba(Ot(e.g),Ot(e.h));if(Rn(e))return e=Cf(t,Ot(e)),new ba(Ot(e.g),e.h);if(30<t.g.length){if(Rn(t)||Rn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Gm,r=e;0>=r.X(t);)n=$0(n),r=$0(r);var i=Us(n,1),s=Us(r,1);for(r=Us(r,2),n=Us(n,2);!Rr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Us(r,1),n=Us(n,1)}return e=bf(t,i.R(e)),new ba(i,e)}for(i=ho;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=ur(n),o=s.R(e);Rn(o)||0<o.X(t);)n-=r,s=ur(n),o=s.R(e);Rr(s)&&(s=Gm),i=i.add(s),t=bf(t,o)}return new ba(i,t)}re.gb=function(t){return Cf(this,t).h};re.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ve(n,this.h&t.h)};re.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ve(n,this.h|t.h)};re.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ve(n,this.h^t.h)};function $0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ve(n,t.h)}function Us(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ve(i,t.h)}If.prototype.createWebChannel=If.prototype.g;Tn.prototype.send=Tn.prototype.u;Tn.prototype.open=Tn.prototype.m;Tn.prototype.close=Tn.prototype.close;xd.NO_ERROR=0;xd.TIMEOUT=8;xd.HTTP_ERROR=6;RA.COMPLETE="complete";NA.EventType=ou;ou.OPEN="a";ou.CLOSE="b";ou.ERROR="c";ou.MESSAGE="d";kt.prototype.listen=kt.prototype.O;nt.prototype.listenOnce=nt.prototype.P;nt.prototype.getLastError=nt.prototype.Sa;nt.prototype.getLastErrorCode=nt.prototype.Ia;nt.prototype.getStatus=nt.prototype.da;nt.prototype.getResponseJson=nt.prototype.Wa;nt.prototype.getResponseText=nt.prototype.ja;nt.prototype.send=nt.prototype.ha;nt.prototype.setWithCredentials=nt.prototype.Oa;Jn.prototype.digest=Jn.prototype.l;Jn.prototype.reset=Jn.prototype.reset;Jn.prototype.update=Jn.prototype.j;Ve.prototype.add=Ve.prototype.add;Ve.prototype.multiply=Ve.prototype.R;Ve.prototype.modulo=Ve.prototype.gb;Ve.prototype.compare=Ve.prototype.X;Ve.prototype.toNumber=Ve.prototype.ea;Ve.prototype.toString=Ve.prototype.toString;Ve.prototype.getBits=Ve.prototype.D;Ve.fromNumber=ur;Ve.fromString=fI;var IU=function(){return new If},bU=function(){return Pd()},ap=xd,CU=RA,kU=Os,H0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},RU=uu,nc=NA,NU=nt,OU=Jn,po=Ve;const W0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ra="10.1.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new Ad("@firebase/firestore");function G0(){return Es.logLevel}function ue(t,...e){if(Es.logLevel<=Oe.DEBUG){const n=e.map(Zv);Es.debug(`Firestore (${ra}): ${t}`,...n)}}function qr(t,...e){if(Es.logLevel<=Oe.ERROR){const n=e.map(Zv);Es.error(`Firestore (${ra}): ${t}`,...n)}}function Po(t,...e){if(Es.logLevel<=Oe.WARN){const n=e.map(Zv);Es.warn(`Firestore (${ra}): ${t}`,...n)}}function Zv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${ra}) INTERNAL ASSERTION FAILED: `+t;throw qr(e),new Error(e)}function Ge(t,e){t||he()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ut.UNAUTHENTICATED))}shutdown(){}}class xU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LU{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Lr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Lr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string"),new dI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Ut(e)}}class MU{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class DU{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new MU(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FU{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new VU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=UU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function xo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new oe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new wt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new wt(0,0))}static max(){return new ge(new wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class He extends Fl{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new He(n)}static emptyPath(){return new He([])}}const BU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Fl{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return BU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $t(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new oe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new oe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new oe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new oe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(He.fromString(e))}static fromName(e){return new ce(He.fromString(e).popFirst(5))}static empty(){return new ce(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new He(e.slice()))}}function jU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(r===1e9?new wt(n+1,0):new wt(n,r));return new Mi(i,ce.empty(),e)}function qU(t){return new Mi(t.readTime,t.key,-1)}class Mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mi(ge.min(),ce.empty(),-1)}static max(){return new Mi(ge.max(),ce.empty(),-1)}}function zU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==$U)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(f=>{o[u]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new te((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function hu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ey.ae=-1;function jd(t){return t==null}function kf(t){return t===0&&1/t==-1/0}function WU(t){return typeof t=="number"&&Number.isInteger(t)&&!kf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ia(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vt=class Km{constructor(e,n){this.comparator=e,this.root=n||Ri.EMPTY}insert(e,n){return new Km(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(e){return new Km(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rc(this.root,e,this.comparator,!0)}},rc=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ri=class Sr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Sr.RED,this.left=i??Sr.EMPTY,this.right=s??Sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Sr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Sr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}};Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1;Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ri(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Q0(this.data.getIterator())}getIteratorFrom(e){return new Q0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class Q0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new $n([])}unionWith(e){let n=new Kt($t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new mI("Invalid base64 string: "+s):s}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const GU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(t){if(Ge(!!t),typeof t=="string"){let e=0;const n=GU.exec(t);if(Ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ws(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ny(t){const e=t.mapValue.fields.__previous_value__;return ty(e)?ny(e):e}function Ul(t){const e=Di(t.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Bl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ty(t)?4:QU(t)?9007199254740991:10:he()}function gr(t,e){if(t===e)return!0;const n=Ts(t);if(n!==Ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ul(t).isEqual(Ul(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Di(i.timestampValue),a=Di(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ws(i.bytesValue).isEqual(ws(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return dt(i.geoPointValue.latitude)===dt(s.geoPointValue.latitude)&&dt(i.geoPointValue.longitude)===dt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return dt(i.integerValue)===dt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=dt(i.doubleValue),a=dt(s.doubleValue);return o===a?kf(o)===kf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return xo(t.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(K0(o)!==K0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!gr(o[l],a[l])))return!1;return!0}(t,e);default:return he()}}function jl(t,e){return(t.values||[]).find(n=>gr(n,e))!==void 0}function Lo(t,e){if(t===e)return 0;const n=Ts(t),r=Ts(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=dt(s.integerValue||s.doubleValue),l=dt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return X0(t.timestampValue,e.timestampValue);case 4:return X0(Ul(t),Ul(e));case 5:return xe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ws(s),l=ws(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const f=xe(a[u],l[u]);if(f!==0)return f}return xe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=xe(dt(s.latitude),dt(o.latitude));return a!==0?a:xe(dt(s.longitude),dt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const f=Lo(a[u],l[u]);if(f)return f}return xe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ic.mapValue&&o===ic.mapValue)return 0;if(s===ic.mapValue)return 1;if(o===ic.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let c=0;c<l.length&&c<f.length;++c){const d=xe(l[c],f[c]);if(d!==0)return d;const p=Lo(a[l[c]],u[f[c]]);if(p!==0)return p}return xe(l.length,f.length)}(t.mapValue,e.mapValue);default:throw he()}}function X0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=Di(t),r=Di(e),i=xe(n.seconds,r.seconds);return i!==0?i:xe(n.nanos,r.nanos)}function Mo(t){return Qm(t)}function Qm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Di(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ws(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Qm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Qm(n.fields[o])}`;return i+"}"}(t.mapValue):he()}function Y0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xm(t){return!!t&&"integerValue"in t}function ry(t){return!!t&&"arrayValue"in t}function J0(t){return!!t&&"nullValue"in t}function Z0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cc(t){return!!t&&"mapValue"in t}function el(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ia(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=el(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=el(t.arrayValue.values[n]);return e}return Object.assign({},t)}function QU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=el(n)}setAll(e){let n=$t.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=el(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Cc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Cc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ia(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Nn(el(this.value))}}function gI(t){const e=[];return ia(t.fields,(n,r)=>{const i=new $t([n]);if(Cc(r)){const s=gI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new jt(e,0,ge.min(),ge.min(),ge.min(),Nn.empty(),0)}static newFoundDocument(e,n,r,i){return new jt(e,1,n,ge.min(),r,i,0)}static newNoDocument(e,n){return new jt(e,2,n,ge.min(),ge.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new jt(e,3,n,ge.min(),ge.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.position=e,this.inclusive=n}}function eE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ce.comparator(ce.fromName(o.referenceValue),n.key):r=Lo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function tE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n="asc"){this.field=e,this.dir=n}}function XU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{}class pt extends vI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new JU(e,n,r):n==="array-contains"?new tB(e,r):n==="in"?new nB(e,r):n==="not-in"?new rB(e,r):n==="array-contains-any"?new iB(e,r):new pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ZU(e,r):new eB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Lo(n,this.value)):n!==null&&Ts(this.value)===Ts(n)&&this.matchesComparison(Lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Zn extends vI{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Zn(e,n)}matches(e){return yI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function yI(t){return t.op==="and"}function _I(t){return YU(t)&&yI(t)}function YU(t){for(const e of t.filters)if(e instanceof Zn)return!1;return!0}function Ym(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+Mo(t.value);if(_I(t))return t.filters.map(e=>Ym(e)).join(",");{const e=t.filters.map(n=>Ym(n)).join(",");return`${t.op}(${e})`}}function EI(t,e){return t instanceof pt?function(r,i){return i instanceof pt&&r.op===i.op&&r.field.isEqual(i.field)&&gr(r.value,i.value)}(t,e):t instanceof Zn?function(r,i){return i instanceof Zn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&EI(o,i.filters[a]),!0):!1}(t,e):void he()}function wI(t){return t instanceof pt?function(n){return`${n.field.canonicalString()} ${n.op} ${Mo(n.value)}`}(t):t instanceof Zn?function(n){return n.op.toString()+" {"+n.getFilters().map(wI).join(" ,")+"}"}(t):"Filter"}class JU extends pt{constructor(e,n,r){super(e,n,r),this.key=ce.fromName(r.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZU extends pt{constructor(e,n){super(e,"in",n),this.keys=TI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class eB extends pt{constructor(e,n){super(e,"not-in",n),this.keys=TI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ce.fromName(r.referenceValue))}class tB extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ry(n)&&jl(n.arrayValue,this.value)}}class nB extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jl(this.value.arrayValue,n)}}class rB extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!jl(this.value.arrayValue,n)}}class iB extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ry(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>jl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function nE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new sB(t,e,n,r,i,s,o)}function iy(t){const e=ye(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ym(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),jd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mo(r)).join(",")),e.he=n}return e.he}function sy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!XU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tE(t.startAt,e.startAt)&&tE(t.endAt,e.endAt)}function Jm(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function oB(t,e,n,r,i,s,o,a){return new sa(t,e,n,r,i,s,o,a)}function oy(t){return new sa(t)}function rE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ay(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function qd(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function SI(t){return t.collectionGroup!==null}function go(t){const e=ye(t);if(e.Pe===null){e.Pe=[];const n=qd(e),r=ay(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new mo(n)),e.Pe.push(new mo($t.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new mo($t.keyField(),s))}}}return e.Pe}function zr(t){const e=ye(t);if(!e.Ie)if(e.limitType==="F")e.Ie=nE(e.path,e.collectionGroup,go(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of go(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new mo(s.field,o))}const r=e.endAt?new Rf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Rf(e.startAt.position,e.startAt.inclusive):null;e.Ie=nE(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.Ie}function Zm(t,e){e.getFirstInequalityField(),qd(t);const n=t.filters.concat([e]);return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function eg(t,e,n){return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zd(t,e){return sy(zr(t),zr(e))&&t.limitType===e.limitType}function AI(t){return`${iy(zr(t))}|lt:${t.limitType}`}function tg(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>wI(i)).join(", ")}]`),jd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Mo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Mo(i)).join(",")),`Target(${r})`}(zr(t))}; limitType=${t.limitType})`}function $d(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ce.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of go(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=eE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,go(r),i)||r.endAt&&!function(o,a,l){const u=eE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,go(r),i))}(t,e)}function aB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function II(t){return(e,n)=>{let r=!1;for(const i of go(t)){const s=lB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function lB(t,e,n){const r=t.field.isKeyField()?ce.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Lo(l,u):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ia(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return pI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB=new vt(ce.comparator);function $r(){return uB}const bI=new vt(ce.comparator);function Ba(...t){let e=bI;for(const n of t)e=e.insert(n.key,n);return e}function CI(t){let e=bI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function is(){return tl()}function kI(){return tl()}function tl(){return new oa(t=>t.toString(),(t,e)=>t.isEqual(e))}const cB=new vt(ce.comparator),fB=new Kt(ce.comparator);function Se(...t){let e=fB;for(const n of t)e=e.add(n);return e}const dB=new Kt(xe);function hB(){return dB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kf(e)?"-0":e}}function NI(t){return{integerValue:""+t}}function pB(t,e){return WU(e)?NI(e):RI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this._=void 0}}function mB(t,e,n){return t instanceof Nf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ty(s)&&(s=ny(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ql?PI(t,e):t instanceof zl?xI(t,e):function(i,s){const o=OI(i,s),a=iE(o)+iE(i.Te);return Xm(o)&&Xm(i.Te)?NI(a):RI(i.serializer,a)}(t,e)}function gB(t,e,n){return t instanceof ql?PI(t,e):t instanceof zl?xI(t,e):n}function OI(t,e){return t instanceof Of?function(r){return Xm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Nf extends Hd{}class ql extends Hd{constructor(e){super(),this.elements=e}}function PI(t,e){const n=LI(e);for(const r of t.elements)n.some(i=>gr(i,r))||n.push(r);return{arrayValue:{values:n}}}class zl extends Hd{constructor(e){super(),this.elements=e}}function xI(t,e){let n=LI(e);for(const r of t.elements)n=n.filter(i=>!gr(i,r));return{arrayValue:{values:n}}}class Of extends Hd{constructor(e,n){super(),this.serializer=e,this.Te=n}}function iE(t){return dt(t.integerValue||t.doubleValue)}function LI(t){return ry(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function vB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ql&&i instanceof ql||r instanceof zl&&i instanceof zl?xo(r.elements,i.elements,gr):r instanceof Of&&i instanceof Of?gr(r.Te,i.Te):r instanceof Nf&&i instanceof Nf}(t.transform,e.transform)}class yB{constructor(e,n){this.version=e,this.transformResults=n}}class Qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wd{}function MI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ly(t.key,Qn.none()):new pu(t.key,t.data,Qn.none());{const n=t.data,r=Nn.empty();let i=new Kt($t.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ps(t.key,r,new $n(i.toArray()),Qn.none())}}function _B(t,e,n){t instanceof pu?function(i,s,o){const a=i.value.clone(),l=oE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ps?function(i,s,o){if(!kc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=oE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(DI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function nl(t,e,n,r){return t instanceof pu?function(s,o,a,l){if(!kc(s.precondition,o))return a;const u=s.value.clone(),f=aE(s.fieldTransforms,l,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ps?function(s,o,a,l){if(!kc(s.precondition,o))return a;const u=aE(s.fieldTransforms,l,o),f=o.data;return f.setAll(DI(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(s,o,a){return kc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function EB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=OI(r.transform,i||null);s!=null&&(n===null&&(n=Nn.empty()),n.set(r.field,s))}return n||null}function sE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xo(r,i,(s,o)=>vB(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pu extends Wd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ps extends Wd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function DI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function oE(t,e,n){const r=new Map;Ge(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,gB(o,a,n[i]))}return r}function aE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,mB(s,o,e))}return r}class ly extends Wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wB extends Wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&_B(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=MI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(n,r)=>sE(n,r))&&xo(this.baseMutations,e.baseMutations,(n,r)=>sE(n,r))}}class uy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ge(e.mutations.length===r.length);let i=function(){return cB}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new uy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Ce;function IB(t){switch(t){default:return he();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function VI(t){if(t===void 0)return qr("GRPC error has no .code"),X.UNKNOWN;switch(t){case ft.OK:return X.OK;case ft.CANCELLED:return X.CANCELLED;case ft.UNKNOWN:return X.UNKNOWN;case ft.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ft.INTERNAL:return X.INTERNAL;case ft.UNAVAILABLE:return X.UNAVAILABLE;case ft.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ft.NOT_FOUND:return X.NOT_FOUND;case ft.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ft.ABORTED:return X.ABORTED;case ft.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ft.DATA_LOSS:return X.DATA_LOSS;default:return he()}}(Ce=ft||(ft={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return sc}static getOrCreateInstance(){return sc===null&&(sc=new cy),sc}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let sc=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=new po([4294967295,4294967295],0);function lE(t){const e=bB().encode(t),n=new OU;return n.update(e),new Uint8Array(n.digest())}function uE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new po([n,r],0),new po([i,s],0)]}class fy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ja(`Invalid padding: ${n}`);if(r<0)throw new ja(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ja(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ja(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*e.length-n,this.Ae=po.fromNumber(this.de)}Re(e,n,r){let i=e.add(n.multiply(po.fromNumber(r)));return i.compare(CB)===1&&(i=new po([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ae).toNumber()}Ve(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.de===0)return!1;const n=lE(e),[r,i]=uE(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);if(!this.Ve(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new fy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.de===0)return;const n=lE(e),[r,i]=uE(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);this.me(o)}}me(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ja extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gd(ge.min(),i,new vt(xe),$r(),Se())}}class mu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mu(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n,r,i){this.fe=e,this.removedTargetIds=n,this.key=r,this.ge=i}}class FI{constructor(e,n){this.targetId=e,this.pe=n}}class UI{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class cE{constructor(){this.ye=0,this.we=dE(),this.Se=Yt.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}Me(){let e=Se(),n=Se(),r=Se();return this.we.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new mu(this.Se,this.be,e,n,r)}xe(){this.De=!1,this.we=dE()}Oe(e,n){this.De=!0,this.we=this.we.insert(e,n)}Ne(e){this.De=!0,this.we=this.we.remove(e)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class kB{constructor(e){this.qe=e,this.Qe=new Map,this.Ke=$r(),this.$e=fE(),this.Ue=new vt(xe)}We(e){for(const n of e.fe)e.ge&&e.ge.isFoundDocument()?this.Ge(n,e.ge):this.ze(n,e.key,e.ge);for(const n of e.removedTargetIds)this.ze(n,e.key,e.ge)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Fe(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){var n,r;const i=e.targetId,s=e.pe.count,o=this.Xe(i);if(o){const a=o.target;if(Jm(a))if(s===0){const l=new ce(a.path);this.ze(i,l,jt.newNoDocument(l,ge.min()))}else Ge(s===1);else{const l=this.et(i);if(l!==s){const u=this.tt(e,l);if(u.status!==0){this.Ye(i);const f=u.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,f)}(n=cy.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,d,p,_){var y,E,m,h,v,g;const w={localCacheCount:p,existenceFilterCount:_.count},A=_.unchangedNames;return A&&(w.bloomFilter={applied:c===0,hashCount:(y=A==null?void 0:A.hashCount)!==null&&y!==void 0?y:0,bitmapLength:(h=(m=(E=A==null?void 0:A.bits)===null||E===void 0?void 0:E.bitmap)===null||m===void 0?void 0:m.length)!==null&&h!==void 0?h:0,padding:(g=(v=A==null?void 0:A.bits)===null||v===void 0?void 0:v.padding)!==null&&g!==void 0?g:0},d&&(w.bloomFilter.mightContain=d)),w}(u.status,(r=u.nt)!==null&&r!==void 0?r:null,l,e.pe))}}}}tt(e,n){const{unchangedNames:r,count:i}=e.pe;if(!r||!r.bits)return{status:1};const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=ws(s).toUint8Array()}catch(c){if(c instanceof mI)return Po("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw c}try{u=new fy(l,o,a)}catch(c){return Po(c instanceof ja?"BloomFilter error: ":"Applying bloom filter failed: ",c),{status:1}}const f=c=>{const d=this.qe.rt();return u.mightContain(`projects/${d.projectId}/databases/${d.database}/documents/${c}`)};return u.de===0?{status:1}:{status:i===n-this.it(e.targetId,f)?0:2,nt:f}}it(e,n){const r=this.qe.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{n(s.path.canonicalString())||(this.ze(e,s,null),i++)}),i}st(e){const n=new Map;this.Qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&Jm(a.target)){const l=new ce(a.target.path);this.Ke.get(l)!==null||this.ot(o,l)||this.ze(o,l,jt.newNoDocument(l,e))}s.Ce&&(n.set(o,s.Me()),s.xe())}});let r=Se();this.$e.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ke.forEach((s,o)=>o.setReadTime(e));const i=new Gd(e,n,this.Ue,this.Ke,r);return this.Ke=$r(),this.$e=fE(),this.Ue=new vt(xe),i}Ge(e,n){if(!this.Je(e))return;const r=this.ot(e,n.key)?2:0;this.He(e).Oe(n.key,r),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ot(e,n)?i.Oe(n,1):i.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(e)),r&&(this.Ke=this.Ke.insert(n,r))}removeTarget(e){this.Qe.delete(e)}et(e){const n=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Be(e){this.He(e).Be()}He(e){let n=this.Qe.get(e);return n||(n=new cE,this.Qe.set(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Kt(xe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.Qe.get(e);return n&&n.ve?null:this.qe.ut(e)}Ye(e){this.Qe.set(e,new cE),this.qe.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ot(e,n){return this.qe.getRemoteKeysForTarget(e).has(n)}}function fE(){return new vt(ce.comparator)}function dE(){return new vt(ce.comparator)}const RB=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),NB=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),OB=(()=>({and:"AND",or:"OR"}))();class PB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ng(t,e){return t.useProto3Json||jd(e)?e:{value:e}}function Pf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xB(t,e){return Pf(t,e.toTimestamp())}function hr(t){return Ge(!!t),ge.fromTimestamp(function(n){const r=Di(n);return new wt(r.seconds,r.nanos)}(t))}function dy(t,e){return function(r){return new He(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function jI(t){const e=He.fromString(t);return Ge(HI(e)),e}function rg(t,e){return dy(t.databaseId,e.path)}function lp(t,e){const n=jI(e);if(n.get(1)!==t.databaseId.projectId)throw new oe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(qI(n))}function ig(t,e){return dy(t.databaseId,e)}function LB(t){const e=jI(t);return e.length===4?He.emptyPath():qI(e)}function sg(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qI(t){return Ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function hE(t,e,n){return{name:rg(t,e),fields:n.value.mapValue.fields}}function MB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(Ge(f===void 0||typeof f=="string"),Yt.fromBase64String(f||"")):(Ge(f===void 0||f instanceof Uint8Array),Yt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const f=u.code===void 0?X.UNKNOWN:VI(u.code);return new oe(f,u.message||"")}(o);n=new UI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=lp(t,r.document.name),s=hr(r.document.updateTime),o=r.document.createTime?hr(r.document.createTime):ge.min(),a=new Nn({mapValue:{fields:r.document.fields}}),l=jt.newFoundDocument(i,s,o,a),u=r.targetIds||[],f=r.removedTargetIds||[];n=new Rc(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=lp(t,r.document),s=r.readTime?hr(r.readTime):ge.min(),o=jt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Rc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=lp(t,r.document),s=r.removedTargetIds||[];n=new Rc([],s,i,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new AB(i,s),a=r.targetId;n=new FI(a,o)}}return n}function DB(t,e){let n;if(e instanceof pu)n={update:hE(t,e.key,e.value)};else if(e instanceof ly)n={delete:rg(t,e.key)};else if(e instanceof Ps)n={update:hE(t,e.key,e.data),updateMask:HB(e.fieldMask)};else{if(!(e instanceof wB))return he();n={verify:rg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Nf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ql)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Of)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:xB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:he()}(t,e.precondition)),n}function VB(t,e){return t&&t.length>0?(Ge(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?hr(i.updateTime):hr(s);return o.isEqual(ge.min())&&(o=hr(s)),new yB(o,i.transformResults||[])}(n,e))):[]}function FB(t,e){return{documents:[ig(t,e.path)]}}function UB(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=ig(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ig(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return $I(Zn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:qs(c.field),direction:qB(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=ng(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function BB(t){let e=LB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ge(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(c){const d=zI(c);return d instanceof Zn&&_I(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(c){return c.map(d=>function(_){return new mo(zs(_.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,jd(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,p=c.values||[];return new Rf(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,p=c.values||[];return new Rf(p,d)}(n.endAt)),oB(e,i,o,s,a,"F",l,u)}function jB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zs(n.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=zs(n.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=zs(n.unaryFilter.field);return pt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zs(n.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return pt.create(zs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zn.create(n.compositeFilter.filters.map(r=>zI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function qB(t){return RB[t]}function zB(t){return NB[t]}function $B(t){return OB[t]}function qs(t){return{fieldPath:t.canonicalString()}}function zs(t){return $t.fromServerFormat(t.fieldPath)}function $I(t){return t instanceof pt?function(n){if(n.op==="=="){if(Z0(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NAN"}};if(J0(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Z0(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NOT_NAN"}};if(J0(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qs(n.field),op:zB(n.op),value:n.value}}}(t):t instanceof Zn?function(n){const r=n.getFilters().map(i=>$I(i));return r.length===1?r[0]:{compositeFilter:{op:$B(n.op),filters:r}}}(t):he()}function HB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n,r,i,s=ge.min(),o=ge.min(),a=Yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e){this.ct=e}}function GB(t){const e=BB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?eg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(){this.sn=new QB}addToCollectionParentIndex(e,n){return this.sn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Mi.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Mi.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class QB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Kt(He.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.Mn=e}next(){return this.Mn+=2,this.Mn}static xn(){return new Do(0)}static On(){return new Do(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(){this.changes=new oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&nl(r.mutation,i,$n.empty(),wt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const i=is();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ba();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=is();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=$r();const o=tl(),a=function(){return tl()}();return n.forEach((l,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Ps)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),nl(f.mutation,u,f.mutation.getFieldMask(),wt.now())):o.set(u.key,$n.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var c;return a.set(u,new YB(f,(c=o.get(u))!==null&&c!==void 0?c:null))}),a))}recalculateAndSaveOverlays(e,n){const r=tl();let i=new vt((o,a)=>o-a),s=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||$n.empty();f=a.applyToLocalView(u,f),r.set(l,f);const c=(i.get(a.batchId)||Se()).add(l);i=i.insert(a.batchId,c)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,f=l.value,c=kI();f.forEach(d=>{if(!s.has(d)){const p=MI(n.get(d),r.get(d));p!==null&&c.set(d,p),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,c))}return te.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return ce.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):te.resolve(is());let a=-1,l=s;return o.next(u=>te.forEach(u,(f,c)=>(a<c.largestBatchId&&(a=c.largestBatchId),s.get(f)?te.resolve():this.remoteDocumentCache.getEntry(e,f).next(d=>{l=l.insert(f,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Se())).next(f=>({batchId:a,changes:CI(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(r=>{let i=Ba();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Ba();return this.indexManager.getCollectionParents(e,i).next(o=>te.forEach(o,a=>{const l=function(f,c){return new sa(c,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((f,c)=>{s=s.insert(f,c)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,jt.newInvalidDocument(u)))});let o=Ba();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&nl(u.mutation,l,$n.empty(),wt.now()),$d(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e){this.serializer=e,this.ar=new Map,this.ur=new Map}getBundleMetadata(e,n){return te.resolve(this.ar.get(n))}saveBundleMetadata(e,n){return this.ar.set(n.id,function(i){return{id:i.id,version:i.version,createTime:hr(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.ur.get(n))}saveNamedQuery(e,n){return this.ur.set(n.name,function(i){return{name:i.name,query:GB(i.bundledQuery),readTime:hr(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(){this.overlays=new vt(ce.comparator),this.cr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=is();return te.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.cr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.cr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=is(),s=n.length+1,o=new ce(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new vt((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=is(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=is(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=i)););return te.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.cr.get(i.largestBatchId).delete(r.key);this.cr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new SB(n,r));let s=this.cr.get(n);s===void 0&&(s=Se(),this.cr.set(n,s)),this.cr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(){this.lr=new Kt(St.hr),this.Pr=new Kt(St.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(e,n){const r=new St(e,n);this.lr=this.lr.add(r),this.Pr=this.Pr.add(r)}Tr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Er(new St(e,n))}dr(e,n){e.forEach(r=>this.removeReference(r,n))}Ar(e){const n=new ce(new He([])),r=new St(n,e),i=new St(n,e+1),s=[];return this.Pr.forEachInRange([r,i],o=>{this.Er(o),s.push(o.key)}),s}Rr(){this.lr.forEach(e=>this.Er(e))}Er(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}Vr(e){const n=new ce(new He([])),r=new St(n,e),i=new St(n,e+1);let s=Se();return this.Pr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new St(e,0),r=this.lr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this.mr=n}static hr(e,n){return ce.comparator(e.key,n.key)||xe(e.mr,n.mr)}static Ir(e,n){return xe(e.mr,n.mr)||ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new Kt(St.hr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new TB(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.pr=this.pr.add(new St(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return te.resolve(o)}lookupMutationBatch(e,n){return te.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.wr(r),s=i<0?0:i;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),i=new St(n,Number.POSITIVE_INFINITY),s=[];return this.pr.forEachInRange([r,i],o=>{const a=this.yr(o.mr);s.push(a)}),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kt(xe);return n.forEach(i=>{const s=new St(i,0),o=new St(i,Number.POSITIVE_INFINITY);this.pr.forEachInRange([s,o],a=>{r=r.add(a.mr)})}),te.resolve(this.Sr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ce.isDocumentKey(s)||(s=s.child(""));const o=new St(new ce(s),0);let a=new Kt(xe);return this.pr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.mr)),!0)},o),te.resolve(this.Sr(a))}Sr(e){const n=[];return e.forEach(r=>{const i=this.yr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ge(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.pr;return te.forEach(n.mutations,i=>{const s=new St(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.pr=r})}Cn(e){}containsKey(e,n){const r=new St(n,0),i=this.pr.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}br(e,n){return this.wr(e)}wr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}yr(e){const n=this.wr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.Dr=e,this.docs=function(){return new vt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Dr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let r=$r();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():jt.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=$r();const o=n.path,a=new ce(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||zU(qU(f),r)<=0||(i.has(f.key)||$d(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return te.resolve(s)}getAllFromCollectionGroup(e,n,r,i){he()}vr(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rj(this)}getSize(e){return te.resolve(this.size)}}class rj extends XB{constructor(e){super(),this.sr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.sr.addEntry(e,i)):this.sr.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.sr.getEntry(e,n)}getAllFromCache(e,n){return this.sr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.persistence=e,this.Cr=new oa(n=>iy(n),sy),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new hy,this.targetCount=0,this.Or=Do.xn()}forEachTarget(e,n){return this.Cr.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Fr)}allocateTargetId(e){return this.highestTargetId=this.Or.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Fr&&(this.Fr=n),te.resolve()}Ln(e){this.Cr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Or=new Do(n),this.highestTargetId=n),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}addTargetData(e,n){return this.Ln(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Ln(n),te.resolve()}removeTargetData(e,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Cr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Cr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),te.waitFor(s).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cr.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.Mr.Tr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.Mr.dr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),te.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Mr.Ar(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Mr.Vr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,n){this.Nr={},this.overlays={},this.Br=new ey(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=e(this),this.kr=new ij(this),this.indexManager=new KB,this.remoteDocumentCache=function(i){return new nj(i)}(r=>this.referenceDelegate.qr(r)),this.serializer=new WB(n),this.Qr=new ZB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ej,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Nr[e.toKey()];return r||(r=new tj(n,this.referenceDelegate),this.Nr[e.toKey()]=r),r}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const i=new oj(this.Br.next());return this.referenceDelegate.Kr(),r(i).next(s=>this.referenceDelegate.$r(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ur(e,n){return te.or(Object.values(this.Nr).map(r=>()=>r.containsKey(e,n)))}}class oj extends HU{constructor(e){super(),this.currentSequenceNumber=e}}class py{constructor(e){this.persistence=e,this.Wr=new hy,this.Gr=null}static zr(e){return new py(e)}get jr(){if(this.Gr)return this.Gr;throw he()}addReference(e,n,r){return this.Wr.addReference(r,n),this.jr.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Wr.removeReference(r,n),this.jr.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.jr.add(n.toString()),te.resolve()}removeTarget(e,n){this.Wr.Ar(n.targetId).forEach(i=>this.jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Kr(){this.Gr=new Set}$r(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.jr,r=>{const i=ce.fromPath(r);return this.Hr(e,i).next(s=>{s||n.removeEntry(i,ge.min())})}).next(()=>(this.Gr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hr(e,n).next(r=>{r?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(e){return 0}Hr(e,n){return te.or([()=>te.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ur(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Li=r,this.ki=i}static qi(e,n){let r=Se(),i=Se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new my(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(){this.Qi=!1}initialize(e,n){this.Ki=e,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.$i(e,n).next(s=>s||this.Ui(e,n,i,r)).next(s=>s||this.Wi(e,n))}$i(e,n){if(rE(n))return te.resolve(null);let r=zr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=eg(n,null,"F"),r=zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Se(...s);return this.Ki.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Gi(n,a);return this.zi(n,u,o,l.readTime)?this.$i(e,eg(n,null,"F")):this.ji(e,u,n,l)}))})))}Ui(e,n,r,i){return rE(n)||i.isEqual(ge.min())?this.Wi(e,n):this.Ki.getDocuments(e,r).next(s=>{const o=this.Gi(n,s);return this.zi(n,o,r,i)?this.Wi(e,n):(G0()<=Oe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tg(n)),this.ji(e,o,n,jU(i,-1)))})}Gi(e,n){let r=new Kt(II(e));return n.forEach((i,s)=>{$d(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Wi(e,n){return G0()<=Oe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",tg(n)),this.Ki.getDocumentsMatchingQuery(e,n,Mi.min())}ji(e,n,r,i){return this.Ki.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new vt(xe),this.Yi=new oa(s=>iy(s),sy),this.Zi=new Map,this.Xi=e.getRemoteDocumentCache(),this.kr=e.getTargetCache(),this.Qr=e.getBundleCache(),this.es(r)}es(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JB(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function uj(t,e,n,r){return new lj(t,e,n,r)}async function WI(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.es(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Se();for(const u of i){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of s){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ts:u,removedBatchIds:o,addedBatchIds:a}))})})}function cj(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Xi.newChangeBuffer({trackRemovals:!0});return function(a,l,u,f){const c=u.batch,d=c.keys();let p=te.resolve();return d.forEach(_=>{p=p.next(()=>f.getEntry(l,_)).next(y=>{const E=u.docVersions.get(_);Ge(E!==null),y.version.compareTo(E)<0&&(c.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),f.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Se();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function GI(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.kr.getLastRemoteSnapshotVersion(n))}function fj(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((f,c)=>{const d=i.get(c);if(!d)return;a.push(n.kr.removeMatchingKeys(s,f.removedDocuments,c).next(()=>n.kr.addMatchingKeys(s,f.addedDocuments,c)));let p=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(c)!==null?p=p.withResumeToken(Yt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):f.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(f.resumeToken,r)),i=i.insert(c,p),function(y,E,m){return y.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(d,p,f)&&a.push(n.kr.updateTargetData(s,p))});let l=$r(),u=Se();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(dj(s,o,e.documentUpdates).next(f=>{l=f.ns,u=f.rs})),!r.isEqual(ge.min())){const f=n.kr.getLastRemoteSnapshotVersion(s).next(c=>n.kr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return te.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function dj(t,e,n){let r=Se(),i=Se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=$r();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ns:o,rs:i}})}function hj(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pj(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.kr.getTargetData(r,e).next(s=>s?(i=s,te.resolve(i)):n.kr.allocateTargetId(r).next(o=>(i=new mi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function og(t,e,n){const r=ye(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!hu(o))throw o;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function pE(t,e,n){const r=ye(t);let i=ge.min(),s=Se();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,u,f){const c=ye(l),d=c.Yi.get(f);return d!==void 0?te.resolve(c.Ji.get(d)):c.kr.getTargetData(u,f)}(r,o,zr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:ge.min(),n?s:Se())).next(a=>(mj(r,aB(e),a),{documents:a,ss:s})))}function mj(t,e,n){let r=t.Zi.get(e)||ge.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Zi.set(e,r)}class mE{constructor(){this.activeTargetIds=hB()}hs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ps(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ls(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gj{constructor(){this.Hs=new mE,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hs.hs(e),this.Js[e]||"not-current"}updateQueryState(e,n,r){this.Js[e]=n}removeLocalQueryTarget(e){this.Hs.Ps(e)}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){delete this.Js[e]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(e){return this.Hs.activeTargetIds.has(e)}start(){return this.Hs=new mE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{Ys(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(e){this.ro.push(e)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ro)e(0)}no(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ro)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc=null;function up(){return oc===null?oc=function(){return 268435456+Math.round(2147483648*Math.random())}():oc++,"0x"+oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e){this.so=e.so,this.oo=e.oo}_o(e){this.ao=e}uo(e){this.co=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.so(e)}ho(){this.ao()}Po(e){this.co(e)}Io(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class Ej extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.To=r+"://"+n.host,this.Eo=`projects/${i}/databases/${s}`,this.Ao=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Ro(){return!1}Vo(n,r,i,s,o){const a=up(),l=this.mo(n,r);ue("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(u,s,o),this.po(n,l,u,i).then(f=>(ue("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw Po("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",l,"request:",i),f})}yo(n,r,i,s,o,a){return this.Vo(n,r,i,s,o)}fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ra}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}mo(n,r){const i=yj[n];return`${this.To}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}po(e,n,r,i){const s=up();return new Promise((o,a)=>{const l=new NU;l.setWithCredentials(!0),l.listenOnce(CU.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ap.NO_ERROR:const f=l.getResponseJson();ue(Ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case ap.TIMEOUT:ue(Ft,`RPC '${e}' ${s} timed out`),a(new oe(X.DEADLINE_EXCEEDED,"Request time out"));break;case ap.HTTP_ERROR:const c=l.getStatus();if(ue(Ft,`RPC '${e}' ${s} failed with status:`,c,"response text:",l.getResponseText()),c>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const _=function(E){const m=E.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(m)>=0?m:X.UNKNOWN}(p.status);a(new oe(_,p.message))}else a(new oe(X.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new oe(X.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{ue(Ft,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ue(Ft,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(e,n,r){const i=up(),s=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=IU(),a=bU(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new RU({})),this.fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");ue(Ft,`Creating RPC '${e}' stream ${i}: ${f}`,l);const c=o.createWebChannel(f,l);let d=!1,p=!1;const _=new _j({so:E=>{p?ue(Ft,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(d||(ue(Ft,`Opening RPC '${e}' stream ${i} transport.`),c.open(),d=!0),ue(Ft,`RPC '${e}' stream ${i} sending:`,E),c.send(E))},oo:()=>c.close()}),y=(E,m,h)=>{E.listen(m,v=>{try{h(v)}catch(g){setTimeout(()=>{throw g},0)}})};return y(c,nc.EventType.OPEN,()=>{p||ue(Ft,`RPC '${e}' stream ${i} transport opened.`)}),y(c,nc.EventType.CLOSE,()=>{p||(p=!0,ue(Ft,`RPC '${e}' stream ${i} transport closed`),_.Po())}),y(c,nc.EventType.ERROR,E=>{p||(p=!0,Po(Ft,`RPC '${e}' stream ${i} transport errored:`,E),_.Po(new oe(X.UNAVAILABLE,"The operation could not be completed")))}),y(c,nc.EventType.MESSAGE,E=>{var m;if(!p){const h=E.data[0];Ge(!!h);const v=h,g=v.error||((m=v[0])===null||m===void 0?void 0:m.error);if(g){ue(Ft,`RPC '${e}' stream ${i} received error:`,g);const w=g.status;let A=function(k){const C=ft[k];if(C!==void 0)return VI(C)}(w),S=g.message;A===void 0&&(A=X.INTERNAL,S="Unknown error status: "+w+" with message "+g.message),p=!0,_.Po(new oe(A,S)),c.close()}else ue(Ft,`RPC '${e}' stream ${i} received:`,h),_.Io(h)}}),y(a,kU.STAT_EVENT,E=>{E.stat===H0.PROXY?ue(Ft,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===H0.NOPROXY&&ue(Ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.ho()},0),_}}function cp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t){return new PB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.So=r,this.bo=i,this.Do=s,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}reset(){this.vo=0}Mo(){this.vo=this.Do}xo(e){this.cancel();const n=Math.floor(this.vo+this.Oo()),r=Math.max(0,Date.now()-this.Fo),i=Math.max(0,n-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.vo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Co=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Fo=Date.now(),e())),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}No(){this.Co!==null&&(this.Co.skipDelay(),this.Co=null)}cancel(){this.Co!==null&&(this.Co.cancel(),this.Co=null)}Oo(){return(Math.random()-.5)*this.vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.Bo=r,this.Lo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new KI(e,n)}$o(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Wo()}async stop(){this.$o()&&await this.close(0)}Go(){this.state=0,this.Ko.reset()}zo(){this.Uo()&&this.qo===null&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,()=>this.jo()))}Ho(e){this.Jo(),this.stream.send(e)}async jo(){if(this.Uo())return this.close(0)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}async close(e,n){this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,e!==4?this.Ko.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(qr(n.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Zo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.uo(n)}Zo(){}auth(){this.state=1;const e=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.ko===n&&this.e_(r,i)},r=>{e(()=>{const i=new oe(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.t_(i)})})}e_(e,n){const r=this.Xo(this.ko);this.stream=this.n_(e,n),this.stream._o(()=>{r(()=>(this.state=2,this.Qo=this.ii.enqueueAfterDelay(this.Lo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(i=>{r(()=>this.t_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Wo(){this.state=5,this.Ko.xo(async()=>{this.state=0,this.start()})}t_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.ko===e?n():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wj extends QI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}n_(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Ko.reset();const n=MB(this.serializer,e),r=function(s){if(!("targetChange"in s))return ge.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?hr(o.readTime):ge.min()}(e);return this.listener.r_(n,r)}i_(e){const n={};n.database=sg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Jm(l)?{documents:FB(s,l)}:{query:UB(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=BI(s,o.resumeToken);const u=ng(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=Pf(s,o.snapshotVersion.toTimestamp());const u=ng(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=jB(this.serializer,e);r&&(n.labels=r),this.Ho(n)}s_(e){const n={};n.database=sg(this.serializer),n.removeTarget=e,this.Ho(n)}}class Tj extends QI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.o_=!1}get __(){return this.o_}start(){this.o_=!1,this.lastStreamToken=void 0,super.start()}Zo(){this.o_&&this.a_([])}n_(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.o_){this.Ko.reset();const n=VB(e.writeResults,e.commitTime),r=hr(e.commitTime);return this.listener.u_(r,n)}return Ge(!e.writeResults||e.writeResults.length===0),this.o_=!0,this.listener.c_()}l_(){const e={};e.database=sg(this.serializer),this.Ho(e)}a_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>DB(this.serializer,r))};this.Ho(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.h_=!1}P_(){if(this.h_)throw new oe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Vo(e,n,r){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Vo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new oe(X.UNKNOWN,i.toString())})}yo(e,n,r,i){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.yo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new oe(X.UNKNOWN,s.toString())})}terminate(){this.h_=!0}}class Aj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}A_(){this.T_===0&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.E_=null,this.V_("Backend didn't respond within 10 seconds."),this.R_("Offline"),Promise.resolve())))}m_(e){this.state==="Online"?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.R_("Offline")))}set(e){this.f_(),this.T_=0,e==="Online"&&(this.d_=!1),this.R_(e)}R_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}V_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.d_?(qr(n),this.d_=!1):ue("OnlineStateTracker",n)}f_(){this.E_!==null&&(this.E_.cancel(),this.E_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=s,this.S_.Ys(o=>{r.enqueueAndForget(async()=>{xs(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ye(l);u.y_.add(4),await gu(u),u.b_.set("Unknown"),u.y_.delete(4),await Qd(u)}(this))})}),this.b_=new Aj(r,i)}}async function Qd(t){if(xs(t))for(const e of t.w_)await e(!0)}async function gu(t){for(const e of t.w_)await e(!1)}function XI(t,e){const n=ye(t);n.p_.has(e.targetId)||(n.p_.set(e.targetId,e),yy(n)?vy(n):aa(n).Uo()&&gy(n,e))}function YI(t,e){const n=ye(t),r=aa(n);n.p_.delete(e),r.Uo()&&JI(n,e),n.p_.size===0&&(r.Uo()?r.zo():xs(n)&&n.b_.set("Unknown"))}function gy(t,e){if(t.D_.Be(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}aa(t).i_(e)}function JI(t,e){t.D_.Be(e),aa(t).s_(e)}function vy(t){t.D_=new kB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.p_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),aa(t).start(),t.b_.A_()}function yy(t){return xs(t)&&!aa(t).$o()&&t.p_.size>0}function xs(t){return ye(t).y_.size===0}function ZI(t){t.D_=void 0}async function bj(t){t.p_.forEach((e,n)=>{gy(t,e)})}async function Cj(t,e){ZI(t),yy(t)?(t.b_.m_(e),vy(t)):t.b_.set("Unknown")}async function kj(t,e,n){if(t.b_.set("Online"),e instanceof UI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.p_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.p_.delete(a),i.D_.removeTarget(a))}(t,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xf(t,r)}else if(e instanceof Rc?t.D_.We(e):e instanceof FI?t.D_.Ze(e):t.D_.je(e),!n.isEqual(ge.min()))try{const r=await GI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.D_.st(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.p_.get(u);f&&s.p_.set(u,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const f=s.p_.get(l);if(!f)return;s.p_.set(l,f.withResumeToken(Yt.EMPTY_BYTE_STRING,f.snapshotVersion)),JI(s,l);const c=new mi(f.target,l,u,f.sequenceNumber);gy(s,c)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),await xf(t,r)}}async function xf(t,e,n){if(!hu(e))throw e;t.y_.add(1),await gu(t),t.b_.set("Offline"),n||(n=()=>GI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await n(),t.y_.delete(1),await Qd(t)})}function eb(t,e){return e().catch(n=>xf(t,n,e))}async function Xd(t){const e=ye(t),n=Vi(e);let r=e.g_.length>0?e.g_[e.g_.length-1].batchId:-1;for(;Rj(e);)try{const i=await hj(e.localStore,r);if(i===null){e.g_.length===0&&n.zo();break}r=i.batchId,Nj(e,i)}catch(i){await xf(e,i)}tb(e)&&nb(e)}function Rj(t){return xs(t)&&t.g_.length<10}function Nj(t,e){t.g_.push(e);const n=Vi(t);n.Uo()&&n.__&&n.a_(e.mutations)}function tb(t){return xs(t)&&!Vi(t).$o()&&t.g_.length>0}function nb(t){Vi(t).start()}async function Oj(t){Vi(t).l_()}async function Pj(t){const e=Vi(t);for(const n of t.g_)e.a_(n.mutations)}async function xj(t,e,n){const r=t.g_.shift(),i=uy.from(r,e,n);await eb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xd(t)}async function Lj(t,e){e&&Vi(t).__&&await async function(r,i){if(function(o){return IB(o)&&o!==X.ABORTED}(i.code)){const s=r.g_.shift();Vi(r).Go(),await eb(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Xd(r)}}(t,e),tb(t)&&nb(t)}async function vE(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=xs(n);n.y_.add(3),await gu(n),r&&n.b_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.y_.delete(3),await Qd(n)}async function Mj(t,e){const n=ye(t);e?(n.y_.delete(2),await Qd(n)):e||(n.y_.add(2),await gu(n),n.b_.set("Unknown"))}function aa(t){return t.v_||(t.v_=function(n,r,i){const s=ye(n);return s.P_(),new wj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{_o:bj.bind(null,t),uo:Cj.bind(null,t),r_:kj.bind(null,t)}),t.w_.push(async e=>{e?(t.v_.Go(),yy(t)?vy(t):t.b_.set("Unknown")):(await t.v_.stop(),ZI(t))})),t.v_}function Vi(t){return t.C_||(t.C_=function(n,r,i){const s=ye(n);return s.P_(),new Tj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{_o:Oj.bind(null,t),uo:Lj.bind(null,t),c_:Pj.bind(null,t),u_:xj.bind(null,t)}),t.w_.push(async e=>{e?(t.C_.Go(),await Xd(t)):(await t.C_.stop(),t.g_.length>0&&(ue("RemoteStore",`Stopping write stream with ${t.g_.length} pending writes`),t.g_=[]))})),t.C_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new _y(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ey(t,e){if(qr("AsyncQueue",`${e}: ${t}`),hu(t))return new oe(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ce.comparator(n.key,r.key):(n,r)=>ce.comparator(n.key,r.key),this.keyedMap=Ba(),this.sortedSet=new vt(this.comparator)}static emptySet(e){return new vo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.F_=new vt(ce.comparator)}track(e){const n=e.doc.key,r=this.F_.get(n);r?e.type!==0&&r.type===3?this.F_=this.F_.insert(n,e):e.type===3&&r.type!==1?this.F_=this.F_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.F_=this.F_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.F_=this.F_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.F_=this.F_.remove(n):e.type===1&&r.type===2?this.F_=this.F_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.F_=this.F_.insert(n,{type:2,doc:e.doc}):he():this.F_=this.F_.insert(n,e)}M_(){const e=[];return this.F_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Vo(e,n,vo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(){this.x_=void 0,this.listeners=[]}}class Vj{constructor(){this.queries=new oa(e=>AI(e),zd),this.onlineState="Unknown",this.O_=new Set}}async function rb(t,e){const n=ye(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Dj),i)try{s.x_=await n.onListen(r)}catch(o){const a=Ey(o,`Initialization of query '${tg(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.N_(n.onlineState),s.x_&&e.B_(s.x_)&&wy(n)}async function ib(t,e){const n=ye(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Fj(t,e){const n=ye(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.B_(i)&&(r=!0);o.x_=i}}r&&wy(n)}function Uj(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function wy(t){t.O_.forEach(e=>{e.next()})}class sb{constructor(e,n,r){this.query=e,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=r||{}}B_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.k_?this.Q_(e)&&(this.L_.next(e),n=!0):this.K_(e,this.onlineState)&&(this.U_(e),n=!0),this.q_=e,n}onError(e){this.L_.error(e)}N_(e){this.onlineState=e;let n=!1;return this.q_&&!this.k_&&this.K_(this.q_,e)&&(this.U_(this.q_),n=!0),n}K_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.W_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Q_(e){if(e.docChanges.length>0)return!0;const n=this.q_&&this.q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}U_(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.k_=!0,this.L_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.key=e}}class ab{constructor(e){this.key=e}}class Bj{constructor(e,n){this.query=e,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=Se(),this.mutatedKeys=Se(),this.na=II(e),this.ra=new vo(this.na)}get ia(){return this.X_}sa(e,n){const r=n?n.oa:new yE,i=n?n.ra:this.ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,c)=>{const d=i.get(f),p=$d(this.query,c)?c:null,_=!!d&&this.mutatedKeys.has(d.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;d&&p?d.data.isEqual(p.data)?_!==y&&(r.track({type:3,doc:p}),E=!0):this._a(d,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.na(p,l)>0||u&&this.na(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),E=!0):d&&!p&&(r.track({type:1,doc:d}),E=!0,(l||u)&&(a=!0)),E&&(p?(o=o.add(p),s=y?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{ra:o,oa:r,zi:a,mutatedKeys:s}}_a(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ra;this.ra=e.ra,this.mutatedKeys=e.mutatedKeys;const s=e.oa.M_();s.sort((u,f)=>function(d,p){const _=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return _(d)-_(p)}(u.type,f.type)||this.na(u.doc,f.doc)),this.aa(r);const o=n?this.ua():[],a=this.ta.size===0&&this.current?1:0,l=a!==this.ea;return this.ea=a,s.length!==0||l?{snapshot:new Vo(this.query,e.ra,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ca:o}:{ca:o}}N_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ra:this.ra,oa:new yE,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}la(e){return!this.X_.has(e)&&!!this.ra.has(e)&&!this.ra.get(e).hasLocalMutations}aa(e){e&&(e.addedDocuments.forEach(n=>this.X_=this.X_.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.X_=this.X_.delete(n)),this.current=e.current)}ua(){if(!this.current)return[];const e=this.ta;this.ta=Se(),this.ra.forEach(r=>{this.la(r.key)&&(this.ta=this.ta.add(r.key))});const n=[];return e.forEach(r=>{this.ta.has(r)||n.push(new ab(r))}),this.ta.forEach(r=>{e.has(r)||n.push(new ob(r))}),n}ha(e){this.X_=e.ss,this.ta=Se();const n=this.sa(e.documents);return this.applyChanges(n,!0)}Pa(){return Vo.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,this.ea===0,this.hasCachedResults)}}class jj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qj{constructor(e){this.key=e,this.Ia=!1}}class zj{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ta={},this.Ea=new oa(a=>AI(a),zd),this.da=new Map,this.Aa=new Set,this.Ra=new vt(ce.comparator),this.Va=new Map,this.ma=new hy,this.fa={},this.ga=new Map,this.pa=Do.On(),this.onlineState="Unknown",this.ya=void 0}get isPrimaryClient(){return this.ya===!0}}async function $j(t,e){const n=eq(t);let r,i;const s=n.Ea.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Pa();else{const o=await pj(n.localStore,zr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Hj(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&XI(n.remoteStore,o)}return i}async function Hj(t,e,n,r,i){t.wa=(c,d,p)=>async function(y,E,m,h){let v=E.view.sa(m);v.zi&&(v=await pE(y.localStore,E.query,!1).then(({documents:A})=>E.view.sa(A,v)));const g=h&&h.targetChanges.get(E.targetId),w=E.view.applyChanges(v,y.isPrimaryClient,g);return EE(y,E.targetId,w.ca),w.snapshot}(t,c,d,p);const s=await pE(t.localStore,e,!0),o=new Bj(e,s.ss),a=o.sa(s.documents),l=mu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);EE(t,n,u.ca);const f=new jj(e,n,o);return t.Ea.set(e,f),t.da.has(n)?t.da.get(n).push(e):t.da.set(n,[e]),u.snapshot}async function Wj(t,e){const n=ye(t),r=n.Ea.get(e),i=n.da.get(r.targetId);if(i.length>1)return n.da.set(r.targetId,i.filter(s=>!zd(s,e))),void n.Ea.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await og(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),YI(n.remoteStore,r.targetId),ag(n,r.targetId)}).catch(du)):(ag(n,r.targetId),await og(n.localStore,r.targetId,!0))}async function Gj(t,e,n){const r=tq(t);try{const i=await function(o,a){const l=ye(o),u=wt.now(),f=a.reduce((p,_)=>p.add(_.key),Se());let c,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=$r(),y=Se();return l.Xi.getEntries(p,f).next(E=>{_=E,_.forEach((m,h)=>{h.isValidDocument()||(y=y.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,_)).next(E=>{c=E;const m=[];for(const h of a){const v=EB(h,c.get(h.key).overlayedDocument);v!=null&&m.push(new Ps(h.key,v,gI(v.value.mapValue),Qn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,m,a)}).next(E=>{d=E;const m=E.applyToLocalDocumentSet(c,y);return l.documentOverlayCache.saveOverlays(p,E.batchId,m)})}).then(()=>({batchId:d.batchId,changes:CI(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.fa[o.currentUser.toKey()];u||(u=new vt(xe)),u=u.insert(a,l),o.fa[o.currentUser.toKey()]=u}(r,i.batchId,n),await vu(r,i.changes),await Xd(r.remoteStore)}catch(i){const s=Ey(i,"Failed to persist write");n.reject(s)}}async function lb(t,e){const n=ye(t);try{const r=await fj(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Va.get(s);o&&(Ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ia=!0:i.modifiedDocuments.size>0?Ge(o.Ia):i.removedDocuments.size>0&&(Ge(o.Ia),o.Ia=!1))}),await vu(n,r,e)}catch(r){await du(r)}}function _E(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Ea.forEach((s,o)=>{const a=o.view.N_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ye(o);l.onlineState=a;let u=!1;l.queries.forEach((f,c)=>{for(const d of c.listeners)d.N_(a)&&(u=!0)}),u&&wy(l)}(r.eventManager,e),i.length&&r.Ta.r_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Kj(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Va.get(e),s=i&&i.key;if(s){let o=new vt(ce.comparator);o=o.insert(s,jt.newNoDocument(s,ge.min()));const a=Se().add(s),l=new Gd(ge.min(),new Map,new vt(xe),o,a);await lb(r,l),r.Ra=r.Ra.remove(s),r.Va.delete(e),Ty(r)}else await og(r.localStore,e,!1).then(()=>ag(r,e,n)).catch(du)}async function Qj(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await cj(n.localStore,e);cb(n,r,null),ub(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vu(n,i)}catch(i){await du(i)}}async function Xj(t,e,n){const r=ye(t);try{const i=await function(o,a){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,a).next(c=>(Ge(c!==null),f=c.keys(),l.mutationQueue.removeMutationBatch(u,c))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(r.localStore,e);cb(r,e,n),ub(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vu(r,i)}catch(i){await du(i)}}function ub(t,e){(t.ga.get(e)||[]).forEach(n=>{n.resolve()}),t.ga.delete(e)}function cb(t,e,n){const r=ye(t);let i=r.fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.fa[r.currentUser.toKey()]=i}}function ag(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.da.get(e))t.Ea.delete(r),n&&t.Ta.Sa(r,n);t.da.delete(e),t.isPrimaryClient&&t.ma.Ar(e).forEach(r=>{t.ma.containsKey(r)||fb(t,r)})}function fb(t,e){t.Aa.delete(e.path.canonicalString());const n=t.Ra.get(e);n!==null&&(YI(t.remoteStore,n),t.Ra=t.Ra.remove(e),t.Va.delete(n),Ty(t))}function EE(t,e,n){for(const r of n)r instanceof ob?(t.ma.addReference(r.key,e),Yj(t,r)):r instanceof ab?(ue("SyncEngine","Document no longer in limbo: "+r.key),t.ma.removeReference(r.key,e),t.ma.containsKey(r.key)||fb(t,r.key)):he()}function Yj(t,e){const n=e.key,r=n.path.canonicalString();t.Ra.get(n)||t.Aa.has(r)||(ue("SyncEngine","New document in limbo: "+n),t.Aa.add(r),Ty(t))}function Ty(t){for(;t.Aa.size>0&&t.Ra.size<t.maxConcurrentLimboResolutions;){const e=t.Aa.values().next().value;t.Aa.delete(e);const n=new ce(He.fromString(e)),r=t.pa.next();t.Va.set(r,new qj(n)),t.Ra=t.Ra.insert(n,r),XI(t.remoteStore,new mi(zr(oy(n.path)),r,"TargetPurposeLimboResolution",ey.ae))}}async function vu(t,e,n){const r=ye(t),i=[],s=[],o=[];r.Ea.isEmpty()||(r.Ea.forEach((a,l)=>{o.push(r.wa(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const f=my.qi(l.targetId,u);s.push(f)}}))}),await Promise.all(o),r.Ta.r_(i),await async function(l,u){const f=ye(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>te.forEach(u,d=>te.forEach(d.Li,p=>f.persistence.referenceDelegate.addReference(c,d.targetId,p)).next(()=>te.forEach(d.ki,p=>f.persistence.referenceDelegate.removeReference(c,d.targetId,p)))))}catch(c){if(!hu(c))throw c;ue("LocalStore","Failed to update sequence numbers: "+c)}for(const c of u){const d=c.targetId;if(!c.fromCache){const p=f.Ji.get(d),_=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(_);f.Ji=f.Ji.insert(d,y)}}}(r.localStore,s))}async function Jj(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const r=await WI(n.localStore,e);n.currentUser=e,function(s,o){s.ga.forEach(a=>{a.forEach(l=>{l.reject(new oe(X.CANCELLED,o))})}),s.ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vu(n,r.ts)}}function Zj(t,e){const n=ye(t),r=n.Va.get(e);if(r&&r.Ia)return Se().add(r.key);{let i=Se();const s=n.da.get(e);if(!s)return i;for(const o of s){const a=n.Ea.get(o);i=i.unionWith(a.view.ia)}return i}}function eq(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kj.bind(null,e),e.Ta.r_=Fj.bind(null,e.eventManager),e.Ta.Sa=Uj.bind(null,e.eventManager),e}function tq(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xj.bind(null,e),e}class wE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Kd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return uj(this.persistence,new aj,e.initialUser,this.serializer)}createPersistence(e){return new sj(py.zr,this.serializer)}createSharedClientState(e){return new gj}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class nq{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_E(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Jj.bind(null,this.syncEngine),await Mj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Vj}()}createDatastore(e){const n=Kd(e.databaseInfo.databaseId),r=function(s){return new Ej(s)}(e.databaseInfo);return function(s,o,a,l){return new Sj(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Ij(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>_E(this.syncEngine,n,0),function(){return gE.v()?new gE:new vj}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,f){const c=new zj(i,s,o,a,l,u);return f&&(c.ya=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ye(n);ue("RemoteStore","RemoteStore shutting down."),r.y_.add(5),await gu(r),r.S_.shutdown(),r.b_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.va(this.observer.next,e)}error(e){this.observer.error?this.va(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString())}Ca(){this.muted=!0}va(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ut.UNAUTHENTICATED,this.clientId=hI.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ue("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ue("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new oe(X.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ey(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function fp(t,e){t.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await WI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function TE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sq(t);ue("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>vE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>vE(e.remoteStore,s)),t._onlineComponents=e}function iq(t){return t.name==="FirebaseError"?t.code===X.FAILED_PRECONDITION||t.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function sq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await fp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!iq(n))throw n;Po("Error using user provided cache. Falling back to memory cache: "+n),await fp(t,new wE)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await fp(t,new wE);return t._offlineComponents}async function hb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await TE(t,t._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await TE(t,new nq))),t._onlineComponents}function oq(t){return hb(t).then(e=>e.syncEngine)}async function pb(t){const e=await hb(t),n=e.eventManager;return n.onListen=$j.bind(null,e.syncEngine),n.onUnlisten=Wj.bind(null,e.syncEngine),n}function aq(t,e,n={}){const r=new Lr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const f=new db({next:d=>{o.enqueueAndForget(()=>ib(s,c));const p=d.docs.has(a);!p&&d.fromCache?u.reject(new oe(X.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?u.reject(new oe(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),c=new sb(oy(a.path),f,{includeMetadataChanges:!0,W_:!0});return rb(s,c)}(await pb(t),t.asyncQueue,e,n,r)),r.promise}function lq(t,e,n={}){const r=new Lr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const f=new db({next:d=>{o.enqueueAndForget(()=>ib(s,c)),d.fromCache&&l.source==="server"?u.reject(new oe(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),c=new sb(a,f,{includeMetadataChanges:!0,W_:!0});return rb(s,c)}(await pb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t,e,n){if(!n)throw new oe(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uq(t,e,n,r){if(e===!0&&r===!0)throw new oe(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AE(t){if(!ce.isDocumentKey(t))throw new oe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function IE(t){if(ce.isDocumentKey(t))throw new oe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function Hr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yd(t);throw new oe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new oe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new oe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new oe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new PU;switch(r.type){case"firstParty":return new DU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=SE.get(n);r&&(ue("ComponentProvider","Removing Datastore"),SE.delete(n),r.terminate())}(this),Promise.resolve()}}function cq(t,e,n,r={}){var i;const s=(t=Hr(t,Jd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ut.MOCK_USER;else{a=kv(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new oe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ut(u)}t._authCredentials=new xU(new dI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ls(this.firestore,e,this._query)}}class dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class Ni extends Ls{constructor(e,n,r){super(e,n,oy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new ce(e))}withConverter(e){return new Ni(this.firestore,e,this._path)}}function yu(t,e,...n){if(t=gt(t),gb("collection","path",e),t instanceof Jd){const r=He.fromString(e,...n);return IE(r),new Ni(t,null,r)}{if(!(t instanceof dn||t instanceof Ni))throw new oe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return IE(r),new Ni(t.firestore,null,r)}}function Fi(t,e,...n){if(t=gt(t),arguments.length===1&&(e=hI.V()),gb("doc","path",e),t instanceof Jd){const r=He.fromString(e,...n);return AE(r),new dn(t,null,new ce(r))}{if(!(t instanceof dn||t instanceof Ni))throw new oe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return AE(r),new dn(t.firestore,t instanceof Ni?t.converter:null,new ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(){this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new KI(this,"async_queue_retry"),this.Xa=()=>{const n=cp();n&&ue("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ko.No()};const e=cp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xa)}get isShuttingDown(){return this.za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.eu(),this.tu(e)}enterRestrictedMode(e){if(!this.za){this.za=!0,this.Ya=e||!1;const n=cp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xa)}}enqueue(e){if(this.eu(),this.za)return new Promise(()=>{});const n=new Lr;return this.tu(()=>this.za&&this.Ya?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ga.push(e),this.nu()))}async nu(){if(this.Ga.length!==0){try{await this.Ga[0](),this.Ga.shift(),this.Ko.reset()}catch(e){if(!hu(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Ga.length>0&&this.Ko.xo(()=>this.nu())}}tu(e){const n=this.Wa.then(()=>(this.Ja=!0,e().catch(r=>{this.Ha=r,this.Ja=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw qr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ja=!1,r))));return this.Wa=n,n}enqueueAfterDelay(e,n,r){this.eu(),this.Za.indexOf(e)>-1&&(n=0);const i=_y.createAndSchedule(this,e,n,r,s=>this.ru(s));return this.ja.push(i),i}eu(){this.Ha&&he()}verifyOperationInProgress(){}async iu(){let e;do e=this.Wa,await e;while(e!==this.Wa)}su(e){for(const n of this.ja)if(n.timerId===e)return!0;return!1}ou(e){return this.iu().then(()=>{this.ja.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ja)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.iu()})}_u(e){this.Za.push(e)}ru(e){const n=this.ja.indexOf(e);this.ja.splice(n,1)}}class la extends Jd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new fq}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vb(this),this._firestoreClient.terminate()}}function dq(t,e){const n=typeof t=="object"?t:Id(),r=typeof t=="string"?t:e||"(default)",i=nu(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=bv("firestore");s&&cq(i,...s)}return i}function Sy(t){return t._firestoreClient||vb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vb(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,f){return new KU(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,mb(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new rq(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fo(Yt.fromBase64String(e))}catch(n){throw new oe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fo(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq=/^__.*__$/;class pq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new pu(e,this.data,n,this.fieldTransforms)}}function _b(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class by{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.au(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get uu(){return this.settings.uu}cu(e){return new by(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}lu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.cu({path:r,hu:!1});return i.Pu(e),i}Iu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.cu({path:r,hu:!1});return i.au(),i}Tu(e){return this.cu({path:void 0,hu:!0})}Eu(e){return Lf(e,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}au(){if(this.path)for(let e=0;e<this.path.length;e++)this.Pu(this.path.get(e))}Pu(e){if(e.length===0)throw this.Eu("Document fields must not be empty");if(_b(this.uu)&&hq.test(e))throw this.Eu('Document fields cannot begin and end with "__"')}}class mq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kd(e)}Ru(e,n,r,i=!1){return new by({uu:e,methodName:n,Au:r,path:$t.emptyPath(),hu:!1,du:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cy(t){const e=t._freezeSettings(),n=Kd(t._databaseId);return new mq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Eb(t,e,n,r,i,s={}){const o=t.Ru(s.merge||s.mergeFields?2:0,e,n,i);Sb("Data must be an object, but it was:",o,r);const a=wb(r,o);let l,u;if(s.merge)l=new $n(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const c of s.mergeFields){const d=vq(e,c,n);if(!o.contains(d))throw new oe(X.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);_q(f,d)||f.push(d)}l=new $n(f),u=o.fieldTransforms.filter(c=>l.covers(c.field))}else l=null,u=o.fieldTransforms;return new pq(new Nn(a),l,u)}function gq(t,e,n,r=!1){return ky(n,t.Ru(r?4:3,e))}function ky(t,e){if(Tb(t=gt(t)))return Sb("Unsupported field value:",e,t),wb(t,e);if(t instanceof yb)return function(r,i){if(!_b(i.uu))throw i.Eu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Eu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.hu&&e.uu!==4)throw e.Eu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=ky(a,i.Tu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=wt.fromDate(r);return{timestampValue:Pf(i.serializer,s)}}if(r instanceof wt){const s=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pf(i.serializer,s)}}if(r instanceof Iy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fo)return{bytesValue:BI(i.serializer,r._byteString)};if(r instanceof dn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Eu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:dy(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Eu(`Unsupported field value: ${Yd(r)}`)}(t,e)}function wb(t,e){const n={};return pI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ia(t,(r,i)=>{const s=ky(i,e.lu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Tb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof Iy||t instanceof Fo||t instanceof dn||t instanceof yb)}function Sb(t,e,n){if(!Tb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Yd(n);throw r==="an object"?e.Eu(t+" a custom object"):e.Eu(t+" "+r)}}function vq(t,e,n){if((e=gt(e))instanceof Ay)return e._internalPath;if(typeof e=="string")return Ab(t,e);throw Lf("Field path arguments must be of type string or ",t,!1,void 0,n)}const yq=new RegExp("[~\\*/\\[\\]]");function Ab(t,e,n){if(e.search(yq)>=0)throw Lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ay(...e.split("."))._internalPath}catch{throw Lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new oe(X.INVALID_ARGUMENT,a+t+l)}function _q(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Eq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ry("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Eq extends Ib{data(){return super.data()}}function Ry(t,e){return typeof e=="string"?Ab(t,e):e instanceof Ay?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new oe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ny{}class bb extends Ny{}function Tq(t,e,...n){let r=[];e instanceof Ny&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Py).length,a=s.filter(l=>l instanceof Oy).length;if(o>1||o>0&&a>0)throw new oe(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Oy extends bb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Oy(e,n,r)}_apply(e){const n=this._parse(e);return Cb(e._query,n),new Ls(e.firestore,e.converter,Zm(e._query,n))}_parse(e){const n=Cy(e.firestore);return function(s,o,a,l,u,f,c){let d;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new oe(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){kE(c,f);const p=[];for(const _ of c)p.push(CE(l,s,_));d={arrayValue:{values:p}}}else d=CE(l,s,c)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||kE(c,f),d=gq(a,o,c,f==="in"||f==="not-in");return pt.create(u,f,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Py extends Ny{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Py(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Zn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)Cb(o,l),o=Zm(o,l)}(e._query,n),new Ls(e.firestore,e.converter,Zm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xy extends bb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new xy(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new oe(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new oe(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new mo(s,o);return function(u,f){if(ay(u)===null){const c=qd(u);c!==null&&kb(u,c,f.field)}}(i,a),a}(e._query,this._field,this._direction);return new Ls(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new sa(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Sq(t,e="asc"){const n=e,r=Ry("orderBy",t);return xy._create(r,n)}function CE(t,e,n){if(typeof(n=gt(n))=="string"){if(n==="")throw new oe(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SI(e)&&n.indexOf("/")!==-1)throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(He.fromString(n));if(!ce.isDocumentKey(r))throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Y0(t,new ce(r))}if(n instanceof dn)return Y0(t,n._key);throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yd(n)}.`)}function kE(t,e){if(!Array.isArray(t)||t.length===0)throw new oe(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Cb(t,e){if(e.isInequality()){const r=qd(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new oe(X.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=ay(t);s!==null&&kb(t,i,s)}const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new oe(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function kb(t,e,n){if(!n.isEqual(e))throw new oe(X.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Aq{convertValue(e,n="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ia(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Iy(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ny(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ul(e));default:return null}}convertTimestamp(e){const n=Di(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);Ge(HI(r));const i=new Bl(r.get(1),r.get(3)),s=new ce(r.popFirst(5));return i.isEqual(n)||qr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nb extends Ib{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ry("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Nc extends Nb{data(e={}){return super.data(e)}}class Iq{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Nc(this._firestore,this._userDataWriter,r.key,r,new qa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Nc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Nc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:bq(a.type),doc:l,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t){t=Hr(t,dn);const e=Hr(t.firestore,la);return aq(Sy(e),t._key).then(n=>kq(e,t,n))}class Pb extends Aq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function Zd(t){t=Hr(t,Ls);const e=Hr(t.firestore,la),n=Sy(e),r=new Pb(e);return wq(t._query),lq(n,t._query).then(i=>new Iq(e,r,t,i))}function Mf(t,e,n){t=Hr(t,dn);const r=Hr(t.firestore,la),i=Rb(t.converter,e,n);return My(r,[Eb(Cy(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Qn.none())])}function Ly(t){return My(Hr(t.firestore,la),[new ly(t._key,Qn.none())])}function Cq(t,e){const n=Hr(t.firestore,la),r=Fi(t),i=Rb(t.converter,e);return My(n,[Eb(Cy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Qn.exists(!1))]).then(()=>r)}function My(t,e){return function(r,i){const s=new Lr;return r.asyncQueue.enqueueAndForget(async()=>Gj(await oq(r),i,s)),s.promise}(Sy(t),e)}function kq(t,e,n){const r=n.docs.get(e._key),i=new Pb(t);return new Nb(t,i,e._key,r,new qa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ra=i})($i),Li(new Br("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new la(new LU(r.getProvider("auth-internal")),new FU(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new oe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(u.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ln(W0,"4.1.0",e),Ln(W0,"4.1.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="firebasestorage.googleapis.com",Lb="storageBucket",Rq=2*60*1e3,Nq=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it extends yr{constructor(e,n,r=0){super(dp(e),`Firebase Storage: ${n} (${dp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,it.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rt||(rt={}));function dp(t){return"storage/"+t}function Dy(){const t="An unknown error occurred, please check the error payload for server response.";return new it(rt.UNKNOWN,t)}function Oq(t){return new it(rt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Pq(t){return new it(rt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function xq(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new it(rt.UNAUTHENTICATED,t)}function Lq(){return new it(rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Mq(t){return new it(rt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Dq(){return new it(rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Vq(){return new it(rt.CANCELED,"User canceled the upload/download.")}function Fq(t){return new it(rt.INVALID_URL,"Invalid URL '"+t+"'.")}function Uq(t){return new it(rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Bq(){return new it(rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Lb+"' property when initializing the app?")}function jq(){return new it(rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function qq(){return new it(rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zq(t){return new it(rt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function lg(t){return new it(rt.INVALID_ARGUMENT,t)}function Mb(){return new it(rt.APP_DELETED,"The Firebase app was deleted.")}function $q(t){return new it(rt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rl(t,e){return new it(rt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ca(t){throw new it(rt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yn.makeFromUrl(e,n)}catch{return new yn(e,"")}if(r.path==="")return r;throw Uq(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(g){g.path.charAt(g.path.length-1)==="/"&&(g.path_=g.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(g){g.path_=decodeURIComponent(g.path)}const f="v[A-Za-z0-9_]+",c=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp(`^https?://${c}/${f}/b/${i}/o${d}`,"i"),_={bucket:1,path:3},y=n===xb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",m=new RegExp(`^https?://${y}/${i}/${E}`,"i"),v=[{regex:a,indices:l,postModify:s},{regex:p,indices:_,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let g=0;g<v.length;g++){const w=v[g],A=w.regex.exec(e);if(A){const S=A[w.indices.bucket];let I=A[w.indices.path];I||(I=""),r=new yn(S,I),w.postModify(r);break}}if(r==null)throw Fq(e);return r}}class Hq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wq(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function f(...E){u||(u=!0,e.apply(null,E))}function c(E){i=setTimeout(()=>{i=null,t(p,l())},E)}function d(){s&&clearTimeout(s)}function p(E,...m){if(u){d();return}if(E){d(),f.call(null,E,...m);return}if(l()||o){d(),f.call(null,E,...m);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,c(v)}let _=!1;function y(E){_||(_=!0,d(),!u&&(i!==null?(E||(a=2),clearTimeout(i),c(0)):E||(a=1)))}return c(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function Gq(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kq(t){return t!==void 0}function Qq(t){return typeof t=="object"&&!Array.isArray(t)}function Vy(t){return typeof t=="string"||t instanceof String}function RE(t){return Fy()&&t instanceof Blob}function Fy(){return typeof Blob<"u"&&!nV()}function NE(t,e,n,r){if(r<e)throw lg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw lg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Db(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var us;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(us||(us={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xq(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e,n,r,i,s,o,a,l,u,f,c,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=c,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,_)=>{this.resolve_=p,this.reject_=_,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new ac(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===us.NO_ERROR,l=s.getStatus();if(!a||Xq(l,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===us.ABORT;r(!1,new ac(!1,null,f));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new ac(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Kq(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Dy();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?Mb():Vq();o(l)}else{const l=Dq();o(l)}};this.canceled_?n(!1,new ac(!1,null,!0)):this.backoffId_=Wq(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Gq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ac{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Jq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Zq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ez(t,e){e&&(t["X-Firebase-GMPID"]=e)}function tz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function nz(t,e,n,r,i,s,o=!0){const a=Db(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return ez(u,e),Jq(u,n),Zq(u,s),tz(u,r),new Yq(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function iz(...t){const e=rz();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Fy())return new Blob(t);throw new it(rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sz(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(t){if(typeof atob>"u")throw zq("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hp{constructor(e,n){this.data=e,this.contentType=n||null}}function Vb(t,e){switch(t){case Hn.RAW:return new hp(Fb(e));case Hn.BASE64:case Hn.BASE64URL:return new hp(Ub(t,e));case Hn.DATA_URL:return new hp(lz(e),uz(e))}throw Dy()}function Fb(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function az(t){let e;try{e=decodeURIComponent(t)}catch{throw rl(Hn.DATA_URL,"Malformed data URL.")}return Fb(e)}function Ub(t,e){switch(t){case Hn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw rl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Hn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw rl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=oz(e)}catch(i){throw i.message.includes("polyfill")?i:rl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Bb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw rl(Hn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=cz(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function lz(t){const e=new Bb(t);return e.base64?Ub(Hn.BASE64,e.rest):az(e.rest)}function uz(t){return new Bb(t).contentType}function cz(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n){let r=0,i="";RE(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(RE(this.data_)){const r=this.data_,i=sz(r,e,n);return i===null?null:new si(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new si(r,!0)}}static getBlob(...e){if(Fy()){const n=e.map(r=>r instanceof si?r.data_:r);return new si(iz.apply(null,n))}else{const n=e.map(o=>Vy(o)?Vb(Hn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new si(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t){let e;try{e=JSON.parse(t)}catch{return null}return Qq(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function dz(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function qb(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hz(t,e){return e}class Jt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||hz}}let lc=null;function pz(t){return!Vy(t)||t.length<2?t:qb(t)}function zb(){if(lc)return lc;const t=[];t.push(new Jt("bucket")),t.push(new Jt("generation")),t.push(new Jt("metageneration")),t.push(new Jt("name","fullPath",!0));function e(s,o){return pz(o)}const n=new Jt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Jt("size");return i.xform=r,t.push(i),t.push(new Jt("timeCreated")),t.push(new Jt("updated")),t.push(new Jt("md5Hash",null,!0)),t.push(new Jt("cacheControl",null,!0)),t.push(new Jt("contentDisposition",null,!0)),t.push(new Jt("contentEncoding",null,!0)),t.push(new Jt("contentLanguage",null,!0)),t.push(new Jt("contentType",null,!0)),t.push(new Jt("metadata","customMetadata",!0)),lc=t,lc}function mz(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new yn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function gz(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return mz(r,t),r}function $b(t,e,n){const r=jb(e);return r===null?null:gz(t,r,n)}function vz(t,e,n,r){const i=jb(e);if(i===null||!Vy(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const f=t.bucket,c=t.fullPath,d="/b/"+o(f)+"/o/"+o(c),p=Uy(d,n,r),_=Db({alt:"media",token:u});return p+_})[0]}function yz(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Hb{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t){if(!t)throw Dy()}function _z(t,e){function n(r,i){const s=$b(t,i,e);return Wb(s!==null),s}return n}function Ez(t,e){function n(r,i){const s=$b(t,i,e);return Wb(s!==null),vz(s,i,t.host,t._protocol)}return n}function Gb(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Lq():i=xq():n.getStatus()===402?i=Pq(t.bucket):n.getStatus()===403?i=Mq(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function wz(t){const e=Gb(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Oq(t.path)),s.serverResponse=i.serverResponse,s}return n}function Tz(t,e,n){const r=e.fullServerUrl(),i=Uy(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Hb(i,s,Ez(t,n),o);return a.errorHandler=wz(e),a}function Sz(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Az(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Sz(null,e)),r}function Iz(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let g=0;g<2;g++)v=v+Math.random().toString().slice(2);return v}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=Az(e,r,i),f=yz(u,n),c="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+l+"--",p=si.getBlob(c,r,d);if(p===null)throw jq();const _={name:u.fullPath},y=Uy(s,t.host,t._protocol),E="POST",m=t.maxUploadRetryTime,h=new Hb(y,E,_z(t,n),m);return h.urlParams=_,h.headers=o,h.body=p.uploadData(),h.errorHandler=Gb(e),h}class bz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=us.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=us.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=us.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ca("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ca("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ca("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ca("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ca("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Cz extends bz{initXhr(){this.xhr_.responseType="text"}}function Kb(){return new Cz}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){this._service=e,n instanceof yn?this._location=n:this._location=yn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ss(e,n)}get root(){const e=new yn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qb(this._location.path)}get storage(){return this._service}get parent(){const e=fz(this._location.path);if(e===null)return null;const n=new yn(this._location.bucket,e);return new Ss(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw $q(e)}}function kz(t,e,n){t._throwIfRoot("uploadBytes");const r=Iz(t.storage,t._location,zb(),new si(e,!0),n);return t.storage.makeRequestWithTokens(r,Kb).then(i=>({metadata:i,ref:t}))}function Rz(t,e,n=Hn.RAW,r){t._throwIfRoot("uploadString");const i=Vb(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),kz(t,i.data,s)}function Nz(t){t._throwIfRoot("getDownloadURL");const e=Tz(t.storage,t._location,zb());return t.storage.makeRequestWithTokens(e,Kb).then(n=>{if(n===null)throw qq();return n})}function Oz(t,e){const n=dz(t._location.path,e),r=new yn(t._location.bucket,n);return new Ss(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pz(t){return/^[A-Za-z]+:\/\//.test(t)}function xz(t,e){return new Ss(t,e)}function Qb(t,e){if(t instanceof By){const n=t;if(n._bucket==null)throw Bq();const r=new Ss(n,n._bucket);return e!=null?Qb(r,e):r}else return e!==void 0?Oz(t,e):t}function Lz(t,e){if(e&&Pz(e)){if(t instanceof By)return xz(t,e);throw lg("To use ref(service, url), the first argument must be a Storage instance.")}else return Qb(t,e)}function OE(t,e){const n=e==null?void 0:e[Lb];return n==null?null:yn.makeFromBucketSpec(n,t)}function Mz(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:kv(i,t.app.options.projectId))}class By{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=xb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Rq,this._maxUploadRetryTime=Nq,this._requests=new Set,i!=null?this._bucket=yn.makeFromBucketSpec(i,this._host):this._bucket=OE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yn.makeFromBucketSpec(this._url,e):this._bucket=OE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ss(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Hq(Mb());{const o=nz(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const PE="@firebase/storage",xE="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="storage";function Yb(t,e,n,r){return t=gt(t),Rz(t,e,n,r)}function Jb(t){return t=gt(t),Nz(t)}function Zb(t,e){return t=gt(t),Lz(t,e)}function Dz(t=Id(),e){t=gt(t);const r=nu(t,Xb).getImmediate({identifier:e}),i=bv("storage");return i&&Vz(r,...i),r}function Vz(t,e,n,r={}){Mz(t,e,n,r)}function Fz(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new By(n,r,i,e,$i)}function Uz(){Li(new Br(Xb,Fz,"PUBLIC").setMultipleInstances(!0)),Ln(PE,xE,""),Ln(PE,xE,"esm2017")}Uz();function jy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function eC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Bz=eC,tC=new tu("auth","Firebase",eC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new Ad("@firebase/auth");function jz(t,...e){Df.logLevel<=Oe.WARN&&Df.warn(`Auth (${$i}): ${t}`,...e)}function Oc(t,...e){Df.logLevel<=Oe.ERROR&&Df.error(`Auth (${$i}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t,...e){throw qy(t,...e)}function pr(t,...e){return qy(t,...e)}function qz(t,e,n){const r=Object.assign(Object.assign({},Bz()),{[e]:n});return new tu("auth","Firebase",r).create(e,{appName:t.name})}function qy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tC.create(t,...e)}function de(t,e,...n){if(!t)throw qy(e,...n)}function Nr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Oc(e),new Error(e)}function Wr(t,e){t||Nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zz(){return LE()==="http:"||LE()==="https:"}function LE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $z(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zz()||rV()||"connection"in navigator)?navigator.onLine:!0}function Hz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wr(n>e,"Short delay should be less than long delay!"),this.isMobile=Rv()||nA()}get(){return $z()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(t,e){Wr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz=new _u(3e4,6e4);function Eu(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ua(t,e,n,r,i={}){return rC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ea(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),nC.fetch()(iC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function rC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Wz),e);try{const i=new Kz(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw uc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw uc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw uc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw uc(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw qz(t,f,u);er(t,f)}}catch(i){if(i instanceof yr)throw i;er(t,"network-request-failed",{message:String(i)})}}async function eh(t,e,n,r,i={}){const s=await ua(t,e,n,r,i);return"mfaPendingCredential"in s&&er(t,"multi-factor-auth-required",{_serverResponse:s}),s}function iC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?zy(t.config,i):`${t.config.apiScheme}://${i}`}class Kz{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pr(this.auth,"network-request-failed")),Gz.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function uc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qz(t,e){return ua(t,"POST","/v1/accounts:delete",e)}async function Xz(t,e){return ua(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Yz(t,e=!1){const n=gt(t),r=await n.getIdToken(e),i=$y(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:il(pp(i.auth_time)),issuedAtTime:il(pp(i.iat)),expirationTime:il(pp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function pp(t){return Number(t)*1e3}function $y(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const i=vf(n);return i?JSON.parse(i):(Oc("Failed to decode base64 JWT payload"),null)}catch(i){return Oc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Jz(t){const e=$y(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yr&&Zz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Zz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=il(this.lastLoginAt),this.creationTime=il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await $l(t,Xz(n,{idToken:r}));de(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?r$(s.providerUserInfo):[],a=n$(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=l?u:!1,c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new sC(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,c)}async function t$(t){const e=gt(t);await Vf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function n$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function r$(t){return t.map(e=>{var{providerId:n}=e,r=jy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i$(t,e){const n=await rC(t,{},async()=>{const r=ea({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=iC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jz(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return de(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await i$(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Hl;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(de(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hl,this.toJSON())}_performRefresh(){return Nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=jy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new e$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new sC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await $l(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Yz(this,e)}reload(){return t$(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await $l(this,Qz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,f;const c=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,h=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:v,emailVerified:g,isAnonymous:w,providerData:A,stsTokenManager:S}=n;de(v&&S,e,"internal-error");const I=Hl.fromJSON(this.name,S);de(typeof v=="string",e,"internal-error"),ei(c,e.name),ei(d,e.name),de(typeof g=="boolean",e,"internal-error"),de(typeof w=="boolean",e,"internal-error"),ei(p,e.name),ei(_,e.name),ei(y,e.name),ei(E,e.name),ei(m,e.name),ei(h,e.name);const k=new cs({uid:v,auth:e,email:d,emailVerified:g,displayName:c,isAnonymous:w,photoURL:_,phoneNumber:p,tenantId:y,stsTokenManager:I,createdAt:m,lastLoginAt:h});return A&&Array.isArray(A)&&(k.providerData=A.map(C=>Object.assign({},C))),E&&(k._redirectEventId=E),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new Hl;i.updateFromServerResponse(n);const s=new cs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vf(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Map;function Or(t){Wr(t instanceof Function,"Expected a class definition");let e=ME.get(t);return e?(Wr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ME.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oC.type="NONE";const DE=oC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t,e,n){return`firebase:${t}:${e}:${n}`}class yo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Pc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Pc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new yo(Or(DE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Or(DE);const o=Pc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(o);if(f){const c=cs._fromJSON(e,f);u!==s&&(a=c),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new yo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new yo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fC(e))return"Blackberry";if(dC(e))return"Webos";if(Hy(e))return"Safari";if((e.includes("chrome/")||lC(e))&&!e.includes("edge/"))return"Chrome";if(cC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function aC(t=Xt()){return/firefox\//i.test(t)}function Hy(t=Xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lC(t=Xt()){return/crios\//i.test(t)}function uC(t=Xt()){return/iemobile/i.test(t)}function cC(t=Xt()){return/android/i.test(t)}function fC(t=Xt()){return/blackberry/i.test(t)}function dC(t=Xt()){return/webos/i.test(t)}function th(t=Xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function s$(t=Xt()){var e;return th(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function o$(){return iV()&&document.documentMode===10}function hC(t=Xt()){return th(t)||cC(t)||dC(t)||fC(t)||/windows phone/i.test(t)||uC(t)}function a$(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t,e=[]){let n;switch(t){case"Browser":n=VE(Xt());break;case"Worker":n=`${VE(Xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$i}/${r}`}async function mC(t,e){return ua(t,"GET","/v2/recaptchaConfig",Eu(t,e))}function FE(t){return t!==void 0&&t.enterprise!==void 0}class gC{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function vC(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=pr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",l$().appendChild(r)})}function u$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const c$="https://www.google.com/recaptcha/enterprise.js?render=",f$="recaptcha-enterprise",d$="NO_RECAPTCHA";class yC{constructor(e){this.type=f$,this.auth=wu(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{mC(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new gC(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;FE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(d$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&FE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}vC(c$+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function UE(t,e,n,r=!1){const i=new yC(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BE(this),this.idTokenSubscription=new BE(this),this.beforeStateQueue=new h$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Or(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Hz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?gt(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}async initializeRecaptchaConfig(){const e=await mC(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new gC(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new yC(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Or(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[Or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return de(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&jz(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wu(t){return gt(t)}class BE{constructor(e){this.auth=e,this.observer=null,this.addObserver=hV(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m$(t,e){const n=nu(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(_f(s,e??{}))return i;er(i,"already-initialized")}return n.initialize({options:e})}function g$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Or);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function v$(t,e,n){const r=wu(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=_C(e),{host:o,port:a}=y$(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||_$()}function _C(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function y$(t){const e=_C(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:jE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:jE(o)}}}function jE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,n){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}}async function E$(t,e){return ua(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mp(t,e){return eh(t,"POST","/v1/accounts:signInWithPassword",Eu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w$(t,e){return eh(t,"POST","/v1/accounts:signInWithEmailLink",Eu(t,e))}async function T$(t,e){return eh(t,"POST","/v1/accounts:signInWithEmailLink",Eu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends Wy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Wl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await UE(e,r,"signInWithPassword");return mp(e,i)}else return mp(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await UE(e,r,"signInWithPassword");return mp(e,s)}else return Promise.reject(i)});case"emailLink":return w$(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return E$(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return T$(e,{idToken:n,email:this._email,oobCode:this._password});default:er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(t,e){return eh(t,"POST","/v1/accounts:signInWithIdp",Eu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$="http://localhost";class As extends Wy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=jy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new As(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_o(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:S$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ea(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function I$(t){const e=Da(Va(t)).link,n=e?Da(Va(e)).deep_link_id:null,r=Da(Va(t)).deep_link_id;return(r?Da(Va(r)).link:null)||r||n||e||t}class Gy{constructor(e){var n,r,i,s,o,a;const l=Da(Va(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,c=A$((i=l.mode)!==null&&i!==void 0?i:null);de(u&&f&&c,"argument-error"),this.apiKey=u,this.operation=c,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=I$(e);try{return new Gy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.providerId=ca.PROVIDER_ID}static credential(e,n){return Wl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Gy.parseLink(n);return de(r,"argument-error"),Wl._fromEmailAndCode(e,r.code,r.tenantId)}}ca.PROVIDER_ID="password";ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends EC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Tu{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return As._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ai.credential(n,r)}catch{return null}}}ai.GOOGLE_SIGN_IN_METHOD="google.com";ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Tu{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.GITHUB_SIGN_IN_METHOD="github.com";li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Tu{constructor(){super("twitter.com")}static credential(e,n){return As._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ui.credential(n,r)}catch{return null}}}ui.TWITTER_SIGN_IN_METHOD="twitter.com";ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await cs._fromIdTokenResponse(e,r,i),o=qE(r);return new Uo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=qE(r);return new Uo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function qE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff extends yr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ff.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ff(e,n,r,i)}}function wC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ff._fromErrorAndOperation(t,s,e,r):s})}async function b$(t,e,n=!1){const r=await $l(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Uo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C$(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await $l(t,wC(r,i,e,t),n);de(s.idToken,r,"internal-error");const o=$y(s.idToken);de(o,r,"internal-error");const{sub:a}=o;return de(t.uid===a,r,"user-mismatch"),Uo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&er(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(t,e,n=!1){const r="signIn",i=await wC(t,r,e),s=await Uo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function k$(t,e){return TC(wu(t),e)}function R$(t,e,n){return k$(gt(t),ca.credential(e,n))}function N$(t,e,n,r){return gt(t).onIdTokenChanged(e,n,r)}function O$(t,e,n){return gt(t).beforeAuthStateChanged(e,n)}function P$(t){return gt(t).signOut()}const Uf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uf,"1"),this.storage.removeItem(Uf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x$(){const t=Xt();return Hy(t)||th(t)}const L$=1e3,M$=10;class AC extends SC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=x$()&&a$(),this.fallbackToPolling=hC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);o$()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,M$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},L$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AC.type="LOCAL";const D$=AC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC extends SC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IC.type="SESSION";const bC=IC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new nh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await V$(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Ky("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(c){const d=c;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(){return window}function U$(t){mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}async function B$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function q$(){return CC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="firebaseLocalStorageDb",z$=1,Bf="firebaseLocalStorage",RC="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rh(t,e){return t.transaction([Bf],e?"readwrite":"readonly").objectStore(Bf)}function $$(){const t=indexedDB.deleteDatabase(kC);return new Su(t).toPromise()}function cg(){const t=indexedDB.open(kC,z$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bf,{keyPath:RC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bf)?e(r):(r.close(),await $$(),e(await cg()))})})}async function zE(t,e,n){const r=rh(t,!0).put({[RC]:e,value:n});return new Su(r).toPromise()}async function H$(t,e){const n=rh(t,!1).get(e),r=await new Su(n).toPromise();return r===void 0?null:r.value}function $E(t,e){const n=rh(t,!0).delete(e);return new Su(n).toPromise()}const W$=800,G$=3;class NC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>G$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nh._getInstance(q$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await B$(),!this.activeServiceWorker)return;this.sender=new F$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cg();return await zE(e,Uf,"1"),await $E(e,Uf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>H$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$E(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=rh(i,!1).getAll();return new Su(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NC.type="LOCAL";const K$=NC;new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(t,e){return e?Or(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy extends Wy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function X$(t){return TC(t.auth,new Qy(t),t.bypassAuthState)}function Y$(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),C$(n,new Qy(t),t.bypassAuthState)}async function J$(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),b$(n,new Qy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X$;case"linkViaPopup":case"linkViaRedirect":return J$;case"reauthViaPopup":case"reauthViaRedirect":return Y$;default:er(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$=new _u(2e3,1e4);class ro extends OC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Wr(this.filter.length===1,"Popup operations only handle one event");const e=Ky();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Z$.get())};e()}}ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH="pendingRedirect",xc=new Map;class tH extends OC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xc.get(this.auth._key());if(!e){try{const r=await nH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xc.set(this.auth._key(),e)}return this.bypassAuthState||xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nH(t,e){const n=sH(e),r=iH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function rH(t,e){xc.set(t._key(),e)}function iH(t){return Or(t._redirectPersistence)}function sH(t){return Pc(eH,t.config.apiKey,t.name)}async function oH(t,e,n=!1){const r=wu(t),i=Q$(r,e),o=await new tH(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=10*60*1e3;class lH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!PC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aH&&this.cachedEventUids.clear(),this.cachedEventUids.has(HE(e))}saveEventToCache(e){this.cachedEventUids.add(HE(e)),this.lastProcessedEventTime=Date.now()}}function HE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cH(t,e={}){return ua(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dH=/^https?/;async function hH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cH(t);for(const n of e)try{if(pH(n))return}catch{}er(t,"unauthorized-domain")}function pH(t){const e=ug(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!dH.test(n))return!1;if(fH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mH=new _u(3e4,6e4);function WE(){const t=mr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gH(t){return new Promise((e,n)=>{var r,i,s;function o(){WE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WE(),n(pr(t,"network-request-failed"))},timeout:mH.get()})}if(!((i=(r=mr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=mr().gapi)===null||s===void 0)&&s.load)o();else{const a=u$("iframefcb");return mr()[a]=()=>{gapi.load?o():n(pr(t,"network-request-failed"))},vC(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Lc=null,e})}let Lc=null;function vH(t){return Lc=Lc||gH(t),Lc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yH=new _u(5e3,15e3),_H="__/auth/iframe",EH="emulator/auth/iframe",wH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SH(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zy(e,EH):`https://${t.config.authDomain}/${_H}`,r={apiKey:e.apiKey,appName:t.name,v:$i},i=TH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ea(r).slice(1)}`}async function AH(t){const e=await vH(t),n=mr().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:SH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=pr(t,"network-request-failed"),a=mr().setTimeout(()=>{s(o)},yH.get());function l(){mr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bH=500,CH=600,kH="_blank",RH="http://localhost";class GE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NH(t,e,n,r=bH,i=CH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},IH),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Xt().toLowerCase();n&&(a=lC(u)?kH:n),aC(u)&&(e=e||RH,l.scrollbars="yes");const f=Object.entries(l).reduce((d,[p,_])=>`${d}${p}=${_},`,"");if(s$(u)&&a!=="_self")return OH(e||"",a),new GE(null);const c=window.open(e||"",a,f);de(c,t,"popup-blocked");try{c.focus()}catch{}return new GE(c)}function OH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH="__/auth/handler",xH="emulator/auth/handler",LH=encodeURIComponent("fac");async function KE(t,e,n,r,i,s){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$i,eventId:i};if(e instanceof EC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Nm(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,c]of Object.entries(s||{}))o[f]=c}if(e instanceof Tu){const f=e.getScopes().filter(c=>c!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),u=l?`#${LH}=${encodeURIComponent(l)}`:"";return`${MH(t)}?${ea(a).slice(1)}${u}`}function MH({config:t}){return t.emulator?zy(t,xH):`https://${t.authDomain}/${PH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="webStorageSupport";class DH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bC,this._completeRedirectFn=oH,this._overrideRedirectResult=rH}async _openPopup(e,n,r,i){var s;Wr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await KE(e,n,r,ug(),i);return NH(e,o,Ky())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await KE(e,n,r,ug(),i);return U$(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Wr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await AH(e),r=new lH(e);return n.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gp,{type:gp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[gp];o!==void 0&&n(!!o),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hC()||Hy()||th()}}const VH=DH;var QE="@firebase/auth",XE="1.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function BH(t){Li(new Br("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pC(t)},u=new p$(r,i,s,l);return g$(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Li(new Br("auth-internal",e=>{const n=wu(e.getProvider("auth").getImmediate());return(r=>new FH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ln(QE,XE,UH(t)),Ln(QE,XE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH=5*60,qH=tA("authIdTokenMaxAge")||jH;let YE=null;const zH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qH)return;const i=n==null?void 0:n.token;YE!==i&&(YE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function $H(t=Id()){const e=nu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=m$(t,{popupRedirectResolver:VH,persistence:[K$,D$,bC]}),r=tA("authTokenSyncURL");if(r){const s=zH(r);O$(n,s,()=>s(n.currentUser)),N$(n,o=>s(o))}const i=Z2("auth");return i&&v$(n,`http://${i}`),n}BH("Browser");const JE="@firebase/database",ZE="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xC="";function HH(t){xC=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Pt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:kl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Xr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new WH(e)}}catch{}return new GH},ss=LC("localStorage"),fg=LC("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new Ad("@firebase/database"),KH=function(){let t=1;return function(){return t++}}(),MC=function(t){const e=vV(t),n=new dV;n.update(e);const r=n.digest();return Iv.encodeByteArray(r)},Au=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Au.apply(null,r):typeof r=="object"?e+=Pt(r):e+=r,e+=" "}return e};let fs=null,ew=!0;const QH=function(t,e){ne(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Eo.logLevel=Oe.VERBOSE,fs=Eo.log.bind(Eo),e&&fg.set("logging_enabled",!0)):typeof t=="function"?fs=t:(fs=null,fg.remove("logging_enabled"))},qt=function(...t){if(ew===!0&&(ew=!1,fs===null&&fg.get("logging_enabled")===!0&&QH(!0)),fs){const e=Au.apply(null,t);fs(e)}},Iu=function(t){return function(...e){qt(t,...e)}},dg=function(...t){const e="FIREBASE INTERNAL ERROR: "+Au(...t);Eo.error(e)},Gr=function(...t){const e=`FIREBASE FATAL ERROR: ${Au(...t)}`;throw Eo.error(e),new Error(e)},En=function(...t){const e="FIREBASE WARNING: "+Au(...t);Eo.warn(e)},XH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&En("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},DC=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},YH=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Bo="[MIN_NAME]",Is="[MAX_NAME]",fa=function(t,e){if(t===e)return 0;if(t===Bo||e===Is)return-1;if(e===Bo||t===Is)return 1;{const n=tw(t),r=tw(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},JH=function(t,e){return t===e?0:t<e?-1:1},ka=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Pt(e))},Xy=function(t){if(typeof t!="object"||t===null)return Pt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Pt(e[r]),n+=":",n+=Xy(t[e[r]]);return n+="}",n},VC=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Vn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const FC=function(t){ne(!DC(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const f=u.join("");let c="";for(l=0;l<64;l+=8){let d=parseInt(f.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),c=c+d}return c.toLowerCase()},ZH=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},eW=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},tW=new RegExp("^-?(0*)\\d{1,10}$"),nW=-2147483648,rW=2147483647,tw=function(t){if(tW.test(t)){const e=Number(t);if(e>=nW&&e<=rW)return e}return null},bu=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw En("Exception was thrown by user callback.",n),e},Math.floor(0))}},iW=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},sl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){En(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(qt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',En(e)}}class wo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}wo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="5",UC="v",BC="s",jC="r",qC="f",zC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$C="ls",HC="p",hg="ac",WC="websocket",GC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ss.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ss.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function aW(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function QC(t,e,n){ne(typeof e=="string","typeof type must == string"),ne(typeof n=="object","typeof params must == object");let r;if(e===WC)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===GC)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);aW(t)&&(n.ns=t.namespace);const i=[];return Vn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(){this.counters_={}}incrementCounter(e,n=1){Xr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return X8(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp={},yp={};function Jy(t){const e=t.toString();return vp[e]||(vp[e]=new lW),vp[e]}function uW(t,e){const n=t.toString();return yp[n]||(yp[n]=e()),yp[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&bu(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="start",fW="close",dW="pLPCommand",hW="pRTLPCB",XC="id",YC="pw",JC="ser",pW="cb",mW="seg",gW="ts",vW="d",yW="dframe",ZC=1870,ek=30,_W=ZC-ek,EW=25e3,wW=3e4;class io{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Iu(e),this.stats_=Jy(n),this.urlFn=l=>(this.appCheckToken&&(l[hg]=this.appCheckToken),QC(n,GC,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new cW(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(wW)),YH(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Zy((...s)=>{const[o,a,l,u,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===nw)this.id=a,this.password=l;else if(o===fW)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[nw]="t",r[JC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[pW]=this.scriptTagHolder.uniqueCallbackIdentifier),r[UC]=Yy,this.transportSessionId&&(r[BC]=this.transportSessionId),this.lastSessionId&&(r[$C]=this.lastSessionId),this.applicationId&&(r[HC]=this.applicationId),this.appCheckToken&&(r[hg]=this.appCheckToken),typeof location<"u"&&location.hostname&&zC.test(location.hostname)&&(r[jC]=qC);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){io.forceAllow_=!0}static forceDisallow(){io.forceDisallow_=!0}static isAvailable(){return io.forceAllow_?!0:!io.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ZH()&&!eW()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Pt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Y2(n),i=VC(r,_W);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[yW]="t",r[XC]=e,r[YC]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Pt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Zy{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=KH(),window[dW+this.uniqueCallbackIdentifier]=e,window[hW+this.uniqueCallbackIdentifier]=n,this.myIFrame=Zy.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){qt("frame writing exception"),a.stack&&qt(a.stack),qt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||qt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[XC]=this.myID,e[YC]=this.myPW,e[JC]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ek+r.length<=ZC;){const o=this.pendingSegs.shift();r=r+"&"+mW+i+"="+o.seg+"&"+gW+i+"="+o.ts+"&"+vW+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(EW)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{qt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TW=16384,SW=45e3;let jf=null;typeof MozWebSocket<"u"?jf=MozWebSocket:typeof WebSocket<"u"&&(jf=WebSocket);class zn{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Iu(this.connId),this.stats_=Jy(n),this.connURL=zn.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[UC]=Yy,typeof location<"u"&&location.hostname&&zC.test(location.hostname)&&(o[jC]=qC),n&&(o[BC]=n),r&&(o[$C]=r),i&&(o[hg]=i),s&&(o[HC]=s),QC(e,WC,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ss.set("previous_websocket_failure",!0);try{let r;rA(),this.mySock=new jf(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){zn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&jf!==null&&!zn.forceDisallow_}static previouslyFailed(){return ss.isInMemoryStorage||ss.get("previous_websocket_failure")===!0}markConnectionHealthy(){ss.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=kl(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ne(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Pt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=VC(n,TW);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(SW))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}zn.responsesRequiredToBeHealthy=2;zn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[io,zn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=zn&&zn.isAvailable();let r=n&&!zn.previouslyFailed();if(e.webSocketOnly&&(n||En("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[zn];else{const i=this.transports_=[];for(const s of Gl.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Gl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Gl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AW=6e4,IW=5e3,bW=10*1024,CW=100*1024,_p="t",rw="d",kW="s",iw="r",RW="e",sw="o",ow="a",aw="n",lw="p",NW="h";class OW{constructor(e,n,r,i,s,o,a,l,u,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Iu("c:"+this.id+":"),this.transportManager_=new Gl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=sl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>CW?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>bW?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(_p in e){const n=e[_p];n===ow?this.upgradeIfSecondaryHealthy_():n===iw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===sw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ka("t",e),r=ka("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:lw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ow,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:aw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ka("t",e),r=ka("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ka(_p,e);if(rw in e){const r=e[rw];if(n===NW){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===aw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===kW?this.onConnectionShutdown_(r):n===iw?this.onReset_(r):n===RW?dg("Server Error: "+r):n===sw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):dg("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Yy!==r&&En("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),sl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(AW))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):sl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(IW))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:lw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ss.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.allowedEvents_=e,this.listeners_={},ne(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ne(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf extends nk{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Rv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new qf}getInitialEvent(e){return ne(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=32,cw=768;class Ke{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Fe(){return new Ke("")}function ke(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ui(t){return t.pieces_.length-t.pieceNum_}function ze(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ke(t.pieces_,e)}function rk(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function PW(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ik(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function sk(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ke(e,0)}function bt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ke)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ke(n,0)}function be(t){return t.pieceNum_>=t.pieces_.length}function Pn(t,e){const n=ke(t),r=ke(e);if(n===null)return e;if(n===r)return Pn(ze(t),ze(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function ok(t,e){if(Ui(t)!==Ui(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Wn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ui(t)>Ui(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class xW{constructor(e,n){this.errorPrefix_=n,this.parts_=ik(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Sd(this.parts_[r]);ak(this)}}function LW(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Sd(e),ak(t)}function MW(t){const e=t.parts_.pop();t.byteLength_-=Sd(e),t.parts_.length>0&&(t.byteLength_-=1)}function ak(t){if(t.byteLength_>cw)throw new Error(t.errorPrefix_+"has a key path longer than "+cw+" bytes ("+t.byteLength_+").");if(t.parts_.length>uw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+uw+") or object contains a cycle "+Yi(t))}function Yi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1 extends nk{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new e1}getInitialEvent(e){return ne(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=1e3,DW=60*5*1e3,fw=30*1e3,VW=1.3,FW=3e4,UW="server_kill",dw=3;class Mr extends tk{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Mr.nextPersistentConnectionId_++,this.log_=Iu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ra,this.maxReconnectDelay_=DW,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!rA())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");e1.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&qf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Pt(s)),ne(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Cv,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ne(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Mr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Xr(e,"w")){const r=No(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();En(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||fV(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=fw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=cV(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Pt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):dg("Unrecognized action received from server: "+Pt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ne(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ra,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ra,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>FW&&(this.reconnectDelay_=Ra),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*VW)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Mr.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(c){ne(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(c)};this.realtime_={close:l,sendRequest:u};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,d]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?qt("getToken() completed but was canceled"):(qt("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=d&&d.token,a=new OW(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{En(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(UW)},s))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&En(c),l())}}}interrupt(e){qt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){qt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Nm(this.interruptReasons_)&&(this.reconnectDelay_=Ra,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Xy(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Ke(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){qt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=dw&&(this.reconnectDelay_=fw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){qt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=dw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+xC.replace(/\./g,"-")]=1,Rv()?e["framework.cordova"]=1:nA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=qf.getInstance().currentlyOnline();return Nm(this.interruptReasons_)&&e}}Mr.nextPersistentConnectionId_=0;Mr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Re(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Re(Bo,e),i=new Re(Bo,n);return this.compare(r,i)!==0}minPost(){return Re.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cc;class lk extends ih{static get __EMPTY_NODE(){return cc}static set __EMPTY_NODE(e){cc=e}compare(e,n){return fa(e.name,n.name)}isDefinedOn(e){throw Zo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Re.MIN}maxPost(){return new Re(Is,cc)}makePost(e,n){return ne(typeof e=="string","KeyIndex indexValue must always be a string."),new Re(e,cc)}toString(){return".key"}}const To=new lk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class It{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??It.RED,this.left=i??ln.EMPTY_NODE,this.right=s??ln.EMPTY_NODE}copy(e,n,r,i,s){return new It(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ln.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ln.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}It.RED=!0;It.BLACK=!1;class BW{copy(e,n,r,i,s){return this}insert(e,n,r){return new It(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ln{constructor(e,n=ln.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ln(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,It.BLACK,null,null))}remove(e){return new ln(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,It.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new fc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new fc(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new fc(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new fc(this.root_,null,this.comparator_,!0,e)}}ln.EMPTY_NODE=new BW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jW(t,e){return fa(t.name,e.name)}function t1(t,e){return fa(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pg;function qW(t){pg=t}const uk=function(t){return typeof t=="number"?"number:"+FC(t):"string:"+t},ck=function(t){if(t.isLeafNode()){const e=t.val();ne(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Xr(e,".sv"),"Priority must be a string or number.")}else ne(t===pg||t.isEmpty(),"priority of unexpected type.");ne(t===pg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hw;class Tt{constructor(e,n=Tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ne(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ck(this.priorityNode_)}static set __childrenNodeConstructor(e){hw=e}static get __childrenNodeConstructor(){return hw}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Tt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return be(e)?this:ke(e)===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ke(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ne(r!==".priority"||Ui(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Tt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ze(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+uk(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=FC(this.value_):e+=this.value_,this.lazyHash_=MC(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Tt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Tt.__childrenNodeConstructor?-1:(ne(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Tt.VALUE_TYPE_ORDER.indexOf(n),s=Tt.VALUE_TYPE_ORDER.indexOf(r);return ne(i>=0,"Unknown leaf type: "+n),ne(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fk,dk;function zW(t){fk=t}function $W(t){dk=t}class HW extends ih{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?fa(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Re.MIN}maxPost(){return new Re(Is,new Tt("[PRIORITY-POST]",dk))}makePost(e,n){const r=fk(e);return new Re(n,new Tt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ht=new HW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW=Math.log(2);class GW{constructor(e){const n=s=>parseInt(Math.log(s)/WW,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const zf=function(t,e,n,r){t.sort(e);const i=function(l,u){const f=u-l;let c,d;if(f===0)return null;if(f===1)return c=t[l],d=n?n(c):c,new It(d,c.node,It.BLACK,null,null);{const p=parseInt(f/2,10)+l,_=i(l,p),y=i(p+1,u);return c=t[p],d=n?n(c):c,new It(d,c.node,It.BLACK,_,y)}},s=function(l){let u=null,f=null,c=t.length;const d=function(_,y){const E=c-_,m=c;c-=_;const h=i(E+1,m),v=t[E],g=n?n(v):v;p(new It(g,v.node,y,null,h))},p=function(_){u?(u.left=_,u=_):(f=_,u=_)};for(let _=0;_<l.count;++_){const y=l.nextBitIsOne(),E=Math.pow(2,l.count-(_+1));y?d(E,It.BLACK):(d(E,It.BLACK),d(E,It.RED))}return f},o=new GW(t.length),a=s(o);return new ln(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ep;const Bs={};class Pr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ne(Bs&&Ht,"ChildrenNode.ts has not been loaded"),Ep=Ep||new Pr({".priority":Bs},{".priority":Ht}),Ep}get(e){const n=No(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ln?n:null}hasIndex(e){return Xr(this.indexSet_,e.toString())}addIndex(e,n){ne(e!==To,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Re.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=zf(r,e.getCompare()):a=Bs;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const f=Object.assign({},this.indexes_);return f[l]=a,new Pr(f,u)}addToIndexes(e,n){const r=yf(this.indexes_,(i,s)=>{const o=No(this.indexSet_,s);if(ne(o,"Missing index implementation for "+s),i===Bs)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Re.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),zf(a,o.getCompare())}else return Bs;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Re(e.name,a))),l.insert(e,e.node)}});return new Pr(r,this.indexSet_)}removeFromIndexes(e,n){const r=yf(this.indexes_,i=>{if(i===Bs)return i;{const s=n.get(e.name);return s?i.remove(new Re(e.name,s)):i}});return new Pr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Na;class Le{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ck(this.priorityNode_),this.children_.isEmpty()&&ne(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Na||(Na=new Le(new ln(t1),null,Pr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Na}updatePriority(e){return this.children_.isEmpty()?this:new Le(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Na:n}}getChild(e){const n=ke(e);return n===null?this:this.getImmediateChild(n).getChild(ze(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ne(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Re(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Na:this.priorityNode_;return new Le(i,o,s)}}updateChild(e,n){const r=ke(e);if(r===null)return n;{ne(ke(e)!==".priority"||Ui(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ze(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ht,(o,a)=>{n[o]=a.val(e),r++,s&&Le.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+uk(this.getPriority().val())+":"),this.forEachChild(Ht,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":MC(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Re(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Re(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Re(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Re.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Re.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Cu?-1:0}withIndex(e){if(e===To||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Le(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===To||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ht),i=n.getIterator(Ht);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===To?null:this.indexMap_.get(e.toString())}}Le.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class KW extends Le{constructor(){super(new ln(t1),Le.EMPTY_NODE,Pr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Le.EMPTY_NODE}isEmpty(){return!1}}const Cu=new KW;Object.defineProperties(Re,{MIN:{value:new Re(Bo,Le.EMPTY_NODE)},MAX:{value:new Re(Is,Cu)}});lk.__EMPTY_NODE=Le.EMPTY_NODE;Tt.__childrenNodeConstructor=Le;qW(Cu);$W(Cu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QW=!0;function zt(t,e=null){if(t===null)return Le.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ne(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Tt(n,zt(e))}if(!(t instanceof Array)&&QW){const n=[];let r=!1;if(Vn(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=zt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Re(o,l)))}}),n.length===0)return Le.EMPTY_NODE;const s=zf(n,jW,o=>o.name,t1);if(r){const o=zf(n,Ht.getCompare());return new Le(s,zt(e),new Pr({".priority":o},{".priority":Ht}))}else return new Le(s,zt(e),Pr.Default)}else{let n=Le.EMPTY_NODE;return Vn(t,(r,i)=>{if(Xr(t,r)&&r.substring(0,1)!=="."){const s=zt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(zt(e))}}zW(zt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW extends ih{constructor(e){super(),this.indexPath_=e,ne(!be(e)&&ke(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?fa(e.name,n.name):s}makePost(e,n){const r=zt(e),i=Le.EMPTY_NODE.updateChild(this.indexPath_,r);return new Re(n,i)}maxPost(){const e=Le.EMPTY_NODE.updateChild(this.indexPath_,Cu);return new Re(Is,e)}toString(){return ik(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW extends ih{compare(e,n){const r=e.node.compareTo(n.node);return r===0?fa(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Re.MIN}maxPost(){return Re.MAX}makePost(e,n){const r=zt(e);return new Re(n,r)}toString(){return".value"}}const JW=new YW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZW(t){return{type:"value",snapshotNode:t}}function eG(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function tG(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function pw(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function nG(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ht}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ne(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ne(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bo}hasEnd(){return this.endSet_}getIndexEndValue(){return ne(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ne(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Is}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ne(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ht}copy(){const e=new n1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function mw(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ht?n="$priority":t.index_===JW?n="$value":t.index_===To?n="$key":(ne(t.index_ instanceof XW,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Pt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Pt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Pt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Pt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Pt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function gw(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ht&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f extends tk{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Iu("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ne(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=$f.getListenId_(e,r),a={};this.listens_[o]=a;const l=mw(e._queryParams);this.restRequest_(s+".json",l,(u,f)=>{let c=f;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(s,c,!1,r),No(this.listens_,o)===a){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",i(d,null)}})}unlisten(e,n){const r=$f.getListenId_(e,n);delete this.listens_[r]}get(e){const n=mw(e._queryParams),r=e._path.toString(),i=new Cv;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ea(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=kl(a.responseText)}catch{En("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&En("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(){this.rootNode_=Le.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(){return{value:null,children:new Map}}function hk(t,e,n){if(be(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ke(e);t.children.has(r)||t.children.set(r,Hf());const i=t.children.get(r);e=ze(e),hk(i,e,n)}}function mg(t,e,n){t.value!==null?n(e,t.value):iG(t,(r,i)=>{const s=new Ke(e.toString()+"/"+r);mg(i,s,n)})}function iG(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Vn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=10*1e3,oG=30*1e3,aG=5*60*1e3;class lG{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new sG(e);const r=vw+(oG-vw)*Math.random();sl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Vn(e,(i,s)=>{s>0&&Xr(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),sl(this.reportStats_.bind(this),Math.floor(Math.random()*2*aG))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(cr||(cr={}));function pk(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function mk(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function gk(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=cr.ACK_USER_WRITE,this.source=pk()}operationForChild(e){if(be(this.path)){if(this.affectedTree.value!=null)return ne(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ke(e));return new Wf(Fe(),n,this.revert)}}else return ne(ke(this.path)===e,"operationForChild called for unrelated child."),new Wf(ze(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=cr.OVERWRITE}operationForChild(e){return be(this.path)?new bs(this.source,Fe(),this.snap.getImmediateChild(e)):new bs(this.source,ze(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=cr.MERGE}operationForChild(e){if(be(this.path)){const n=this.children.subtree(new Ke(e));return n.isEmpty()?null:n.value?new bs(this.source,Fe(),n.value):new Kl(this.source,Fe(),n)}else return ne(ke(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Kl(this.source,ze(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(be(e))return this.isFullyInitialized()&&!this.filtered_;const n=ke(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function uG(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(nG(o.childName,o.snapshotNode))}),Oa(t,i,"child_removed",e,r,n),Oa(t,i,"child_added",e,r,n),Oa(t,i,"child_moved",s,r,n),Oa(t,i,"child_changed",e,r,n),Oa(t,i,"value",e,r,n),i}function Oa(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>fG(t,a,l)),o.forEach(a=>{const l=cG(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function cG(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function fG(t,e,n){if(e.childName==null||n.childName==null)throw Zo("Should only compare child_ events.");const r=new Re(e.childName,e.snapshotNode),i=new Re(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t,e){return{eventCache:t,serverCache:e}}function ol(t,e,n,r){return vk(new r1(e,n,r),t.serverCache)}function yk(t,e,n,r){return vk(t.eventCache,new r1(e,n,r))}function gg(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Cs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wp;const dG=()=>(wp||(wp=new ln(JH)),wp);class qe{constructor(e,n=dG()){this.value=e,this.children=n}static fromObject(e){let n=new qe(null);return Vn(e,(r,i)=>{n=n.set(new Ke(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Fe(),value:this.value};if(be(e))return null;{const r=ke(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ze(e),n);return s!=null?{path:bt(new Ke(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(be(e))return this;{const n=ke(e),r=this.children.get(n);return r!==null?r.subtree(ze(e)):new qe(null)}}set(e,n){if(be(e))return new qe(n,this.children);{const r=ke(e),s=(this.children.get(r)||new qe(null)).set(ze(e),n),o=this.children.insert(r,s);return new qe(this.value,o)}}remove(e){if(be(e))return this.children.isEmpty()?new qe(null):new qe(null,this.children);{const n=ke(e),r=this.children.get(n);if(r){const i=r.remove(ze(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new qe(null):new qe(this.value,s)}else return this}}get(e){if(be(e))return this.value;{const n=ke(e),r=this.children.get(n);return r?r.get(ze(e)):null}}setTree(e,n){if(be(e))return n;{const r=ke(e),s=(this.children.get(r)||new qe(null)).setTree(ze(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new qe(this.value,o)}}fold(e){return this.fold_(Fe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(bt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Fe(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(be(e))return null;{const s=ke(e),o=this.children.get(s);return o?o.findOnPath_(ze(e),bt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Fe(),n)}foreachOnPath_(e,n,r){if(be(e))return this;{this.value&&r(n,this.value);const i=ke(e),s=this.children.get(i);return s?s.foreachOnPath_(ze(e),bt(n,i),r):new qe(null)}}foreach(e){this.foreach_(Fe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(bt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.writeTree_=e}static empty(){return new Xn(new qe(null))}}function al(t,e,n){if(be(e))return new Xn(new qe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Pn(i,e);return s=s.updateChild(o,n),new Xn(t.writeTree_.set(i,s))}else{const i=new qe(n),s=t.writeTree_.setTree(e,i);return new Xn(s)}}}function yw(t,e,n){let r=t;return Vn(n,(i,s)=>{r=al(r,bt(e,i),s)}),r}function _w(t,e){if(be(e))return Xn.empty();{const n=t.writeTree_.setTree(e,new qe(null));return new Xn(n)}}function vg(t,e){return Ms(t,e)!=null}function Ms(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Pn(n.path,e)):null}function Ew(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ht,(r,i)=>{e.push(new Re(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Re(r,i.value))}),e}function Oi(t,e){if(be(e))return t;{const n=Ms(t,e);return n!=null?new Xn(new qe(n)):new Xn(t.writeTree_.subtree(e))}}function yg(t){return t.writeTree_.isEmpty()}function jo(t,e){return _k(Fe(),t.writeTree_,e)}function _k(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ne(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=_k(bt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(bt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(t,e){return Ik(e,t)}function hG(t,e,n,r,i){ne(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=al(t.visibleWrites,e,n)),t.lastWriteId=r}function pG(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function mG(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ne(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&gG(a,r.path)?i=!1:Wn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return vG(t),!0;if(r.snap)t.visibleWrites=_w(t.visibleWrites,r.path);else{const a=r.children;Vn(a,l=>{t.visibleWrites=_w(t.visibleWrites,bt(r.path,l))})}return!0}else return!1}function gG(t,e){if(t.snap)return Wn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Wn(bt(t.path,n),e))return!0;return!1}function vG(t){t.visibleWrites=wk(t.allWrites,yG,Fe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function yG(t){return t.visible}function wk(t,e,n){let r=Xn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Wn(n,o)?(a=Pn(n,o),r=al(r,a,s.snap)):Wn(o,n)&&(a=Pn(o,n),r=al(r,Fe(),s.snap.getChild(a)));else if(s.children){if(Wn(n,o))a=Pn(n,o),r=yw(r,a,s.children);else if(Wn(o,n))if(a=Pn(o,n),be(a))r=yw(r,Fe(),s.children);else{const l=No(s.children,ke(a));if(l){const u=l.getChild(ze(a));r=al(r,Fe(),u)}}}else throw Zo("WriteRecord should have .snap or .children")}}return r}function Tk(t,e,n,r,i){if(!r&&!i){const s=Ms(t.visibleWrites,e);if(s!=null)return s;{const o=Oi(t.visibleWrites,e);if(yg(o))return n;if(n==null&&!vg(o,Fe()))return null;{const a=n||Le.EMPTY_NODE;return jo(o,a)}}}else{const s=Oi(t.visibleWrites,e);if(!i&&yg(s))return n;if(!i&&n==null&&!vg(s,Fe()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Wn(u.path,e)||Wn(e,u.path))},a=wk(t.allWrites,o,e),l=n||Le.EMPTY_NODE;return jo(a,l)}}}function _G(t,e,n){let r=Le.EMPTY_NODE;const i=Ms(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ht,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Oi(t.visibleWrites,e);return n.forEachChild(Ht,(o,a)=>{const l=jo(Oi(s,new Ke(o)),a);r=r.updateImmediateChild(o,l)}),Ew(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Oi(t.visibleWrites,e);return Ew(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function EG(t,e,n,r,i){ne(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=bt(e,n);if(vg(t.visibleWrites,s))return null;{const o=Oi(t.visibleWrites,s);return yg(o)?i.getChild(n):jo(o,i.getChild(n))}}function wG(t,e,n,r){const i=bt(e,n),s=Ms(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Oi(t.visibleWrites,i);return jo(o,r.getNode().getImmediateChild(n))}else return null}function TG(t,e){return Ms(t.visibleWrites,e)}function SG(t,e,n,r,i,s,o){let a;const l=Oi(t.visibleWrites,e),u=Ms(l,Fe());if(u!=null)a=u;else if(n!=null)a=jo(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const f=[],c=o.getCompare(),d=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=d.getNext();for(;p&&f.length<i;)c(p,r)!==0&&f.push(p),p=d.getNext();return f}else return[]}function AG(){return{visibleWrites:Xn.empty(),allWrites:[],lastWriteId:-1}}function _g(t,e,n,r){return Tk(t.writeTree,t.treePath,e,n,r)}function Sk(t,e){return _G(t.writeTree,t.treePath,e)}function ww(t,e,n,r){return EG(t.writeTree,t.treePath,e,n,r)}function Gf(t,e){return TG(t.writeTree,bt(t.treePath,e))}function IG(t,e,n,r,i,s){return SG(t.writeTree,t.treePath,e,n,r,i,s)}function i1(t,e,n){return wG(t.writeTree,t.treePath,e,n)}function Ak(t,e){return Ik(bt(t.treePath,e),t.writeTree)}function Ik(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ne(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ne(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,pw(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,tG(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,eG(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,pw(r,e.snapshotNode,i.oldSnap));else throw Zo("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const bk=new CG;class s1{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new r1(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return i1(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Cs(this.viewCache_),s=IG(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function kG(t,e){ne(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ne(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function RG(t,e,n,r,i){const s=new bG;let o,a;if(n.type===cr.OVERWRITE){const u=n;u.source.fromUser?o=Eg(t,e,u.path,u.snap,r,i,s):(ne(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!be(u.path),o=Kf(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===cr.MERGE){const u=n;u.source.fromUser?o=OG(t,e,u.path,u.children,r,i,s):(ne(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=wg(t,e,u.path,u.children,r,i,a,s))}else if(n.type===cr.ACK_USER_WRITE){const u=n;u.revert?o=LG(t,e,u.path,r,i,s):o=PG(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===cr.LISTEN_COMPLETE)o=xG(t,e,n.path,r,s);else throw Zo("Unknown operation type: "+n.type);const l=s.getChanges();return NG(e,o,l),{viewCache:o,changes:l}}function NG(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=gg(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(ZW(gg(e)))}}function Ck(t,e,n,r,i,s){const o=e.eventCache;if(Gf(r,n)!=null)return e;{let a,l;if(be(n))if(ne(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Cs(e),f=u instanceof Le?u:Le.EMPTY_NODE,c=Sk(r,f);a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const u=_g(r,Cs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=ke(n);if(u===".priority"){ne(Ui(n)===1,"Can't have a priority with additional path components");const f=o.getNode();l=e.serverCache.getNode();const c=ww(r,n,f,l);c!=null?a=t.filter.updatePriority(f,c):a=o.getNode()}else{const f=ze(n);let c;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const d=ww(r,n,o.getNode(),l);d!=null?c=o.getNode().getImmediateChild(u).updateChild(f,d):c=o.getNode().getImmediateChild(u)}else c=i1(r,u,e.serverCache);c!=null?a=t.filter.updateChild(o.getNode(),u,c,f,i,s):a=o.getNode()}}return ol(e,a,o.isFullyInitialized()||be(n),t.filter.filtersNodes())}}function Kf(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const f=o?t.filter:t.filter.getIndexedFilter();if(be(n))u=f.updateFullNode(l.getNode(),r,null);else if(f.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=f.updateFullNode(l.getNode(),p,null)}else{const p=ke(n);if(!l.isCompleteForPath(n)&&Ui(n)>1)return e;const _=ze(n),E=l.getNode().getImmediateChild(p).updateChild(_,r);p===".priority"?u=f.updatePriority(l.getNode(),E):u=f.updateChild(l.getNode(),p,E,_,bk,null)}const c=yk(e,u,l.isFullyInitialized()||be(n),f.filtersNodes()),d=new s1(i,c,s);return Ck(t,c,n,i,d,a)}function Eg(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const f=new s1(i,e,s);if(be(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=ol(e,u,!0,t.filter.filtersNodes());else{const c=ke(n);if(c===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=ol(e,u,a.isFullyInitialized(),a.isFiltered());else{const d=ze(n),p=a.getNode().getImmediateChild(c);let _;if(be(d))_=r;else{const y=f.getCompleteChild(c);y!=null?rk(d)===".priority"&&y.getChild(sk(d)).isEmpty()?_=y:_=y.updateChild(d,r):_=Le.EMPTY_NODE}if(p.equals(_))l=e;else{const y=t.filter.updateChild(a.getNode(),c,_,d,f,o);l=ol(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Tw(t,e){return t.eventCache.isCompleteForChild(e)}function OG(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const f=bt(n,l);Tw(e,ke(f))&&(a=Eg(t,a,f,u,i,s,o))}),r.foreach((l,u)=>{const f=bt(n,l);Tw(e,ke(f))||(a=Eg(t,a,f,u,i,s,o))}),a}function Sw(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function wg(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;be(n)?u=r:u=new qe(null).setTree(n,r);const f=e.serverCache.getNode();return u.children.inorderTraversal((c,d)=>{if(f.hasChild(c)){const p=e.serverCache.getNode().getImmediateChild(c),_=Sw(t,p,d);l=Kf(t,l,new Ke(c),_,i,s,o,a)}}),u.children.inorderTraversal((c,d)=>{const p=!e.serverCache.isCompleteForChild(c)&&d.value===null;if(!f.hasChild(c)&&!p){const _=e.serverCache.getNode().getImmediateChild(c),y=Sw(t,_,d);l=Kf(t,l,new Ke(c),y,i,s,o,a)}}),l}function PG(t,e,n,r,i,s,o){if(Gf(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(be(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Kf(t,e,n,l.getNode().getChild(n),i,s,a,o);if(be(n)){let u=new qe(null);return l.getNode().forEachChild(To,(f,c)=>{u=u.set(new Ke(f),c)}),wg(t,e,n,u,i,s,a,o)}else return e}else{let u=new qe(null);return r.foreach((f,c)=>{const d=bt(n,f);l.isCompleteForPath(d)&&(u=u.set(f,l.getNode().getChild(d)))}),wg(t,e,n,u,i,s,a,o)}}function xG(t,e,n,r,i){const s=e.serverCache,o=yk(e,s.getNode(),s.isFullyInitialized()||be(n),s.isFiltered());return Ck(t,o,n,r,bk,i)}function LG(t,e,n,r,i,s){let o;if(Gf(r,n)!=null)return e;{const a=new s1(r,e,i),l=e.eventCache.getNode();let u;if(be(n)||ke(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=_g(r,Cs(e));else{const c=e.serverCache.getNode();ne(c instanceof Le,"serverChildren would be complete if leaf node"),f=Sk(r,c)}f=f,u=t.filter.updateFullNode(l,f,s)}else{const f=ke(n);let c=i1(r,f,e.serverCache);c==null&&e.serverCache.isCompleteForChild(f)&&(c=l.getImmediateChild(f)),c!=null?u=t.filter.updateChild(l,f,c,ze(n),a,s):e.eventCache.getNode().hasChild(f)?u=t.filter.updateChild(l,f,Le.EMPTY_NODE,ze(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=_g(r,Cs(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Gf(r,Fe())!=null,ol(e,u,o,t.filter.filtersNodes())}}function MG(t,e){const n=Cs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!be(e)&&!n.getImmediateChild(ke(e)).isEmpty())?n.getChild(e):null}function Aw(t,e,n,r){e.type===cr.MERGE&&e.source.queryId!==null&&(ne(Cs(t.viewCache_),"We should always have a full cache before handling merges"),ne(gg(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=RG(t.processor_,i,e,n,r);return kG(t.processor_,s.viewCache),ne(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,DG(t,s.changes,s.viewCache.eventCache.getNode(),null)}function DG(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return uG(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iw;function VG(t){ne(!Iw,"__referenceConstructor has already been defined"),Iw=t}function o1(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return ne(s!=null,"SyncTree gave us an op for an invalid query."),Aw(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Aw(o,e,n,r));return s}}function a1(t,e){let n=null;for(const r of t.views.values())n=n||MG(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bw;function FG(t){ne(!bw,"__referenceConstructor has already been defined"),bw=t}class Cw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new qe(null),this.pendingWriteTree_=AG(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function UG(t,e,n,r,i){return hG(t.pendingWriteTree_,e,n,r,i),i?oh(t,new bs(pk(),e,n)):[]}function so(t,e,n=!1){const r=pG(t.pendingWriteTree_,e);if(mG(t.pendingWriteTree_,e)){let s=new qe(null);return r.snap!=null?s=s.set(Fe(),!0):Vn(r.children,o=>{s=s.set(new Ke(o),!0)}),oh(t,new Wf(r.path,s,n))}else return[]}function sh(t,e,n){return oh(t,new bs(mk(),e,n))}function BG(t,e,n){const r=qe.fromObject(n);return oh(t,new Kl(mk(),e,r))}function jG(t,e,n,r){const i=Ok(t,r);if(i!=null){const s=Pk(i),o=s.path,a=s.queryId,l=Pn(o,e),u=new bs(gk(a),l,n);return xk(t,o,u)}else return[]}function qG(t,e,n,r){const i=Ok(t,r);if(i){const s=Pk(i),o=s.path,a=s.queryId,l=Pn(o,e),u=qe.fromObject(n),f=new Kl(gk(a),l,u);return xk(t,o,f)}else return[]}function kk(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Pn(o,e),u=a1(a,l);if(u)return u});return Tk(i,e,s,n,!0)}function oh(t,e){return Rk(e,t.syncPointTree_,null,Ek(t.pendingWriteTree_,Fe()))}function Rk(t,e,n,r){if(be(t.path))return Nk(t,e,n,r);{const i=e.get(Fe());n==null&&i!=null&&(n=a1(i,Fe()));let s=[];const o=ke(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,f=Ak(r,o);s=s.concat(Rk(a,l,u,f))}return i&&(s=s.concat(o1(i,t,r,n))),s}}function Nk(t,e,n,r){const i=e.get(Fe());n==null&&i!=null&&(n=a1(i,Fe()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=Ak(r,o),f=t.operationForChild(o);f&&(s=s.concat(Nk(f,a,l,u)))}),i&&(s=s.concat(o1(i,t,r,n))),s}function Ok(t,e){return t.tagToQueryMap.get(e)}function Pk(t){const e=t.indexOf("$");return ne(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ke(t.substr(0,e))}}function xk(t,e,n){const r=t.syncPointTree_.get(e);ne(r,"Missing sync point for query tag that we're tracking");const i=Ek(t.pendingWriteTree_,e);return o1(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new l1(n)}node(){return this.node_}}class u1{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=bt(this.path_,e);return new u1(this.syncTree_,n)}node(){return kk(this.syncTree_,this.path_)}}const zG=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},kw=function(t,e,n){if(!t||typeof t!="object")return t;if(ne(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return $G(t[".sv"],e,n);if(typeof t[".sv"]=="object")return HG(t[".sv"],e);ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},$G=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ne(!1,"Unexpected server value: "+t)}},HG=function(t,e,n){t.hasOwnProperty("increment")||ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ne(!1,"Unexpected increment value: "+r);const i=e.node();if(ne(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},WG=function(t,e,n,r){return c1(e,new u1(n,t),r)},GG=function(t,e,n){return c1(t,new l1(e),n)};function c1(t,e,n){const r=t.getPriority().val(),i=kw(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=kw(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Tt(a,zt(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Tt(i))),o.forEachChild(Ht,(a,l)=>{const u=c1(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function d1(t,e){let n=e instanceof Ke?e:new Ke(e),r=t,i=ke(n);for(;i!==null;){const s=No(r.node.children,i)||{children:{},childCount:0};r=new f1(i,r,s),n=ze(n),i=ke(n)}return r}function da(t){return t.node.value}function Lk(t,e){t.node.value=e,Tg(t)}function Mk(t){return t.node.childCount>0}function KG(t){return da(t)===void 0&&!Mk(t)}function ah(t,e){Vn(t.node.children,(n,r)=>{e(new f1(n,t,r))})}function Dk(t,e,n,r){n&&!r&&e(t),ah(t,i=>{Dk(i,e,!0,r)}),n&&r&&e(t)}function QG(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ku(t){return new Ke(t.parent===null?t.name:ku(t.parent)+"/"+t.name)}function Tg(t){t.parent!==null&&XG(t.parent,t.name,t)}function XG(t,e,n){const r=KG(n),i=Xr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Tg(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Tg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG=/[\[\].#$\/\u0000-\u001F\u007F]/,JG=/[\[\].#$\u0000-\u001F\u007F]/,Tp=10*1024*1024,Vk=function(t){return typeof t=="string"&&t.length!==0&&!YG.test(t)},ZG=function(t){return typeof t=="string"&&t.length!==0&&!JG.test(t)},eK=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ZG(t)},Fk=function(t,e,n){const r=n instanceof Ke?new xW(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Yi(r));if(typeof e=="function")throw new Error(t+"contains a function "+Yi(r)+" with contents = "+e.toString());if(DC(e))throw new Error(t+"contains "+e.toString()+" "+Yi(r));if(typeof e=="string"&&e.length>Tp/3&&Sd(e)>Tp)throw new Error(t+"contains a string greater than "+Tp+" utf8 bytes "+Yi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Vn(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Vk(o)))throw new Error(t+" contains an invalid key ("+o+") "+Yi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);LW(r,o),Fk(t,a,r),MW(r)}),i&&s)throw new Error(t+' contains ".value" child '+Yi(r)+" in addition to actual children.")}},tK=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Vk(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!eK(n))throw new Error(gV(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function rK(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!ok(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Ds(t,e,n){rK(t,n),iK(t,r=>Wn(r,e)||Wn(e,r))}function iK(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(sK(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function sK(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();fs&&qt("event: "+n.toString()),bu(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oK="repo_interrupt",aK=25;class lK{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nK,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Hf(),this.transactionQueueTree_=new f1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function uK(t,e,n){if(t.stats_=Jy(t.repoInfo_),t.forceRestClient_||iW())t.server_=new $f(t.repoInfo_,(r,i,s,o)=>{Rw(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Nw(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Pt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Mr(t.repoInfo_,e,(r,i,s,o)=>{Rw(t,r,i,s,o)},r=>{Nw(t,r)},r=>{fK(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=uW(t.repoInfo_,()=>new lG(t.stats_,t.server_)),t.infoData_=new rG,t.infoSyncTree_=new Cw({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=sh(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),h1(t,"connected",!1),t.serverSyncTree_=new Cw({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Ds(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function cK(t){const n=t.infoData_.getNode(new Ke(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Uk(t){return zG({timestamp:cK(t)})}function Rw(t,e,n,r,i){t.dataUpdateCount++;const s=new Ke(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=yf(n,u=>zt(u));o=qG(t.serverSyncTree_,s,l,i)}else{const l=zt(n);o=jG(t.serverSyncTree_,s,l,i)}else if(r){const l=yf(n,u=>zt(u));o=BG(t.serverSyncTree_,s,l)}else{const l=zt(n);o=sh(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=m1(t,s)),Ds(t.eventQueue_,a,o)}function Nw(t,e){h1(t,"connected",e),e===!1&&hK(t)}function fK(t,e){Vn(e,(n,r)=>{h1(t,n,r)})}function h1(t,e,n){const r=new Ke("/.info/"+e),i=zt(n);t.infoData_.updateSnapshot(r,i);const s=sh(t.infoSyncTree_,r,i);Ds(t.eventQueue_,r,s)}function dK(t){return t.nextWriteId_++}function hK(t){Bk(t,"onDisconnectEvents");const e=Uk(t),n=Hf();mg(t.onDisconnect_,Fe(),(i,s)=>{const o=WG(i,s,t.serverSyncTree_,e);hk(n,i,o)});let r=[];mg(n,Fe(),(i,s)=>{r=r.concat(sh(t.serverSyncTree_,i,s));const o=vK(t,i);m1(t,o)}),t.onDisconnect_=Hf(),Ds(t.eventQueue_,Fe(),r)}function pK(t){t.persistentConnection_&&t.persistentConnection_.interrupt(oK)}function Bk(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),qt(n,...e)}function jk(t,e,n){return kk(t.serverSyncTree_,e,n)||Le.EMPTY_NODE}function p1(t,e=t.transactionQueueTree_){if(e||lh(t,e),da(e)){const n=zk(t,e);ne(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&mK(t,ku(e),n)}else Mk(e)&&ah(e,n=>{p1(t,n)})}function mK(t,e,n){const r=n.map(u=>u.currentWriteId),i=jk(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const f=n[u];ne(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const c=Pn(e,f.path);s=s.updateChild(c,f.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{Bk(t,"transaction put response",{path:l.toString(),status:u});let f=[];if(u==="ok"){const c=[];for(let d=0;d<n.length;d++)n[d].status=2,f=f.concat(so(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&c.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();lh(t,d1(t.transactionQueueTree_,e)),p1(t,t.transactionQueueTree_),Ds(t.eventQueue_,e,f);for(let d=0;d<c.length;d++)bu(c[d])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{En("transaction at "+l.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}m1(t,e)}},o)}function m1(t,e){const n=qk(t,e),r=ku(n),i=zk(t,n);return gK(t,i,r),r}function gK(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Pn(n,l.path);let f=!1,c;if(ne(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)f=!0,c=l.abortReason,i=i.concat(so(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=aK)f=!0,c="maxretry",i=i.concat(so(t.serverSyncTree_,l.currentWriteId,!0));else{const d=jk(t,l.path,o);l.currentInputSnapshot=d;const p=e[a].update(d.val());if(p!==void 0){Fk("transaction failed: Data returned ",p,l.path);let _=zt(p);typeof p=="object"&&p!=null&&Xr(p,".priority")||(_=_.updatePriority(d.getPriority()));const E=l.currentWriteId,m=Uk(t),h=GG(_,d,m);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=h,l.currentWriteId=dK(t),o.splice(o.indexOf(E),1),i=i.concat(UG(t.serverSyncTree_,l.path,h,l.currentWriteId,l.applyLocally)),i=i.concat(so(t.serverSyncTree_,E,!0))}else f=!0,c="nodata",i=i.concat(so(t.serverSyncTree_,l.currentWriteId,!0))}Ds(t.eventQueue_,n,i),i=[],f&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(c==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(c),!1,null))))}lh(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)bu(r[a]);p1(t,t.transactionQueueTree_)}function qk(t,e){let n,r=t.transactionQueueTree_;for(n=ke(e);n!==null&&da(r)===void 0;)r=d1(r,n),e=ze(e),n=ke(e);return r}function zk(t,e){const n=[];return $k(t,e,n),n.sort((r,i)=>r.order-i.order),n}function $k(t,e,n){const r=da(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ah(e,i=>{$k(t,i,n)})}function lh(t,e){const n=da(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Lk(e,n.length>0?n:void 0)}ah(e,r=>{lh(t,r)})}function vK(t,e){const n=ku(qk(t,e)),r=d1(t.transactionQueueTree_,e);return QG(r,i=>{Sp(t,i)}),Sp(t,r),Dk(r,i=>{Sp(t,i)}),n}function Sp(t,e){const n=da(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ne(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(ne(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(so(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Lk(e,void 0):n.length=s+1,Ds(t.eventQueue_,ku(e),i);for(let o=0;o<r.length;o++)bu(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yK(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function _K(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):En(`Invalid query segment '${n}' in query '${t}'`)}return e}const Ow=function(t,e){const n=EK(t),r=n.namespace;n.domain==="firebase.com"&&Gr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Gr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||XH();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new KC(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Ke(n.pathString)}},EK=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let f=t.indexOf("/");f===-1&&(f=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(f,c)),f<c&&(i=yK(t.substring(f,c)));const d=_K(t.substring(Math.min(t.length,c)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return be(this._path)?null:rk(this._path)}get ref(){return new ha(this._repo,this._path)}get _queryIdentifier(){const e=gw(this._queryParams),n=Xy(e);return n==="{}"?"default":n}get _queryObject(){return gw(this._queryParams)}isEqual(e){if(e=gt(e),!(e instanceof g1))return!1;const n=this._repo===e._repo,r=ok(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+PW(this._path)}}class ha extends g1{constructor(e,n){super(e,n,new n1,!1)}get parent(){const e=sk(this._path);return e===null?null:new ha(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}VG(ha);FG(ha);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wK="FIREBASE_DATABASE_EMULATOR_HOST",Sg={};let TK=!1;function SK(t,e,n,r){t.repoInfo_=new KC(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function AK(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Gr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Ow(s,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[wK]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=Ow(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const f=i&&l?new wo(wo.OWNER):new oW(t.name,t.options,e);tK("Invalid Firebase Database URL",o),be(o.path)||Gr("Database URL must point to the root of a Firebase Database (not including a child path).");const c=bK(a,t,f,new sW(t.name,n));return new CK(c,t)}function IK(t,e){const n=Sg[e];(!n||n[t.key]!==t)&&Gr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),pK(t),delete n[t.key]}function bK(t,e,n,r){let i=Sg[e.name];i||(i={},Sg[e.name]=i);let s=i[t.toURLString()];return s&&Gr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new lK(t,TK,n,r),i[t.toURLString()]=s,s}class CK{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(uK(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ha(this._repo,Fe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(IK(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Gr("Cannot call "+e+" on a deleted database.")}}function kK(t=Id(),e){const n=nu(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=bv("database");r&&RK(n,...r)}return n}function RK(t,e,n,r={}){t=gt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Gr("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Gr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new wo(wo.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:kv(r.mockUserToken,t.app.options.projectId);s=new wo(o)}SK(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NK(t){HH($i),Li(new Br("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return AK(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Ln(JE,ZE,t),Ln(JE,ZE,"esm2017")}Mr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Mr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};NK();const OK={apiKey:"AIzaSyAjlyQ4FNGkZ_RJO8C7XlvlFI857-SAto4",authDomain:"vmr-blog.firebaseapp.com",projectId:"vmr-blog",storageBucket:"vmr-blog.appspot.com",messagingSenderId:"132750076504",appId:"1:132750076504:web:f02300baa757e98634f82d"},PK=aA(OK);kK();const vr=dq(),Hk=Dz(),Pw=$H(PK),uh=we.createContext({user:null,setUser(t){}});async function xK(){const t=await Zd(yu(vr,"posts"));try{return(await Promise.allSettled(t.docs.map(async n=>n.data()))).filter(n=>n.status=="fulfilled").map(n=>n.value)}catch{return[]}}const LK=xK(),MK=({post:t})=>M("article",{className:gn.post_article,children:G(vs,{className:gn.post_container,to:`/blog/${t.id}`,children:[t.image&&M("img",{className:gn.post_image,src:t.image,alt:t.title}),G("div",{className:gn.post_content,children:[M("h3",{className:gn.post_title,children:t.title}),M("p",{className:gn.post_text,children:t.text})]})]})});function DK(t){return M("li",{className:gn.post,children:M(MK,{post:t})},t.id)}const VK=t=>{const{user:e}=we.useContext(uh),[n,r]=we.useState(!0),[i,s]=we.useState([]);return we.useEffect(()=>{(async()=>{const a=await LK;s(a),r(!1)})()},[]),M("main",{children:G("section",{className:gn.container,children:[G("div",{className:gn.headerGroup,children:[M("h1",{className:gn.title,children:""}),e&&M(vs,{to:"/create-post",className:gn.addPostButton,children:"+"})]}),n?M(P2,{className:gn.loader}):M("ul",{className:gn.postsGrid,children:i.map(DK)})]})})},FK="_container_1aj3o_1",UK="_postControls_1aj3o_10",BK="_editorHandler_1aj3o_24",jK="_saveButton_1aj3o_25",qK="_saveButtonSpan_1aj3o_40",zK="_deleteButton_1aj3o_45",$K="_confirmationButton_1aj3o_45",HK="_confirmationGroup_1aj3o_64",WK="_loader_1aj3o_71",GK="_inputsGroup_1aj3o_75",KK="_input_1aj3o_75",QK="_fileInput_1aj3o_91",XK="_caption_1aj3o_99",YK="_post_1aj3o_10",st={container:FK,postControls:UK,editorHandler:BK,saveButton:jK,saveButtonSpan:qK,deleteButton:zK,confirmationButton:$K,confirmationGroup:HK,loader:WK,inputsGroup:GK,input:KK,fileInput:QK,caption:XK,post:YK};function JK(t){const[e,n]=Y.useState(null),[r,i]=Y.useState(!0),[s,o]=Y.useState(null);return Y.useEffect(()=>{async function a(){try{const l=Fi(vr,"posts",t),u=await Ob(l);if(u.exists()){const f=yu(vr,`posts/${t}/content`),c=Tq(f,Sq("sort")),d=await Zd(c);let p="";d.docs.forEach(_=>p+=_.data().value),n({...u.data(),content:p})}else n({title:"",text:"",content:"   .  ",id:t});i(!1)}catch(l){console.log(l)}}a()},[]),{postData:e,setPostData:n,loading:r,error:s}}async function ZK(t){const e=(({content:o,...a})=>a)(t),n=t.content,r=yu(vr,`posts/${t.id}/content`),i=await Zd(r);for(let o=0;o<i.docs.length;o++)await Ly(i.docs[o].ref);const s=n.match(/.{0,500000}/g);for(let o=0;o<(s==null?void 0:s.length);o++)await Mf(Fi(r),{sort:o,value:s[o]});await Mf(Fi(vr,"posts",t.id),e)}const eQ=()=>{const{postId:t}=A4(),{user:e}=Y.useContext(uh),[n,r]=Y.useState(!0),[i,s]=Y.useState(!1),o=Y.useRef(null),[a,l]=Y.useState(!1),[u,f]=Y.useState(!1),[c,d]=Y.useState(null),{loading:p,postData:_,setPostData:y}=JK(t),E=h=>{const v=new FileReader;h.target.files[0]&&v.readAsDataURL(h.target.files[0]),v.onload=g=>{var w;d((w=g.target)==null?void 0:w.result)}};async function m(h){h.preventDefault(),l(!0);let v={..._};if(c&&typeof c=="string"){const g=Zb(Hk,`${t}/preview`);await Yb(g,c,"data_url").then(async()=>v.image=await Jb(g))}try{await ZK(v),f(!0),l(!1)}catch(g){console.error(g)}setTimeout(()=>f(!1),3e3)}return Y.useEffect(()=>{_&&n&&o.current&&(o.current.innerHTML=_.content)},[_,n]),p?M("main",{className:st.main,children:M("section",{className:st.container,children:M(P2,{className:st.loader})})}):G("main",{className:st.main,children:[G("section",{className:st.container,children:[e&&G("div",{className:st.postControls,children:[M("button",{onClick:()=>{r(h=>!h)},className:st.editorHandler,children:n?"":""}),M("button",{onClick:()=>s(!0),className:st.deleteButton,children:""})]}),e&&n?M("div",{ref:o,className:st.post}):G("form",{onSubmit:m,children:[G("div",{className:st.inputsGroup,children:[G("div",{children:[M("p",{className:st.caption,children:""}),M("input",{value:_.title,onChange:h=>y({..._,title:h.target.value}),type:"text",className:st.input,placeholder:""})]}),G("div",{children:[M("p",{className:st.caption,children:""}),M("input",{value:_.text,onChange:h=>y({..._,text:h.target.value}),type:"text",className:st.input,placeholder:""})]}),G("label",{className:st.fileInput,children:[M("p",{className:st.caption,children:": (16x9)"}),c&&typeof c=="string"?M("img",{src:c,alt:"Preview image"}):M("img",{src:_.image||"/assets/images/placeholder.webp",alt:"Placeholder image"}),M("input",{accept:"image/*",type:"file",hidden:!0,onChange:E})]})]}),M(O2,{value:_.content,setValue:h=>y({..._,content:h})}),e&&G("div",{children:[M("button",{disabled:a,type:"submit",className:st.saveButton,children:""}),u&&M("span",{className:st.saveButtonSpan,children:"!"})]})]})]}),i&&G(J9,{modal:i,setModal:s,children:[M("p",{children:"     ?"}),G("div",{className:st.confirmationGroup,children:[M("button",{onClick:async()=>{s(!1),await Ly(Fi(vr,"posts",t)),window.location.href="/blog"},className:st.confirmationButton,children:""}),M("button",{onClick:()=>{s(!1)},className:st.confirmationButton,children:""})]})]})]})},tQ="_container_12hfe_1",nQ="_form_12hfe_12",rQ="_group_12hfe_17",iQ="_input_12hfe_23",sQ="_button_12hfe_33",oQ="_errorMessage_12hfe_49",aQ="_completeLogin_12hfe_54",rr={container:tQ,form:nQ,group:rQ,input:iQ,button:sQ,errorMessage:oQ,completeLogin:aQ};async function lQ(t){try{const e=Fi(vr,"users",t),n=await Ob(e);return n.exists()?n.data():null}catch{return null}}const uQ=t=>{const{user:e,setUser:n}=we.useContext(uh),[r,i]=we.useState({email:"",password:""}),[s,o]=we.useState(""),a=({email:l,password:u},f)=>{R$(Pw,l,u).then(c=>{lQ(c.user.uid).then(d=>{d&&(n(d),localStorage.setItem("user",JSON.stringify(d)))})}).catch(c=>{switch(c.code){case"auth/wrong-password":f(" ");break;case"auth/user-not-found":f(" ");break;default:f(c.code)}})};return M("main",{children:M("section",{className:rr.container,children:e?G("div",{className:rr.completeLogin,children:[G("p",{children:["   ",M("strong",{children:e.email})]}),G("div",{className:rr.group,children:[M(vs,{to:"/blog",children:"  "}),M("button",{onClick:()=>{P$(Pw),n(null),localStorage.removeItem("user")},children:""})]})]}):G("form",{onSubmit:l=>{l.preventDefault(),a(r,o)},className:rr.form,children:[M("h2",{className:rr.title,children:""}),G("div",{className:rr.group,children:[M("input",{className:rr.input,type:"email",name:"email",id:"email",placeholder:"Email",value:r.email,onChange:l=>{o(""),i({...r,email:l.target.value})}}),M("input",{className:rr.input,type:"password",name:"password",id:"password",placeholder:"",value:r.password,onChange:l=>{o(""),i({...r,password:l.target.value})}})]}),M("button",{className:rr.button,type:"submit",children:""}),s&&M("p",{className:rr.errorMessage,children:s})]})})})},cQ="_container_cyk69_1",fQ="_postControls_cyk69_10",dQ="_editorHandler_cyk69_24",hQ="_saveButton_cyk69_25",pQ="_saveButtonSpan_cyk69_40",mQ="_deleteButton_cyk69_45",gQ="_confirmationButton_cyk69_45",vQ="_confirmationGroup_cyk69_64",yQ="_loader_cyk69_71",_Q="_inputsGroup_cyk69_75",EQ="_input_cyk69_75",wQ="_fileInput_cyk69_91",TQ="_caption_cyk69_99",SQ="_post_cyk69_10",hn={container:cQ,postControls:fQ,editorHandler:dQ,saveButton:hQ,saveButtonSpan:pQ,deleteButton:mQ,confirmationButton:gQ,confirmationGroup:vQ,loader:yQ,inputsGroup:_Q,input:EQ,fileInput:wQ,caption:TQ,post:SQ};async function AQ(t){const e=(({content:o,...a})=>a)(t),n=t.content,r=yu(vr,`posts/${t.id}/content`),i=await Zd(r);for(let o=0;o<i.docs.length;o++)await Ly(i.docs[o].ref);const s=n.match(/.{0,500000}/g);for(let o=0;o<(s==null?void 0:s.length);o++)await Mf(Fi(r),{sort:o,value:s[o]});await Mf(Fi(vr,"posts",t.id),e)}const IQ=t=>{const e=Y.useRef(null),[n,r]=Y.useState({content:"",image:"",text:"",title:""}),[i,s]=Y.useState(!1),[o,a]=Y.useState("/assets/images/placeholder.webp"),[l,u]=Y.useState(!1),f=d=>{const p=new FileReader;d.target.files[0]&&p.readAsDataURL(d.target.files[0]),p.onload=_=>{var y;a((y=_.target)==null?void 0:y.result)}};async function c(d){d.preventDefault(),u(!0);const p=await Cq(yu(vr,"posts"),{});let _={...n,id:p.id};if(o&&typeof o=="string"){const y=Zb(Hk,`${_.id}/preview`);await Yb(y,o,"data_url").then(async()=>_.image=await Jb(y))}try{await AQ(_),window.location.href="/blog"}catch(y){console.error(y)}}return Y.useEffect(()=>{i&&e.current&&(e.current.innerHTML=n.content)},[n,i]),M("main",{className:hn.main,children:G("section",{className:hn.container,children:[M("div",{className:hn.postControls,children:M("button",{onClick:()=>{s(d=>!d)},className:hn.editorHandler,children:i?"":""})}),i?M("div",{ref:e,className:hn.post}):G("form",{onSubmit:c,children:[G("div",{className:hn.inputsGroup,children:[G("div",{children:[M("p",{className:hn.caption,children:""}),M("input",{required:!0,value:n.title,onChange:d=>r({...n,title:d.target.value}),type:"text",className:hn.input,placeholder:""})]}),G("div",{children:[M("p",{className:hn.caption,children:""}),M("input",{required:!0,value:n.text,onChange:d=>r({...n,text:d.target.value}),type:"text",className:hn.input,placeholder:""})]}),G("label",{className:hn.fileInput,children:[M("p",{className:hn.caption,children:": (16x9)"}),o&&typeof o=="string"?M("img",{src:o,alt:"Preview image"}):M("img",{src:"/assets/images/placeholder.webp",alt:"Placeholder image"}),M("input",{required:!0,accept:"image/*",type:"file",hidden:!0,onChange:f})]})]}),M(O2,{value:n.content,setValue:d=>r({...n,content:d})}),M("div",{children:M("button",{type:"submit",className:hn.saveButton,disabled:l,children:""})})]})]})})};function bQ(){const t=localStorage.getItem("user"),[e,n]=we.useState(!1),[r,i]=we.useState(t?JSON.parse(t):null);return M(uh.Provider,{value:{user:r,setUser:i},children:M("div",{className:"App",children:G($4,{children:[M(K4,{setMobileMenu:n}),G(F4,{children:[M(js,{path:"/",element:M(L8,{})}),M(js,{path:"/blog",element:M(VK,{})}),M(js,{path:"/blog/:postId",element:M(eQ,{})}),M(js,{path:"/login",element:M(uQ,{})}),r&&M(js,{path:"/create-post",element:M(IQ,{})})]}),M(ax,{}),M(rx,{visible:e,setVisible:n})]})})})}wP.init({once:!0,delay:100});Ap.createRoot(document.getElementById("root")).render(M(we.StrictMode,{children:M(bQ,{})}));
